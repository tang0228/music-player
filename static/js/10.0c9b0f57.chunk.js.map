{"version":3,"sources":["common/tabs.js","pages/Search/modules/MusicItem.jsx","pages/Search/modules/SingerItem.jsx","pages/Search/modules/AlbumItem.jsx","pages/Search/modules/VideoItem.jsx","pages/Search/modules/WordsItem.jsx","pages/Search/modules/Words.jsx","pages/Search/modules/PlayList.jsx","pages/Search/modules/DjItem.jsx","pages/Search/modules/UserProfile.jsx","pages/Search/modules/SearchNote.jsx","pages/Search/index.jsx","assets/loading.svg"],"names":["searchTabs","text","key","artistTabs","connect","state","song","dispatch","addSong","addSongAction","setCurSongId","setCurSongIdAction","props","playMusic","id","a","getMusicPlayUrl","res","code","data","url","items","songs","map","index","className","utils","isEven","onClick","style","flex","to","name","mvid","artists","item","i","album","formatTime","duration","SingerItem","singLis","singers","s","height","debounce","placeholder","width","src","loadingUrl","img1v1Url","alt","identityIconUrl","curSongId","addSongs","addSongListAction","albums","addSongList","getAlbum","then","Toast","success","content","list","al","blurPicUrl","bind","artist","VideoItem","videos","v","vid","coverUrl","Number","playTime","toFixed","durationms","title","creator","userName","useState","open","setOpen","play","lyrics","txt","split","slice","join","Words","words","w","playlist","getPlayListDetail","tracks","t","p","coverImgUrl","trackCount","userId","nickname","bookCount","parseInt","playCount","DjItem","djs","d","picUrl","desc","dj","gender","UserProfile","users","u","avatarUrl","signature","type","playlistCount","followeds","SearchNote","keyword","total","typeText","getTextByType","Search","limit","setLimit","page","setPage","setType","loading","setLoading","location","useLocation","history","useHistory","keywords","qs","parse","search","setS","setSongs","setSingers","setAlbums","setVideos","setWords","setPlaylist","setDjs","setUsers","setTotal","inpSearch","offset","result","songCount","artistCount","albumCount","videoCount","playlists","djRadios","djRadiosCount","userprofiles","userprofileCount","useEffect","tabpanes","tab","itemKey","suffix","color","border","value","size","showClear","onEnterPress","push","warning","onChange","val","currentPage","onPageChange","showSizeChanger","pageSize","pageSizeOpts","onPageSizeChange","image","darkModeImage","description","spinning","tip","position","top","left","transform","zIndex"],"mappings":"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","file":"static/js/10.0c9b0f57.chunk.js","sourcesContent":["// 搜索的tabs\r\nexport const searchTabs = [\r\n    {text: \"单曲\", key: \"1\"},\r\n    {text: \"歌手\", key: \"100\"},\r\n    {text: \"专辑\", key: \"10\"},\r\n    {text: \"视频\", key: \"1014\"},\r\n    {text: \"歌词\", key: \"1006\"},\r\n    {text: \"歌单\", key: \"1000\"},\r\n    {text: \"声音主播\", key: \"1009\"},\r\n    {text: \"用户\", key: \"1002\"},\r\n];\r\n\r\nexport const artistTabs = [\r\n    {text: \"热门作品\", key: \"song\"},\r\n    {text: \"所有专辑\", key: \"album\"},\r\n    {text: \"相关MV\", key: \"mv\"},\r\n    {text: \"艺人介绍\", key: \"desc\"},\r\n]\r\n","import React from 'react';\r\nimport \"./musicItem.less\";\r\nimport utils from '../../../utils';\r\nimport { getMusicPlayUrl } from \"../../../services/apis\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { addSongAction } from '../../../store/actions/song';\r\nimport { setCurSongIdAction } from \"@/store/actions/curSongId\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        song: state.song\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addSong: (...args) => dispatch(addSongAction(...args)),\r\n        setCurSongId: (...args) => dispatch(setCurSongIdAction(...args))\r\n    };\r\n};\r\n\r\nfunction MusicItem(props) {\r\n    const { addSong, setCurSongId } = props;\r\n    const playMusic = async (id) => {\r\n        const res = await getMusicPlayUrl({ id });\r\n        setCurSongId(id);\r\n        if (res.code === 200 && res.data[0].url) {\r\n            addSong(res.data);\r\n        }\r\n    };\r\n\r\n    const songs = props.songs;\r\n    const items = songs.map((song, index) => (\r\n        <li key={song.id} className={`${utils.isEven(index + 1) ? 'search-item' : 'search-item even'}`}>\r\n            <i className=\"music-play\" onClick={() => {\r\n                playMusic(song.id)\r\n            }}></i>\r\n            <div className='song-wrap' style={{ flex: '1' }}>\r\n                <Link to={'/find/song?id=' + song.id} className=\"name\">{song.name}</Link>\r\n                {song.mvid ? <Link to={`/find/mv?id=` + song.mvid} className=\"music-mv\"></Link> : null}\r\n            </div>\r\n            <div className=\"operates\">\r\n                <i className=\"icon icon-add\"></i>\r\n                <i className=\"icon icon-fav\"></i>\r\n                <i className=\"icon icon-share\"></i>\r\n                <i className=\"icon icon-down\"></i>\r\n            </div>\r\n            <div className=\"singers\">\r\n                {song.artists && song.artists.map((item, i) => <Link className=\"singer-name\" to={'/find/artist?id=' + item.id} key={item.id}>{i === 0 ? item.name : `/${item.name}`}</Link>)}\r\n            </div>\r\n            <Link to={'/find/album?id=' + song.album.id} className=\"album\">《{song.album.name}》</Link>\r\n            <div className=\"duration\">{utils.formatTime(song.duration)}</div>\r\n        </li>\r\n    ))\r\n    return (\r\n        <ul className=\"music-container\">\r\n            {items}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MusicItem);\r\n\r\n\r\n","import React from 'react';\r\nimport LazyLoad from 'react-lazyload';\r\nimport \"./singerItem.less\";\r\nimport { Link } from \"react-router-dom\";\r\nimport loadingUrl from \"@/assets/loading.svg\";\r\n\r\nexport default function SingerItem(props) {\r\n    const singers = props.singers;\r\n    const singLis = singers.map(s =>(\r\n        <li key={s.id} className=\"singer-item\">\r\n            <div className=\"singer-img\">\r\n                <Link to={'/find/artist?id=' + s.id}>\r\n                    <LazyLoad height={130} debounce={500} placeholder={<img width=\"100%\" height=\"100%\" src={loadingUrl} />}>\r\n                        <img src={s.img1v1Url} alt=\"\" />\r\n                        <span className=\"mask\"></span>\r\n                    </LazyLoad>\r\n                </Link>\r\n            </div>\r\n            <p className=\"singer-name\">\r\n                <Link to={'/find/artist?id=' + s.id} className=\"name\">{s.name}</Link>\r\n                {s.identityIconUrl ? <img src={s.identityIconUrl} alt=\"\" /> : null}\r\n            </p>\r\n        </li>\r\n    ))\r\n    return (\r\n        <ul className=\"singer-content\">\r\n            {singLis}\r\n        </ul>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport \"./albumItem.less\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport { Link } from \"react-router-dom\";\r\nimport loadingUrl from \"@/assets/loading.svg\";\r\nimport { getAlbum } from '@/services/apis';\r\nimport { Toast } from \"@douyinfe/semi-ui\";\r\nimport { addSongListAction } from \"@/store/actions/song\";\r\nimport { setCurSongIdAction } from \"@/store/actions/curSongId\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        curSongId: state.curSongId,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setCurSongId: (...args) => dispatch(setCurSongIdAction(...args)),\r\n        addSongs: (...args) => dispatch(addSongListAction(...args))\r\n    };\r\n};\r\n\r\nfunction AlbumItem(props) {\r\n    const {albums, setCurSongId, addSongs} = props;\r\n\r\n    const addSongList = id => {\r\n        getAlbum({ id }).then(res => {\r\n            if (res.code === 200) {\r\n                Toast.success({\r\n                    content: \"成功添加新碟到播放列表\",\r\n                    duration: 2,\r\n                });\r\n                const list = res.songs.map(s => ({\r\n                    id: s.id,\r\n                    url: \"https://music.163.com/song/media/outer/url?id=\" + s.id + '.mp3',\r\n                    song: s\r\n                }));\r\n                addSongs(list);\r\n                setCurSongId(list[0].id);\r\n            }\r\n        })\r\n    }\r\n\r\n    const items = albums.map(al => (\r\n        <li key={al.id} className=\"album-item\">\r\n            <div className=\"album-img\">\r\n                <Link to={'/find/album?id=' + al.id}>\r\n                    <LazyLoad height={130} debounce={500} placeholder={<img width=\"100%\" height=\"100%\" src={loadingUrl} />}>\r\n                        <img src={al.blurPicUrl} alt=\"\" />\r\n                        <span className=\"mask\"></span>\r\n                    </LazyLoad>\r\n                </Link>\r\n                <i className=\"album-play\" onClick={addSongList.bind(null, al.id)}></i>\r\n            </div>\r\n            <Link to={'/find/album?id=' + al.id} className=\"album-name\">{al.name}</Link>\r\n            <Link to={'/find/artist?id=' + al.artist.id} className=\"singer-name\">{al.artist.name}</Link>\r\n        </li>\r\n    ))\r\n    return (\r\n        <ul className=\"album-container\">\r\n            {items}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AlbumItem);\r\n","import React from \"react\";\r\nimport \"./videoItem.less\";\r\nimport utils from \"../../../utils\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport { Link } from \"react-router-dom\";\r\nimport loadingUrl from \"@/assets/loading.svg\";\r\n\r\nexport default function VideoItem(props) {\r\n\tconst videos = props.videos;\r\n\tconst items = videos.map((v) => (\r\n\t\t<li key={v.vid} className=\"video-item\">\r\n\t\t\t<Link to={'/find/mv?id=' + v.vid}>\r\n\t\t\t\t<div className=\"video-img\">\r\n\t\t\t\t\t<LazyLoad height={90} debounce={500} placeholder={<img width=\"100%\" height=\"100%\" src={loadingUrl} />}>\r\n\t\t\t\t\t\t<img src={v.coverUrl} alt=\"\" />\r\n\t\t\t\t\t</LazyLoad>\r\n\t\t\t\t\t<div className=\"play-nums\">\r\n\t\t\t\t\t\t<i className=\"icon-video\"></i>\r\n\t\t\t\t\t\t{/* <IconUserCardVideo /> */}\r\n\t\t\t\t\t\t<span className=\"nums\">\r\n\t\t\t\t\t\t\t{Number(v.playTime / 10000).toFixed(1)}万\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span className=\"video-duration\">\r\n\t\t\t\t\t\t{utils.formatTime(v.durationms)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"video-name\">{v.title}</div>\r\n\t\t\t<div className=\"singer-name\">by {v.creator[0].userName}</div>\r\n\t\t</li>\r\n\t));\r\n\treturn <ul className=\"video-container\">{items}</ul>;\r\n}\r\n","import React, { useState } from 'react';\r\nimport \"./wordsItem.less\";\r\nimport { IconChevronUp, IconChevronDown } from \"@douyinfe/semi-icons\"\r\nimport utils from '../../../utils';\r\nimport { Link } from \"react-router-dom\";\r\nimport { getMusicPlayUrl } from '../../../services/apis';\r\nimport { connect } from 'react-redux';\r\nimport { addSongAction } from '../../../store/actions/song';\r\nimport { setCurSongIdAction } from \"@/store/actions/curSongId\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        song: state.song\r\n    }\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addSong: (...args) => dispatch(addSongAction(...args)),\r\n        setCurSongId: (...args) => dispatch(setCurSongIdAction(...args))\r\n    }\r\n}\r\n\r\nfunction WordsItem(props) {\r\n    const { addSong, setCurSongId } = props;\r\n    const [open, setOpen] = useState(false); // 是否展开\r\n    const handleClick = () => {\r\n        setOpen(!open)\r\n    };\r\n\r\n    const play = async (id) => {\r\n        const res = await getMusicPlayUrl({ id });\r\n        setCurSongId(id);\r\n        if (res.code === 200 && res.data[0].url) {\r\n            addSong(res.data);\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"words-item\" key={props.id}>\r\n            <div className={`${utils.isEven(props.index + 1) ? 'words-header' : 'words-header even'}`}>\r\n                <div className=\"name\">\r\n                    <i className=\"word-play\" onClick={() => {\r\n                        play(props.id)\r\n                    }}></i>\r\n                    <Link to={'/find/song?id=' + props.id} className=\"ml8\">{props.name}</Link>\r\n                </div>\r\n                <div className=\"operates\">\r\n                    <i className=\"icon icon-add\"></i>\r\n                    <i className=\"icon icon-fav\"></i>\r\n                    <i className=\"icon icon-share\"></i>\r\n                    <i className=\"icon icon-down\"></i>\r\n                </div>\r\n                <div className=\"singers\">\r\n                    {props.artists.map((a, i) => <Link to={'/find/artist?id=' + a.id} key={a.id}>{i === 0 ? a.name : '/' + a.name}</Link>)}\r\n                </div>\r\n                <Link to={'/find/album?id=' + props.album.id} className=\"alnum\">{props.album.name}</Link>\r\n                <span className=\"duration\">{utils.formatTime(props.duration)}</span>\r\n            </div>\r\n            <div className=\"words-lyric\">\r\n                {!open ? props.lyrics.txt.split(\"\\n\").slice(0, 4).join(\"\\n\") : props.lyrics.txt}\r\n                <div className=\"arrow\" onClick={handleClick}>\r\n                    <span className=\"text\">{open ? '收起' : '展开'}</span>\r\n                    {open ? <IconChevronUp /> : <IconChevronDown />}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WordsItem)\r\n","import React from \"react\";\r\nimport WordsItem from \"./WordsItem\";\r\n\r\nexport default function Words(props) {\r\n  const words = props.words;\r\n  const items = words.map((w, i) => <WordsItem key={w.id} {...w} index={i} ></WordsItem>);\r\n  return <div className=\"words-container\">\r\n      {items}\r\n  </div>;\r\n}\r\n","import React from \"react\";\r\nimport utils from \"../../../utils\";\r\nimport \"./playList.less\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport { Link } from \"react-router-dom\";\r\nimport loadingUrl from \"@/assets/loading.svg\";\r\nimport { getPlayListDetail } from \"@/services/apis\";\r\nimport { Toast } from \"@douyinfe/semi-ui\";\r\nimport { addSongListAction } from \"@/store/actions/song\";\r\nimport { setCurSongIdAction } from \"@/store/actions/curSongId\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tcurSongId: state.curSongId,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsetCurSongId: (...args) => dispatch(setCurSongIdAction(...args)),\r\n\t\taddSongs: (...args) => dispatch(addSongListAction(...args))\r\n\t};\r\n};\r\n\r\nfunction PlayList(props) {\r\n\tconst { playlist, addSongs, setCurSongId } = props;\r\n\r\n\t// 添加歌单到播放列表\r\n\tconst addSongList = id => {\r\n\t\tgetPlayListDetail({ id }).then(res => {\r\n\t\t\tif (res.code === 200) {\r\n\t\t\t\tToast.success({\r\n\t\t\t\t\tcontent: \"成功添加歌单到播放列表\",\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tconst list = res.playlist.tracks.map(t => ({\r\n\t\t\t\t\tid: t.id,\r\n\t\t\t\t\turl: 'https://music.163.com/song/media/outer/url?id=' + t.id + '.mp3',\r\n\t\t\t\t\tsong: t\r\n\t\t\t\t}));\r\n\t\t\t\taddSongs(list);\r\n\t\t\t\tsetCurSongId(list[0].id);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst items = playlist.map((p, i) => (\r\n\t\t<li\r\n\t\t\tclassName={utils.isEven(i + 1) ? \"play-item\" : \"play-item even\"}\r\n\t\t\tkey={p.id}\r\n\t\t>\r\n\t\t\t<i className=\"list-play\" onClick={addSongList.bind(null, p.id)}></i>\r\n\t\t\t<Link to={\"/find/playlist/detail?id=\" + p.id} >\r\n\t\t\t\t<div className=\"img-wrap\">\r\n\t\t\t\t\t<LazyLoad height={50} debounce={500} placeholder={<img width=\"50px\" height=\"50px\" src={loadingUrl} />}>\r\n\t\t\t\t\t\t<img className=\"img\" src={p.coverImgUrl} alt=\"\" />\r\n\t\t\t\t\t\t<span className=\"mask\"></span>\r\n\t\t\t\t\t</LazyLoad>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t\t<Link to={\"/find/playlist/detail?id=\" + p.id} className=\"name\">\r\n\t\t\t\t{p.name}\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"operates\">\r\n\t\t\t\t<i className=\"icon icon-add\"></i>\r\n\t\t\t\t<i className=\"icon icon-fav\"></i>\r\n\t\t\t\t<i className=\"icon icon-share\"></i>\r\n\t\t\t</div>\r\n\t\t\t<span className=\"count\">{p.trackCount} 首</span>\r\n\t\t\t<span className=\"creator\">by <Link className=\"name\" to={'/user/home?uid=' + p.creator.userId}>{p.creator.nickname}</Link></span>\r\n\t\t\t<span className=\"book\">收藏：{p.bookCount}</span>\r\n\t\t\t<span className=\"listens\">收听：{parseInt(p.playCount / 10000)}万</span>\r\n\t\t</li>\r\n\t));\r\n\treturn <ul className=\"playlist-wrap\">{items}</ul>;\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayList);\r\n","import React from \"react\";\r\nimport \"./djItem.less\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport { IconFemale, IconMale } from \"@douyinfe/semi-icons\";\r\nimport loadingUrl from \"@/assets/loading.svg\";\r\n\r\nexport default function DjItem(props) {\r\n\tconst djs = props.djs;\r\n\tconst items = djs.map((d) => (\r\n\t\t<div key={d.id} className=\"dj-item\">\r\n\t\t\t<LazyLoad height={150} debounce={500} placeholder={<img width=\"100%\" height=\"100%\" src={loadingUrl} />}>\r\n\t\t\t\t<img src={d.picUrl} alt=\"\" />\r\n\t\t\t</LazyLoad>\r\n\t\t\t<div className=\"dj-content\">\r\n\t\t\t\t<p className=\"desc\">{d.desc || '这人很懒，没有介绍'}</p>\r\n\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\tby\r\n\t\t\t\t\t<span className=\"name\">{d.name}</span>\r\n\t\t\t\t\t<span className={d.dj.gender === 2 ? \"pink\" : \"blue\"}>\r\n\t\t\t\t\t\t{d.nickname} {d.dj.gender === 2 ? <IconFemale /> : <IconMale />}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t));\r\n\treturn <div className=\"dj-container\">{items}</div>;\r\n}\r\n","import React from \"react\";\r\nimport utils from \"../../../utils\";\r\nimport { Button } from \"@douyinfe/semi-ui\";\r\nimport { IconPlus, IconFemale, IconMale } from \"@douyinfe/semi-icons\";\r\nimport \"./userProfile.less\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport { Link } from \"react-router-dom\";\r\nimport loadingUrl from \"@/assets/loading.svg\";\r\n\r\nexport default function UserProfile(props) {\r\n\tconst users = props.users;\r\n\tconst items = users.map((u, i) => (\r\n\t\t<li\r\n\t\t\tkey={u.userId}\r\n\t\t\tclassName={utils.isEven(i + 1) ? \"user-item\" : \"user-item even\"}\r\n\t\t>\r\n\t\t\t<div className=\"user-info\">\r\n\t\t\t\t<Link to={\"/user/home?uid=\" + u.userId}>\r\n\t\t\t\t\t<div className=\"img-wrap\">\r\n\t\t\t\t\t\t<LazyLoad height={50} debounce={500} placeholder={<img width=\"100%\" height=\"100%\" src={loadingUrl} />}>\r\n\t\t\t\t\t\t\t<img src={u.avatarUrl} alt=\"\" />\r\n\t\t\t\t\t\t\t<span className=\"mask\"></span>\r\n\t\t\t\t\t\t</LazyLoad>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div className=\"user-desc\">\r\n\t\t\t\t\t<span className={u.gender === 2 ? \"name pink\" : \"name blue\"}>\r\n\t\t\t\t\t\t<Link to={\"/user/home?uid=\" + u.userId}>{u.nickname} </Link>{\" \"}\r\n\t\t\t\t\t\t{u.gender === 2 ? <IconFemale /> : <IconMale />}{\" \"}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className=\"desc\">{u.signature}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"btn\">\r\n\t\t\t\t<Button type=\"tertiary\">\r\n\t\t\t\t\t<IconPlus />\r\n\t\t\t\t\t<span className=\"add\">关注</span>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"playlist\">歌单：{u.playlistCount || 0}</div>\r\n\t\t\t<div className=\"fans\">粉丝：{u.followeds || 0}</div>\r\n\t\t</li>\r\n\t));\r\n\treturn <ul className=\"user-container\">{items}</ul>;\r\n}\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport utils from '../../../utils';\r\nimport \"./searchNote.less\";\r\n\r\nexport default function SearchNote(props) {\r\n    const {keyword, total, type} = props;\r\n    const typeText = utils.getTextByType(type);\r\n    return (\r\n        <div className=\"note-container\">\r\n            搜索“{keyword}”，找到 <span className=\"nums\">{total}</span> 个{typeText}\r\n        </div>\r\n    )\r\n};\r\n\r\nSearchNote.propTypes = {\r\n    keyword: PropTypes.string,\r\n    total: PropTypes.number,\r\n    type: PropTypes.string || PropTypes.number,\r\n}\r\n\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport qs from \"query-string\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport MusicItem from \"./modules/MusicItem\";\r\nimport SingerItem from \"./modules/SingerItem\";\r\nimport AlbumItem from \"./modules/AlbumItem\";\r\nimport VideoItem from \"./modules/VideoItem\";\r\nimport Words from \"./modules/Words\";\r\nimport PlayList from \"./modules/PlayList\";\r\nimport DjItem from \"./modules/DjItem\";\r\nimport UserProfile from \"./modules/UserProfile\";\r\nimport {\r\n  Pagination,\r\n  Input,\r\n  Spin,\r\n  Tabs,\r\n  TabPane,\r\n  Empty,\r\n  Toast,\r\n} from \"@douyinfe/semi-ui\";\r\nimport {\r\n  IllustrationNoResult,\r\n  IllustrationNoResultDark,\r\n} from \"@douyinfe/semi-illustrations\";\r\nimport { IconSearch } from \"@douyinfe/semi-icons\";\r\nimport \"./index.less\";\r\nimport { search } from \"../../services/search\";\r\nimport { searchTabs } from \"../../common/tabs\";\r\nimport SearchNote from \"./modules/SearchNote\";\r\n\r\nexport default function Search() {\r\n  const [limit, setLimit] = useState(35); // 页容量\r\n  const [page, setPage] = useState(1); // 页码\r\n  const [type, setType] = useState(\"1\"); // 搜索类型\r\n  const [loading, setLoading] = useState(false); // 加载中\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const query = qs.parse(location.search);\r\n  const keywords = query.keywords; // 传递来的关键词\r\n  const [s, setS] = useState(keywords);\r\n  const [songs, setSongs] = useState([]); // 歌曲列表\r\n  const [singers, setSingers] = useState([]); // 歌手列表\r\n  const [albums, setAlbums] = useState([]); // 专辑列表\r\n  const [videos, setVideos] = useState([]); // 视频列表\r\n  const [words, setWords] = useState([]); // 歌词列表\r\n  const [playlist, setPlaylist] = useState([]); // 歌单列表\r\n  const [djs, setDjs] = useState([]); // 主播列表\r\n  const [users, setUsers] = useState([]); // 用户列表\r\n\r\n  const [total, setTotal] = useState(0); // 歌曲总数\r\n  // 页码变化\r\n  const handlePageChange = (val) => {\r\n    setPage(val);\r\n  };\r\n  // 页容量变化\r\n  const handleLimitChange = (val) => {\r\n    setLimit(val);\r\n  };\r\n  // tab切换\r\n  const tabChange = (key) => {\r\n    setType(key);\r\n  };\r\n\r\n  const inpSearch = async () => {\r\n    setLoading(true);\r\n    const res = await search({\r\n      keywords,\r\n      limit,\r\n      offset: (page - 1) * limit,\r\n      type,\r\n    });\r\n    if (res.code === 200) {\r\n      switch (type) {\r\n        case \"1\":\r\n          setSongs(res.result.songs);\r\n          setTotal(res.result.songCount);\r\n          break;\r\n        case \"100\":\r\n          setSingers(res.result.artists);\r\n          setTotal(res.result.artistCount);\r\n          break;\r\n        case \"10\":\r\n          setAlbums(res.result.albums);\r\n          setTotal(res.result.albumCount);\r\n          break;\r\n        case \"1014\":\r\n          setVideos(res.result.videos);\r\n          setTotal(res.result.videoCount);\r\n          break;\r\n        case \"1006\":\r\n          setWords(res.result.songs);\r\n          setTotal(res.result.songCount);\r\n          break;\r\n        case \"1000\":\r\n          setPlaylist(res.result.playlists);\r\n          setTotal(res.result.playlistCount);\r\n          break;\r\n        case \"1009\":\r\n          setDjs(res.result.djRadios);\r\n          setTotal(res.result.djRadiosCount);\r\n          break;\r\n        case \"1002\":\r\n          setUsers(res.result.userprofiles);\r\n          setTotal(res.result.userprofileCount);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      setLoading(false);\r\n    }\r\n  }\r\n  // 搜索\r\n  useEffect(() => {\r\n    inpSearch();\r\n    return () => {\r\n    };\r\n  }, [keywords, limit, page, type]);\r\n\r\n  const tabpanes = searchTabs.map((tab) => (\r\n    <TabPane key={tab.key} tab={tab.text} itemKey={tab.key}></TabPane>\r\n  ));\r\n\r\n  const searchMusic = () => {\r\n    if (!s) {\r\n      Toast.warning({\r\n        content: \"请输入 音乐/视频/电台/用户 等关键字\",\r\n        duration: 2,\r\n      });\r\n      return;\r\n    }\r\n    history.push(`/search?keywords=${s}`);\r\n  };\r\n  const keywordChange = val => { setS(val) };\r\n  return (\r\n    <div className=\"search-container\">\r\n      <div className=\"search-inp\">\r\n        <Input\r\n          suffix={<IconSearch />}\r\n          style={{\r\n            width: 420,\r\n            color: \"#000\",\r\n            border: \"1px solid #ddd\",\r\n          }}\r\n          value={s}\r\n          size=\"large\"\r\n          showClear\r\n          onEnterPress={searchMusic}\r\n          onChange={keywordChange}\r\n        ></Input>\r\n      </div>\r\n      {<SearchNote keyword={keywords} type={type} total={total || 0} />}\r\n      <div className=\"search-tabs\">\r\n        <Tabs\r\n          type=\"card\"\r\n          onChange={tabChange}\r\n        >\r\n          {tabpanes}\r\n        </Tabs>\r\n      </div>\r\n      {type === \"1\" && songs ? <MusicItem songs={songs} /> : null}\r\n      {type === \"100\" && singers ? <SingerItem singers={singers} /> : null}\r\n      {type === \"10\" && albums ? <AlbumItem albums={albums} /> : null}\r\n      {type === \"1014\" && videos ? <VideoItem videos={videos} /> : null}\r\n      {type === \"1006\" && words ? <Words words={words} /> : null}\r\n      {type === \"1000\" && playlist ? <PlayList playlist={playlist} /> : null}\r\n      {type === \"1009\" && djs ? <DjItem djs={djs} /> : null}\r\n      {type === \"1002\" && users ? <UserProfile users={users} /> : null}\r\n\r\n      {total > 0 ? (\r\n        <div className=\"pagination-ontainer\">\r\n          <Pagination\r\n            total={total}\r\n            currentPage={page}\r\n            onPageChange={handlePageChange}\r\n            showSizeChanger\r\n            pageSize={limit}\r\n            pageSizeOpts={[15, 35, 70]}\r\n            onPageSizeChange={handleLimitChange}\r\n          ></Pagination>\r\n        </div>\r\n      ) : (\r\n        <Empty\r\n          image={<IllustrationNoResult style={{ width: 150, height: 150 }} />}\r\n          darkModeImage={\r\n            <IllustrationNoResultDark style={{ width: 150, height: 150 }} />\r\n          }\r\n          description={\"搜索无结果\"}\r\n        />\r\n      )}\r\n      <Spin\r\n        spinning={loading}\r\n        tip=\"loading...\"\r\n        size=\"large\"\r\n        style={{\r\n          position: \"fixed\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -50%)\",\r\n          zIndex: \"9999\",\r\n        }}\r\n      ></Spin>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/loading.4c0ea1e7.svg\";"],"sourceRoot":""}