(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[18],{1237:function(e,t,c){"use strict";var s=c(30),n=c(1),a=c(1238),i=c.n(a),r=c(40),l=c(1243),j=c.n(l),d=c(107),o=c(18),m=c(15);t.a=Object(d.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,c=Object(n.useState)(!1),a=Object(s.a)(c,2),l=a[0],d=a[1],u=Object(n.useState)(""),b=Object(s.a)(u,2),O=b[0],h=b[1],x=Object(n.useCallback)((function(e,t){}),[]);return Object(m.jsxs)("div",{className:i.a.commit,id:"comment",children:[Object(m.jsxs)("div",{className:"commit-header",children:[Object(m.jsx)("h3",{className:"title",children:"\u8bc4\u8bba"}),Object(m.jsxs)("span",{className:"nums",children:["\u5171",e.commitNum,"\u6761\u8bc4\u8bba"]})]}),Object(m.jsxs)("div",{className:"commit-wrap",children:[Object(m.jsx)("img",{src:t?t.avatarUrl:"http://s4.music.126.net/style/web2/img/default/default_avatar.jpg?param=50y50",alt:""}),Object(m.jsxs)("div",{className:"commit-content",children:[Object(m.jsx)(r.w,{placeholder:"\u8bc4\u8bba",value:O,onChange:function(e){h(e)},maxCount:e.commitLength}),Object(m.jsxs)("div",{className:"commit-opearte",children:[Object(m.jsx)(o.J,{onClick:function(){d(!l)}}),Object(m.jsx)(r.c,{onClick:function(){O?(h(""),e.commit&&e.commit(O)):r.x.warning({content:"\u8bf7\u5148\u8f93\u5165\u5185\u5bb9\u54e6\ud83d\ude0a",duration:2})},children:"\u8bc4\u8bba"})]}),l?Object(m.jsx)("div",{className:"emoji-box",children:Object(m.jsx)(j.a,{onEmojiClick:x})}):null]})]})]})}))},1238:function(e,t,c){e.exports={commit:"index_commit__2Pc8Z"}},1239:function(e,t,c){e.exports={"comment-list":"commitList_comment-list__V9s6g"}},1240:function(e,t,c){"use strict";c.d(t,"a",(function(){return r})),c.d(t,"b",(function(){return j}));var s=c(32),n=c(19),a=c.n(n),i=c(36);function r(e){return l.apply(this,arguments)}function l(){return(l=Object(s.a)(a.a.mark((function e(t){var c,s,n,r,l,j,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.t,s=t.type,n=t.id,r=t.content,l=t.commentId,j=t.timestamp,e.next=3,i.a.post("/comment",{t:c,type:s,id:n,content:r,commentId:l,timestamp:j});case 3:return d=e.sent,e.abrupt("return",d);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return d.apply(this,arguments)}function d(){return(d=Object(s.a)(a.a.mark((function e(t){var c,s,n,r,l,j,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.id,s=t.cid,n=t.t,r=t.type,l=t.threadId,j=t.timestamp,e.next=3,i.a.post("/comment/like",{id:c,cid:s,t:n,type:r,threadId:l,timestamp:j});case 3:return d=e.sent,e.abrupt("return",d);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1241:function(e,t,c){"use strict";c.d(t,"a",(function(){return m}));c(1);var s=c(1239),n=c.n(s),a=c(1210),i=c.n(a),r=c(90),l=c(18),j=c(107),d=c(15);var o=Object(j.b)((function(e){return{user:e.user}}))((function(e){var t=e.c,c=e.user;return Object(d.jsxs)("li",{className:"comment-item",children:[Object(d.jsx)(r.b,{to:"/user/home?uid="+t.user.userId,children:Object(d.jsx)(i.a,{height:50,debounce:500,placeholder:Object(d.jsx)("img",{width:50,height:50,src:"http://s4.music.126.net/style/web2/img/default/default_avatar.jpg?param=50y50"}),children:Object(d.jsx)("img",{src:t.user.avatarUrl,alt:""})})}),Object(d.jsxs)("div",{className:"comment-desc",children:[Object(d.jsxs)("p",{className:"comment-content",children:[Object(d.jsx)(r.b,{className:"name",to:"/user/home?uid="+t.user.userId,children:t.user.nickname}),Object(d.jsx)("span",{className:"divider",children:":"}),Object(d.jsx)("span",{className:"content",children:t.content})]}),t.beReplied.length?t.beReplied.map((function(e){return Object(d.jsx)("div",{className:"beReplied",children:Object(d.jsxs)("p",{className:"comment-content",children:[Object(d.jsx)(r.b,{className:"name",to:"/user/home?uid="+e.user.userId,children:e.user.nickname}),Object(d.jsx)("span",{className:"divider",children:":"}),Object(d.jsx)("span",{className:"content",children:e.content})]})},e.beRepliedCommentId)})):null,Object(d.jsxs)("div",{className:"comment-points",children:[Object(d.jsx)("span",{className:"time",children:t.timeStr}),Object(d.jsxs)("div",{className:"operate",children:[c&&t.user.userId===c.userId?Object(d.jsxs)("span",{className:"del-wrap",children:[Object(d.jsx)("span",{className:"reback",onClick:function(){e.delComment&&e.delComment(t.commentId)},children:"\u5220\u9664"}),Object(d.jsx)("span",{className:"line",children:"|"})]}):null,Object(d.jsxs)("span",{className:t.liked?"like liked":"like",onClick:function(){e.commentLike&&e.commentLike(t.commentId,t.liked)},children:[Object(d.jsx)(l.M,{}),t.likedCount?Object(d.jsxs)("span",{className:"num",children:["(",t.likedCount,")"]}):null]}),Object(d.jsx)("span",{className:"line",children:"|"}),Object(d.jsx)("span",{className:"reback",children:"\u56de\u590d"})]})]})]})]},t.commentId)}));function m(e){var t=e.total,c=e.comments,s=e.hotComments,a=function(t,c){e.like&&e.like(t,c)},i=function(t){e.del&&e.del(t)};return Object(d.jsxs)("div",{className:n.a["comment-list"],children:[s&&s.length?Object(d.jsxs)("ul",{className:"comment",children:[Object(d.jsx)("li",{className:"header",children:Object(d.jsx)("h3",{className:"title",children:"\u7cbe\u5f69\u8bc4\u8bba"})}),s.map((function(e){return Object(d.jsx)(o,{commentLike:a,delComment:i,c:e},e.commentId)}))]}):null,Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),c&&c.length?Object(d.jsxs)("ul",{className:"comment",children:[Object(d.jsx)("li",{className:"header",children:Object(d.jsxs)("h3",{className:"title",children:["\u6700\u65b0\u8bc4\u8bba(",t,")"]})}),c.map((function(e){return Object(d.jsx)(o,{commentLike:a,delComment:i,c:e},e.commentId)}))]}):null]})}},1244:function(e,t,c){"use strict";var s=c(32),n=c(19),a=c.n(n),i=(c(1),c(1245),c(268)),r=c(18),l=c(90),j=c(174),d=c(107),o=c(269),m=c(15);t.a=Object(d.b)((function(e){return{song:e.song}}),(function(e){return{addSong:function(){return e(o.b.apply(void 0,arguments))}}}))((function(e){var t=e.item,c=e.index,n=e.showAlbum,d=e.addSong,o=function(){var e=Object(s.a)(a.a.mark((function e(t){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.n)({id:t});case 2:200===(c=e.sent).code&&(d(c.data[0].url),localStorage.setItem("song_url",JSON.stringify(c.data[0].url)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("li",{className:i.a.isEven(c)?"table-item even":"table-item",children:[Object(m.jsxs)("div",{className:"play-num bd",children:[Object(m.jsx)("span",{className:"num",children:c}),Object(m.jsx)(r.R,{onClick:function(){o(t.id)}})]}),Object(m.jsxs)("div",{className:"title bd ellipsis-1",children:[Object(m.jsx)(l.b,{to:"/find/song?id="+t.id,children:t.name}),t.alia&&t.alia.length?Object(m.jsxs)("span",{className:"mv-name",children:["-",t.alia.map((function(e){return e}))]}):null,t.mv?Object(m.jsx)(l.b,{className:"mv-play",to:"/find/mv?id="+t.mv,children:Object(m.jsx)(r.ib,{})}):null]}),Object(m.jsxs)("div",{className:"duration bd",children:[Object(m.jsx)("span",{className:"time",children:i.a.formatTime(t.dt)}),Object(m.jsxs)("div",{className:"btns",children:[Object(m.jsx)(r.S,{}),Object(m.jsx)(r.D,{}),Object(m.jsx)(r.F,{}),Object(m.jsx)(r.y,{})]})]}),Object(m.jsx)("div",{className:"name bd ellipsis-1",children:t.ar.map((function(e,t){return Object(m.jsx)(l.b,{to:"/find/artist?id="+e.id,children:0===t?e.name:"/".concat(e.name)},e.id+t)}))}),n?Object(m.jsx)("div",{className:"album bd ellipsis-1",children:Object(m.jsx)(l.b,{to:"/find/album?id="+t.al.id,children:t.al.name})}):null]})}))},1245:function(e,t,c){},1319:function(e,t,c){e.exports={detail_container:"playlistDetail_detail_container__17Fgh"}},1320:function(e,t,c){e.exports={"detail-left":"detailLeft_detail-left__3pP0S"}},1321:function(e,t,c){e.exports={"detail-right":"detailRight_detail-right__3xOyJ"}},1381:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return _}));var s=c(32),n=c(30),a=c(19),i=c.n(a),r=c(1),l=c(1319),j=c.n(l),d=c(59),o=c(174),m=c(1213),u=c.n(m),b=c(1320),O=c.n(b),h=c(90),x=c(40),p=c(18),f=c(268),v=c(1244),N=c(1237),g=c(1241),y=c(1240),k=c(15);var w=function(e){var t=Object(r.useState)([]),c=Object(n.a)(t,2),a=c[0],l=c[1],j=Object(r.useState)([]),d=Object(n.a)(j,2),m=d[0],u=d[1],b=Object(r.useState)(1),w=Object(n.a)(b,2),C=w[0],I=w[1],S=Object(r.useState)(20),_=Object(n.a)(S,2),D=_[0],z=_[1],L=Object(r.useState)(0),U=Object(n.a)(L,2),R=U[0],E=U[1],J=Object(r.useState)(!1),P=Object(n.a)(J,2),F=P[0],A=P[1],q=Object(r.useState)(!1),T=Object(n.a)(q,2),M=T[0],V=T[1],Z=e.detail,B=e.id,G=Object(r.useCallback)(function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)({t:1,type:2,id:B,content:t,timestamp:Date.now()});case 2:200===e.sent.code&&(x.x.success({content:"\u8bc4\u8bba\u6210\u529f",duration:2}),Q());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),H=Object(r.useCallback)((function(e){I(e)}),[]),K=Object(r.useCallback)((function(e){z(e)}),[]),Q=function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,Object(o.q)({id:B,limit:D,offset:(C-1)*D,timestamp:Date.now()});case 3:200===(t=e.sent).code&&(E(t.total),l(t.comments),u(t.hotComments),A(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){return Q(),function(){}}),[B,D,C]);var W=Object(r.useCallback)(function(){var e=Object(s.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.b)({id:B,cid:t,t:c?0:1,type:2,timestamp:Date.now()});case 2:200===e.sent.code?(c?x.x.success({content:"\u53d6\u6d88\u8d5e\u6210\u529f",duration:2}):x.x.success({content:"\u8d5e\u6210\u529f",duration:2}),Q()):x.x.error({content:"\u64cd\u4f5c\u5931\u8d25"});case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),[]),X=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)({t:0,type:2,id:B,commentId:t,timestamp:Date.now()});case 2:200===e.sent.code&&(x.x.success({content:"\u5220\u9664\u6210\u529f",duration:2}),Q());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:O.a["detail-left"],children:[Object(k.jsxs)("div",{className:"top-content",children:[Object(k.jsx)("div",{className:"img",children:Object(k.jsxs)("div",{className:"content",children:[Object(k.jsx)("img",{src:Z.coverImgUrl,alt:""}),Object(k.jsx)("span",{className:"mask"})]})}),Object(k.jsxs)("div",{className:"list-content",children:[Object(k.jsxs)("div",{className:"list-name",children:[Object(k.jsx)("i",{className:"icon-playlist"}),Z.name]}),Object(k.jsxs)("div",{className:"create-desc",children:[Object(k.jsx)(h.b,{to:"/user/home?uid="+Z.creator.userId,children:Object(k.jsx)("img",{src:Z.creator.avatarUrl,alt:""})}),Object(k.jsx)(h.b,{className:"nick-name",to:"/user/home?uid="+Z.creator.userId,children:Z.creator.nickname}),Z.creator.avatarDetail&&Z.creator.avatarDetail.identityIconUrl?Object(k.jsx)("img",{className:"icon",src:Z.creator.avatarDetail.identityIconUrl,alt:""}):null,Object(k.jsxs)("div",{className:"create-time",children:[f.a.formatDate(Z.createTime)," \u521b\u5efa"]})]}),Object(k.jsx)("div",{className:"operates",children:Object(k.jsxs)(x.r,{children:[Object(k.jsxs)(x.c,{type:"tertiary",icon:Object(k.jsx)(p.S,{}),children:["(",Z.subscribedCount,")"]}),Object(k.jsxs)(x.c,{type:"tertiary",icon:Object(k.jsx)(p.F,{}),children:["(",Z.shareCount,")"]}),Object(k.jsx)(x.c,{type:"tertiary",icon:Object(k.jsx)(p.y,{}),children:"\u4e0b\u8f7d"}),Object(k.jsxs)(x.c,{type:"tertiary",icon:Object(k.jsx)(p.r,{}),onClick:function(){f.a.goAnchor("#comment")},children:["(",Z.commentCount,")"]})]})}),Object(k.jsxs)("div",{className:"tags",children:["\u6807\u7b7e\uff1a",Object(k.jsx)(x.r,{children:Z.tags.map((function(e){return Object(k.jsx)(x.v,{children:Object(k.jsx)(h.b,{className:"item",to:"/find/playlist?cat="+e,children:e})},e)}))})]}),Z.description?Object(k.jsxs)("div",{className:"desc",children:["\u4ecb\u7ecd\uff1a",M?Z.description:Z.description.split("\n").splice(0,5).join("\n")+"...",Object(k.jsxs)("div",{className:"arrow",onClick:function(){V(!M)},children:[Object(k.jsx)("span",{className:"text",children:M?"\u6536\u8d77":"\u5c55\u5f00"}),M?Object(k.jsx)(p.n,{}):Object(k.jsx)(p.k,{})]})]}):null]})]}),Object(k.jsxs)("div",{className:"music-list",children:[Object(k.jsxs)("div",{className:"list-header",children:[Object(k.jsx)("h3",{className:"title",children:"\u6b4c\u66f2\u5217\u8868"}),Object(k.jsxs)("span",{className:"total",children:[Z.trackCount,"\u9996\u6b4c"]}),Object(k.jsxs)("span",{className:"play-num",children:["\u64ad\u653e\uff1a",Object(k.jsx)("span",{className:"num",children:Z.playCount}),"\u6b21"]})]}),Object(k.jsxs)("ul",{className:"list-wrap",children:[Object(k.jsxs)("li",{className:"table-header",children:[Object(k.jsx)("div",{className:"play-num"}),Object(k.jsx)("div",{className:"title bd",children:"\u6b4c\u66f2\u6807\u9898"}),Object(k.jsx)("div",{className:"duration bd",children:"\u65f6\u957f"}),Object(k.jsx)("div",{className:"name bd",children:"\u6b4c\u624b"}),Object(k.jsx)("div",{className:"album bd",children:"\u4e13\u8f91"})]}),Z.tracks.map((function(e,t){return Object(k.jsx)(v.a,{showAlbum:!0,index:t+1,item:e},e.id)}))]})]}),Object(k.jsx)(N.a,{commitNum:Z.commentCount,commit:G,commitLength:140}),Object(k.jsx)(g.a,{like:W,del:X,total:R,comments:a,hotComments:m}),R>0?Object(k.jsx)("div",{className:"pagination-wrapper",children:Object(k.jsx)(x.k,{total:R,currentPage:C,onPageChange:H,showSizeChanger:!0,pageSize:D,pageSizeOpts:[20,30,50],onPageSizeChange:K})}):null,Object(k.jsx)(x.s,{spinning:F,tip:"loading...",size:"large",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:"9999"}})]})},C=c(1321),I=c.n(C);function S(e){var t=e.detail,c=t.tags[0],a=Object(r.useState)([]),l=Object(n.a)(a,2),j=l[0],d=l[1];return Object(r.useEffect)((function(){return Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.s)({cat:c});case 2:200===(t=e.sent).code&&d(t.playlists.splice(0,5));case 4:case"end":return e.stop()}}),e)})))(),function(){}}),[]),Object(k.jsxs)("div",{className:I.a["detail-right"],children:[t.subscribers.length?Object(k.jsxs)("div",{className:"play-like",children:[Object(k.jsx)("h3",{className:"title",children:"\u559c\u6b22\u8fd9\u4e2a\u6b4c\u5355\u7684\u4eba"}),Object(k.jsx)("div",{className:"like-wrap",children:t.subscribers.map((function(e){return Object(k.jsx)(h.b,{to:"/user/home?uid="+e.userId,children:Object(k.jsx)(x.a,{src:e.avatarUrl,shape:"square"})},e.userId)}))})]}):null,Object(k.jsxs)("div",{className:"play-hot",children:[Object(k.jsx)("h3",{className:"title",children:"\u70ed\u95e8\u6b4c\u5355"}),Object(k.jsx)("div",{className:"hot-content",children:j?j.map((function(e){return Object(k.jsxs)("div",{className:"hot-item",children:[Object(k.jsx)(h.b,{to:"/find/playlist/detail?id="+e.id,children:Object(k.jsx)("img",{src:e.coverImgUrl,alt:""})}),Object(k.jsxs)("div",{className:"desc",children:[Object(k.jsx)(h.b,{to:"/find/playlist/detail?id="+e.id,className:"sub-title",children:e.name}),Object(k.jsxs)("span",{className:"text",children:["by ",Object(k.jsx)(h.b,{to:"/user/home?uid="+e.creator.userId,className:"name",children:e.creator.nickname})]})]})]},e.id)})):null})]})]})}function _(e){var t=Object(d.h)(),c=u.a.parse(t.search).id,a=Object(r.useState)(null),l=Object(n.a)(a,2),m=l[0],b=l[1],O=Object(r.useState)(!1),h=Object(n.a)(O,2),p=h[0],f=h[1];return Object(r.useEffect)((function(){return Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Object(o.r)({id:c});case 3:200===(t=e.sent).code&&(f(!1),b(t.playlist));case 5:case"end":return e.stop()}}),e)})))(),function(){}}),[c]),Object(k.jsxs)(k.Fragment,{children:[m?Object(k.jsxs)("div",{className:j.a.detail_container,children:[Object(k.jsx)("div",{className:"left",children:Object(k.jsx)(w,{detail:m,id:c})}),Object(k.jsx)("div",{className:"right",children:Object(k.jsx)(S,{detail:m})})]}):null,Object(k.jsx)(x.s,{spinning:p,tip:"loading...",size:"large",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:"9999"}})]})}}}]);
//# sourceMappingURL=18.7ffcd8ac.chunk.js.map