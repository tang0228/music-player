(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[31],{1133:function(e,t,a){e.exports={"album-list":"index_album-list__2IrAw"}},1134:function(e,t,a){e.exports={"album-item":"item_album-item__2cL0g"}},1166:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return A}));var n=a(204),c=a(19),i=a(1),s=a(1133),r=a.n(s),u=a(15),l=a.n(u),d=a(23),o=a(26);function b(){return(b=Object(d.a)(l.a.mark((function e(t){var a,n,c,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,n=t.offset,c=t.area,e.next=3,o.a.get("/album/new",{params:{limit:a,offset:n,area:c}});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=a(104),m=a(50),f=a(42),p=a(27),O=a(997),h=a.n(O),x=a(1134),g=a.n(x),v=a(999),N=a(106),S=a(165),w=a(105),y=a(5);var k=Object(w.b)((function(e){return{curSongId:e.curSongId}}),(function(e){return{setCurSongId:function(){return e(S.b.apply(void 0,arguments))},addSongs:function(){return e(N.f.apply(void 0,arguments))}}}))((function(e){var t=e.setCurSongId,a=e.addSongs;return Object(y.jsxs)("div",{className:g.a["album-item"],children:[Object(y.jsxs)("div",{className:"album-img",children:[Object(y.jsxs)(f.b,{to:"/find/album?id="+e.id,children:[Object(y.jsx)(h.a,{height:130,debounce:500,placeholder:Object(y.jsx)("img",{width:"100%",height:"100%",src:v.a}),children:Object(y.jsx)("img",{src:e.blurPicUrl,alt:""})}),Object(y.jsx)("span",{className:"al-mask"})]}),Object(y.jsx)("i",{className:"icon-album-play",onClick:function(e){Object(j.b)({id:e}).then((function(e){if(200===e.code){p.y.success({content:"\u6210\u529f\u6dfb\u52a0\u65b0\u789f\u5230\u64ad\u653e\u5217\u8868",duration:2});var n=e.songs.map((function(e){return{id:e.id,url:"https://music.163.com/song/media/outer/url?id="+e.id+".mp3",song:e}}));a(n),t(n[0].id)}}))}.bind(null,e.id)})]}),Object(y.jsx)(f.b,{to:"/find/album?id="+e.id,className:"album-name",children:e.name}),Object(y.jsx)(f.b,{to:"/find/artist?id="+e.artist.id,className:"singer-name",children:e.artist.name})]},e.id)})),I=a(1e3),_=a.n(I),L=[{text:"\u5168\u90e8",target:"ALL"},{text:"\u534e\u8bed",target:"ZH"},{text:"\u6b27\u7f8e",target:"EA"},{text:"\u97e9\u56fd",target:"KR"},{text:"\u65e5\u672c",target:"JP"}];function A(){var e=Object(i.useState)([]),t=Object(c.a)(e,2),a=t[0],s=t[1],u=Object(i.useState)(0),l=Object(c.a)(u,2),d=l[0],o=l[1],O=Object(i.useState)([]),h=Object(c.a)(O,2),x=h[0],g=h[1],v=Object(i.useState)(!1),N=Object(c.a)(v,2),S=N[0],w=N[1],I=Object(i.useState)(1),A=Object(c.a)(I,2),C=A[0],P=A[1],z=Object(m.h)(),E=_.a.parse(z.search).area||"ALL";Object(i.useEffect)((function(){Object(j.d)().then((function(e){200===e.code&&s(e.albums.splice(0,10))}))}),[]),Object(i.useEffect)((function(){return w(!0),function(e){return b.apply(this,arguments)}({limit:35,offset:35*(C-1),area:E}).then((function(e){200===e.code&&(o(e.total),g(e.albums),w(!1))}),(function(e){w(!1),p.y.error({content:e,duration:2})})),function(){}}),[C,E]);return Object(y.jsxs)("div",{className:r.a["album-list"],children:[Object(y.jsx)("div",{className:"header",children:Object(y.jsx)("div",{className:"title",children:"\u70ed\u95e8\u65b0\u789f"})}),Object(y.jsx)("div",{className:"album-wrapper",children:a?a.map((function(e){return Object(y.jsx)(k,Object(n.a)({},e),e.id)})):null}),Object(y.jsxs)("div",{className:"header",children:[Object(y.jsx)("div",{className:"title",children:"\u5168\u90e8\u65b0\u789f"}),Object(y.jsx)("div",{className:"cat-nav",children:L.map((function(e,t){return Object(y.jsxs)(f.b,{to:"/find/album/list?area="+e.target,className:"item",children:[e.text," ",t<4?Object(y.jsx)("span",{className:"line",children:"|"}):""]},e.target)}))})]}),Object(y.jsx)("div",{className:"album-wrapper",children:x?x.map((function(e){return Object(y.jsx)(k,Object(n.a)({},e),e.id)})):null}),d>0?Object(y.jsx)("div",{className:"pagination-wrapper",children:Object(y.jsx)(p.k,{total:d,currentPage:C,onPageChange:function(e){P(e)},pageSize:35})}):null,Object(y.jsx)(p.t,{spinning:S,tip:"loading...",size:"large",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:"9999"}})]})}},999:function(e,t,a){"use strict";t.a=a.p+"static/media/loading.4c0ea1e7.svg"}}]);
//# sourceMappingURL=31.b02e50b1.chunk.js.map