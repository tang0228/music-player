{"version":3,"sources":["components/Commit/index.jsx","components/Commit/index.module.less","components/CommitList/commitList.module.less","services/comment.js","components/CommitList/Item.jsx","components/CommitList/CommitList.jsx","pages/Find/modules/playListDetail/TableItem.jsx","pages/Find/modules/playListDetail/playlistDetail.module.less","pages/Find/modules/playListDetail/detailLeft.module.less","pages/Find/modules/playListDetail/detailRight.module.less","pages/Find/modules/playListDetail/DetailLeft.jsx","pages/Find/modules/playListDetail/DetailRight.jsx","pages/Find/modules/playListDetail/PlaylistDetail.jsx"],"names":["connect","state","user","props","useState","showEmoji","setShowEmoji","commitText","setCommitText","onEmojiClick","useCallback","e","emo","className","style","commit","id","commitNum","src","avatarUrl","alt","placeholder","value","onChange","val","maxCount","commitLength","onClick","Toast","warning","content","duration","module","exports","comment","a","t","type","commentId","timestamp","ins","post","res","likeComment","cid","threadId","c","to","userId","height","debounce","width","nickname","beReplied","length","map","be","beRepliedCommentId","timeStr","delComment","liked","commentLike","likedCount","CommitList","total","comments","hotComments","like","del","song","dispatch","addSong","addSongAction","item","index","showAlbum","play","getMusicPlayUrl","code","data","url","localStorage","setItem","JSON","stringify","utils","isEven","name","alia","mv","formatTime","dt","ar","i","al","DetailLeft","setComments","setHotComments","page","setPage","limit","setLimit","setTotal","loading","setLoading","open","setOpen","detail","playListCommit","Date","now","success","getComments","handlePageChange","handleLimitChange","getPlayListCommit","offset","useEffect","error","coverImgUrl","creator","avatarDetail","identityIconUrl","formatDate","createTime","icon","subscribedCount","shareCount","goAnchor","commentCount","tags","description","split","splice","join","trackCount","playCount","tracks","TableItem","Commit","currentPage","onPageChange","showSizeChanger","pageSize","pageSizeOpts","onPageSizeChange","spinning","tip","size","position","top","left","transform","zIndex","DetailRight","tagName","list","setList","getPlaylist","cat","playlists","subscribers","s","shape","l","PlaylistDetail","location","useLocation","qs","parse","search","setDetail","getPlayListDetail","playlist","detail_container"],"mappings":"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","file":"static/js/18.c91ab739.chunk.js","sourcesContent":["import React, { useCallback, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./index.module.less\";\r\nimport { TextArea, Button, Toast } from \"@douyinfe/semi-ui\";\r\nimport Picker from \"emoji-picker-react\";\r\nimport { connect } from \"react-redux\";\r\nimport { IconImage } from \"@douyinfe/semi-icons\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nfunction Commit(props) {\r\n  const user = props.user;\r\n  const [showEmoji, setShowEmoji] = useState(false);\r\n  const [commitText, setCommitText] = useState(\"\");// 评论内容\r\n//   const [emoText, setEmoText] = useState(\"\"); // 选择的emoji\r\n  const onEmojiClick = useCallback((e, emo) => {\r\n    //   setEmoText(emo.emoji);\r\n    //   setCommitText(emo.names[0] + commitText);\r\n  }, []);\r\n  const handleValueChange = (val) => {\r\n    setCommitText(val);\r\n  }\r\n  const showEmojiSelect = () => {\r\n    setShowEmoji(!showEmoji);\r\n  };\r\n  const commit = () => {\r\n      if(!commitText) {\r\n        Toast.warning({\r\n            content: \"请先输入内容哦😊\",\r\n            duration: 2\r\n        });\r\n        return;\r\n      }\r\n    // 回传给父组件\r\n      setCommitText(\"\"); // 输入框清空\r\n      props.commit && props.commit(commitText)\r\n  }\r\n  return (\r\n    <div className={style.commit} id=\"comment\">\r\n      <div className=\"commit-header\">\r\n        <h3 className=\"title\">评论</h3>\r\n        <span className=\"nums\">共{props.commitNum}条评论</span>\r\n      </div>\r\n      <div className=\"commit-wrap\">\r\n        <img src={user ? user.avatarUrl : 'http://s4.music.126.net/style/web2/img/default/default_avatar.jpg?param=50y50'} alt=\"\" />\r\n        <div className=\"commit-content\">\r\n          <TextArea placeholder=\"评论\" value={commitText} onChange={handleValueChange} maxCount={props.commitLength}></TextArea>\r\n          <div className=\"commit-opearte\">\r\n            <IconImage onClick={showEmojiSelect} />\r\n            <Button onClick={commit}>评论</Button>\r\n          </div>\r\n          {showEmoji ? (\r\n            <div className=\"emoji-box\">\r\n              <Picker onEmojiClick={onEmojiClick} />\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nCommit.propTypes = {\r\n  commitNum: PropTypes.number, // 评论数量\r\n  commitLength: PropTypes.number, // 评论内容限制长度\r\n};\r\n\r\nexport default connect(mapStateToProps)(Commit);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"commit\":\"index_commit__2Pc8Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comment-list\":\"commitList_comment-list__V9s6g\"};","import ins from \"./request\";\r\n\r\n/**\r\n * 新版获取评论列表\r\n * 资源 id, 如歌曲 id,mv id\r\n * type: 数字  0: 歌曲 1: mv 2: 歌单 3: 专辑 4: 电台 5: 视频 6: 动态\r\n * pageNo:分页参数,第 N 页,默认为 1\r\n * pageSize:分页参数,每页多少条数据,默认 20\r\n * sortType: 排序方式, 1:按推荐排序, 2:按热度排序, 3:按时间排序\r\n * cursor: 当sortType为 3 时且页数不是第一页时需传入,值为上一条数据的 time\r\n */\r\nexport async function getCommentList({id, type, pageNo = 1, pageSize = 20, timestamp}) {\r\n    const res = await ins.get(\"/comment/new\", {\r\n        params: {\r\n            id,\r\n            type, \r\n            pageNo, \r\n            pageSize,\r\n            timestamp\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n/**\r\n * 发送（回复）评论\r\n */\r\nexport async function comment({t, type, id, content, commentId, timestamp}) {\r\n    const res = await ins.post(\"/comment\", {\r\n            t, type, id, content, commentId, timestamp\r\n    });\r\n    return res;\r\n};\r\n\r\n// 给评论点赞\r\nexport async function likeComment({id, cid, t, type, threadId, timestamp }) {\r\n    const res = await ins.post(\"/comment/like\", {\r\n        id, cid, t, type, threadId, timestamp\r\n    });\r\n    return res;\r\n};\r\n","import React from \"react\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { IconLikeThumb } from \"@douyinfe/semi-icons\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user\r\n\t}\r\n};\r\n\r\nfunction Item(props) {\r\n\tconst { c, user } = props;\r\n\treturn (\r\n\t\t<li className=\"comment-item\" key={c.commentId}>\r\n\t\t\t<Link to={\"/user/home?uid=\" + c.user.userId}>\r\n\t\t\t\t<LazyLoad height={50} debounce={500} placeholder={<img width={50} height={50} src=\"http://s4.music.126.net/style/web2/img/default/default_avatar.jpg?param=50y50\" />}>\r\n\t\t\t\t\t<img src={c.user.avatarUrl} alt=\"\" />\r\n\t\t\t\t</LazyLoad>\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"comment-desc\">\r\n\t\t\t\t<p className=\"comment-content\">\r\n\t\t\t\t\t<Link className=\"name\" to={\"/user/home?uid=\" + c.user.userId}>\r\n\t\t\t\t\t\t{c.user.nickname}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<span className=\"divider\">:</span>\r\n\t\t\t\t\t<span className=\"content\">{c.content}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t{/* 回复评论列表 */}\r\n\t\t\t\t{c.beReplied.length\r\n\t\t\t\t\t? c.beReplied.map((be) => (\r\n\t\t\t\t\t\t<div key={be.beRepliedCommentId} className=\"beReplied\">\r\n\t\t\t\t\t\t\t<p className=\"comment-content\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName=\"name\"\r\n\t\t\t\t\t\t\t\t\tto={\"/user/home?uid=\" + be.user.userId}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{be.user.nickname}\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<span className=\"divider\">:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"content\">{be.content}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))\r\n\t\t\t\t\t: null}\r\n\t\t\t\t<div className=\"comment-points\">\r\n\t\t\t\t\t<span className=\"time\">{c.timeStr}</span>\r\n\t\t\t\t\t<div className=\"operate\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tuser && c.user.userId === user.userId ? <span className=\"del-wrap\">\r\n\t\t\t\t\t\t\t\t<span className=\"reback\" onClick={() => {\r\n\t\t\t\t\t\t\t\t\tprops.delComment && props.delComment(c.commentId)\r\n\t\t\t\t\t\t\t\t}}>删除</span>\r\n\t\t\t\t\t\t\t\t<span className=\"line\">|</span>\r\n\t\t\t\t\t\t\t</span> : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<span className={c.liked ? 'like liked' : 'like'} onClick={() => {\r\n\t\t\t\t\t\t\tprops.commentLike && props.commentLike(c.commentId, c.liked)\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<IconLikeThumb />\r\n\t\t\t\t\t\t\t{c.likedCount ? (\r\n\t\t\t\t\t\t\t\t<span className=\"num\">({c.likedCount})</span>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"line\">|</span>\r\n\t\t\t\t\t\t<span className=\"reback\">回复</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n}\r\n\r\nexport default connect(mapStateToProps)(Item);\r\n","import React from \"react\";\r\nimport style from \"./commitList.module.less\";\r\nimport Item from \"./Item\"\r\n\r\nexport default function CommitList(props) {\r\n  const { total, comments, hotComments } = props;\r\n  const commentLike = (cid, liked) => {\r\n      props.like && props.like(cid, liked);\r\n  };\r\n  const delComment = (cid) => {\r\n      props.del && props.del(cid);\r\n  };\r\n  return (\r\n    <div className={style[\"comment-list\"]}>\r\n      {hotComments && hotComments.length ? (\r\n        <ul className=\"comment\">\r\n          <li className=\"header\">\r\n            <h3 className=\"title\">精彩评论</h3>\r\n          </li>\r\n          {hotComments.map((c) => (\r\n            <Item commentLike={commentLike} delComment={delComment} key={c.commentId} c={c}></Item>\r\n          ))}\r\n        </ul>\r\n      ) : null}\r\n      <br />\r\n      <br />\r\n      {comments && comments.length ? (\r\n        <ul className=\"comment\">\r\n          <li className=\"header\">\r\n            <h3 className=\"title\">最新评论({total})</h3>\r\n          </li>\r\n          {comments.map((c) => (\r\n            <Item commentLike={commentLike} delComment={delComment} key={c.commentId} c={c}></Item>\r\n          ))}\r\n        </ul>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./tableItem.less\";\r\nimport utils from \"../../../../utils\";\r\nimport { IconPlayCircle, IconPlus, IconFolder, IconForward, IconDownload, IconVideo } from \"@douyinfe/semi-icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getMusicPlayUrl } from \"../../../../services/apis\";\r\nimport { connect } from \"react-redux\";\r\nimport { addSongAction } from \"../../../../store/actions/song\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    song: state.song\r\n  }\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addSong: (...args) => dispatch(addSongAction(...args)),\r\n  };\r\n};\r\nfunction TableItem(props) {\r\n  const { item, index, showAlbum, addSong } = props;\r\n  // 播放歌曲\r\n  const play = async (id) => {\r\n    const res = await getMusicPlayUrl({ id });\r\n    if (res.code === 200) {\r\n      addSong(res.data[0].url);\r\n      localStorage.setItem(\"song_url\", JSON.stringify(res.data[0].url));\r\n    }\r\n  };\r\n  return (\r\n    <li className={utils.isEven(index) ? \"table-item even\" : \"table-item\"}>\r\n      <div className=\"play-num bd\">\r\n        <span className=\"num\">{index}</span>\r\n        <IconPlayCircle onClick={() => {\r\n          play(item.id)\r\n        }} />\r\n      </div>\r\n      <div className=\"title bd ellipsis-1\">\r\n        <Link to={'/find/song?id=' + item.id}>{item.name}</Link>\r\n        {item.alia && item.alia.length ?\r\n          <span className=\"mv-name\">-{item.alia.map(a => a)}</span>\r\n          : null}\r\n        {item.mv ? <Link className=\"mv-play\" to={'/find/mv?id=' + item.mv}><IconVideo /></Link> : null}\r\n      </div>\r\n      <div className=\"duration bd\">\r\n        <span className=\"time\">{utils.formatTime(item.dt)}</span>\r\n        <div className=\"btns\">\r\n          <IconPlus />\r\n          <IconFolder />\r\n          <IconForward />\r\n          <IconDownload />\r\n        </div>\r\n      </div>\r\n      <div className=\"name bd ellipsis-1\">\r\n        {item.ar.map((e, i) => (\r\n          <Link to={'/find/artist?id=' + e.id} key={e.id + i}>{i === 0 ? e.name : `/${e.name}`}</Link>\r\n        ))}\r\n      </div>\r\n      {showAlbum ? <div className=\"album bd ellipsis-1\"><Link to={'/find/album?id=' + item.al.id}>{item.al.name}</Link></div> : null}\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TableItem);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail_container\":\"playlistDetail_detail_container__17Fgh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail-left\":\"detailLeft_detail-left__3pP0S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail-right\":\"detailRight_detail-right__3xOyJ\"};","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport style from \"./detailLeft.module.less\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Tag, Button, Space, Toast, Pagination, Spin } from \"@douyinfe/semi-ui\";\r\nimport {\r\n\t//   IconPlayCircle,\r\n\tIconPlus,\r\n\tIconForward,\r\n\tIconDownload,\r\n\tIconComment,\r\n\tIconChevronUp,\r\n\tIconChevronDown,\r\n} from \"@douyinfe/semi-icons\";\r\nimport utils from \"../../../../utils\";\r\nimport TableItem from \"./TableItem\";\r\nimport Commit from \"../../../../components/Commit\";\r\nimport CommitList from \"../../../../components/CommitList/CommitList\";\r\nimport { comment, likeComment } from \"../../../../services/comment\";\r\nimport { getPlayListCommit } from \"../../../../services/apis\";\r\n\r\n\r\nfunction DetailLeft(props) {\r\n\tconst [comments, setComments] = useState([]); // 评论列表\r\n\tconst [hotComments, setHotComments] = useState([]); // 热门评论列表\r\n\tconst [page, setPage] = useState(1); // 评论列表\r\n\tconst [limit, setLimit] = useState(20); // 页容量\r\n\tconst [total, setTotal] = useState(0); // 总评论数\r\n\tconst [loading, setLoading] = useState(false); // loading\r\n\tconst [open, setOpen] = useState(false);// 是否展开\r\n\tconst { detail, id } = props;\r\n\t// 提交评论\r\n\tconst playListCommit = useCallback(async (val) => {\r\n\t\tconst res = await comment({\r\n\t\t\tt: 1,\r\n\t\t\ttype: 2,\r\n\t\t\tid: id,\r\n\t\t\tcontent: val,\r\n\t\t\ttimestamp: Date.now(),\r\n\t\t});\r\n\t\tif (res.code === 200) {\r\n\t\t\tToast.success({\r\n\t\t\t\tcontent: \"评论成功\",\r\n\t\t\t\tduration: 2,\r\n\t\t\t});\r\n\t\t\tgetComments();\r\n\t\t}\r\n\t}, []);\r\n\t// 页码变化\r\n\tconst handlePageChange = useCallback((page) => {\r\n\t\tsetPage(page);\r\n\t}, []);\r\n\t// 页容量变化\r\n\tconst handleLimitChange = useCallback((limit) => {\r\n\t\tsetLimit(limit);\r\n\t}, []);\r\n\tconst getComments = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst res = await getPlayListCommit({\r\n\t\t\tid: id,\r\n\t\t\tlimit,\r\n\t\t\toffset: (page - 1) * limit,\r\n\t\t\ttimestamp: Date.now(),\r\n\t\t});\r\n\t\tif (res.code === 200) {\r\n\t\t\tsetTotal(res.total);\r\n\t\t\tsetComments(res.comments);\r\n\t\t\tsetHotComments(res.hotComments);\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t}\r\n\t// 获取评论列表\r\n\tuseEffect(() => {\r\n\t\tgetComments();\r\n\t\treturn () => { };\r\n\t}, [id, limit, page]);\r\n\r\n\t// 点赞评论\r\n\tconst like = useCallback(\r\n\t\tasync (cid, liked) => {\r\n\t\t\tconst res = await likeComment({\r\n\t\t\t\tid,\r\n\t\t\t\tcid,\r\n\t\t\t\tt: liked ? 0 : 1,\r\n\t\t\t\ttype: 2,\r\n\t\t\t\ttimestamp: Date.now(),\r\n\t\t\t});\r\n\t\t\tif (res.code === 200) {\r\n\t\t\t\tif (liked) {\r\n\t\t\t\t\tToast.success({\r\n\t\t\t\t\t\tcontent: \"取消赞成功\",\r\n\t\t\t\t\t\tduration: 2,\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tToast.success({\r\n\t\t\t\t\t\tcontent: \"赞成功\",\r\n\t\t\t\t\t\tduration: 2,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tgetComments();\r\n\t\t\t} else {\r\n\t\t\t\tToast.error({\r\n\t\t\t\t\tcontent: \"操作失败\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t[],\r\n\t);\r\n\r\n\t// 删除评论\r\n\tconst del = async (cid) => {\r\n\t\tconst res = await comment({\r\n\t\t\tt: 0,\r\n\t\t\ttype: 2,\r\n\t\t\tid: id,\r\n\t\t\tcommentId: cid,\r\n\t\t\ttimestamp: Date.now(),\r\n\t\t});\r\n\t\tif (res.code === 200) {\r\n\t\t\tToast.success({\r\n\t\t\t\tcontent: \"删除成功\",\r\n\t\t\t\tduration: 2,\r\n\t\t\t});\r\n\t\t\tgetComments();\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<div className={style[\"detail-left\"]}>\r\n\t\t\t<div className=\"top-content\">\r\n\t\t\t\t<div className=\"img\">\r\n\t\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t\t<img src={detail.coverImgUrl} alt=\"\" />\r\n\t\t\t\t\t\t<span className=\"mask\"></span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"list-content\">\r\n\t\t\t\t\t<div className=\"list-name\">\r\n\t\t\t\t\t\t<i className=\"icon-playlist\"></i>\r\n\t\t\t\t\t\t{detail.name}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"create-desc\">\r\n\t\t\t\t\t\t<Link to={\"/user/home?uid=\" + detail.creator.userId}>\r\n\t\t\t\t\t\t\t<img src={detail.creator.avatarUrl} alt=\"\" />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tclassName=\"nick-name\"\r\n\t\t\t\t\t\t\tto={\"/user/home?uid=\" + detail.creator.userId}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{detail.creator.nickname}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t{detail.creator.avatarDetail &&\r\n\t\t\t\t\t\t\tdetail.creator.avatarDetail.identityIconUrl ? (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"icon\"\r\n\t\t\t\t\t\t\t\tsrc={detail.creator.avatarDetail.identityIconUrl}\r\n\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t<div className=\"create-time\">\r\n\t\t\t\t\t\t\t{utils.formatDate(detail.createTime)} 创建\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"operates\">\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t{/* <Button icon={<IconPlayCircle />}>播放</Button> */}\r\n\t\t\t\t\t\t\t<Button type=\"tertiary\" icon={<IconPlus />}>\r\n\t\t\t\t\t\t\t\t({detail.subscribedCount})\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button type=\"tertiary\" icon={<IconForward />}>\r\n\t\t\t\t\t\t\t\t({detail.shareCount})\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button type=\"tertiary\" icon={<IconDownload />}>\r\n\t\t\t\t\t\t\t\t下载\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button type=\"tertiary\" icon={<IconComment />} onClick={() => {\r\n\t\t\t\t\t\t\t\tutils.goAnchor(\"#comment\");\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t({detail.commentCount})\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"tags\">\r\n\t\t\t\t\t\t标签：\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t{detail.tags.map((t) => (\r\n\t\t\t\t\t\t\t\t<Tag key={t}>\r\n\t\t\t\t\t\t\t\t\t<Link className=\"item\" to={\"/find/playlist?cat=\" + t}>\r\n\t\t\t\t\t\t\t\t\t\t{t}\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdetail.description ? <div className=\"desc\">\r\n\t\t\t\t\t\t\t介绍：{open ? detail.description : detail.description.split(\"\\n\").splice(0, 5).join(\"\\n\") + '...'}\r\n\t\t\t\t\t\t\t<div className=\"arrow\" onClick={() => {\r\n\t\t\t\t\t\t\t\tsetOpen(!open);\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<span className=\"text\">{open ? '收起' : '展开'}</span>\r\n\t\t\t\t\t\t\t\t{open ? <IconChevronUp /> : <IconChevronDown />}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div> : null\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"music-list\">\r\n\t\t\t\t<div className=\"list-header\">\r\n\t\t\t\t\t<h3 className=\"title\">歌曲列表</h3>\r\n\t\t\t\t\t<span className=\"total\">{detail.trackCount}首歌</span>\r\n\t\t\t\t\t<span className=\"play-num\">\r\n\t\t\t\t\t\t播放：<span className=\"num\">{detail.playCount}</span>次\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul className=\"list-wrap\">\r\n\t\t\t\t\t<li className=\"table-header\">\r\n\t\t\t\t\t\t<div className=\"play-num\"></div>\r\n\t\t\t\t\t\t<div className=\"title bd\">歌曲标题</div>\r\n\t\t\t\t\t\t<div className=\"duration bd\">时长</div>\r\n\t\t\t\t\t\t<div className=\"name bd\">歌手</div>\r\n\t\t\t\t\t\t<div className=\"album bd\">专辑</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t{detail.tracks.map((t, i) => (\r\n\t\t\t\t\t\t<TableItem showAlbum={true} key={t.id} index={i + 1} item={t} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<Commit\r\n\t\t\t\tcommitNum={detail.commentCount}\r\n\t\t\t\tcommit={playListCommit}\r\n\t\t\t\tcommitLength={140}\r\n\t\t\t/>\r\n\t\t\t<CommitList like={like} del={del} total={total} comments={comments} hotComments={hotComments} />\r\n\t\t\t{total > 0 ? (\r\n\t\t\t\t<div className=\"pagination-wrapper\">\r\n\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\ttotal={total}\r\n\t\t\t\t\t\tcurrentPage={page}\r\n\t\t\t\t\t\tonPageChange={handlePageChange}\r\n\t\t\t\t\t\tshowSizeChanger\r\n\t\t\t\t\t\tpageSize={limit}\r\n\t\t\t\t\t\tpageSizeOpts={[20, 30, 50]}\r\n\t\t\t\t\t\tonPageSizeChange={handleLimitChange}\r\n\t\t\t\t\t></Pagination>\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t\t<Spin\r\n\t\t\t\tspinning={loading}\r\n\t\t\t\ttip=\"loading...\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\ttop: \"50%\",\r\n\t\t\t\t\tleft: \"50%\",\r\n\t\t\t\t\ttransform: \"translate(-50%, -50%)\",\r\n\t\t\t\t\tzIndex: \"9999\",\r\n\t\t\t\t}}\r\n\t\t\t></Spin>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DetailLeft;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport style from \"./detailRight.module.less\";\r\nimport { Avatar } from \"@douyinfe/semi-ui\";\r\nimport { getPlaylist } from \"../../../../services/apis\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function DetailRight(props) {\r\n  const detail = props.detail;\r\n  const tagName = detail.tags[0];\r\n  const [list, setList] = useState([]);\r\n  useEffect(() => {\r\n    (async () => {\r\n      const res = await getPlaylist({\r\n        cat: tagName,\r\n      });\r\n      if(res.code === 200) {\r\n          setList(res.playlists.splice(0, 5));\r\n      }\r\n    })();\r\n    return () => {};\r\n  }, []);\r\n  return (\r\n    <div className={style[\"detail-right\"]}>\r\n        {detail.subscribers.length ? <div className=\"play-like\">\r\n        <h3 className=\"title\">喜欢这个歌单的人</h3>\r\n        <div className=\"like-wrap\">\r\n          {detail.subscribers.map((s) => (\r\n              <Link key={s.userId} to={'/user/home?uid=' + s.userId }><Avatar src={s.avatarUrl} shape=\"square\" /></Link>\r\n          ))}\r\n        </div>\r\n      </div> : null}\r\n      <div className=\"play-hot\">\r\n          <h3 className=\"title\">热门歌单</h3>\r\n          <div className=\"hot-content\">\r\n              {list ? list.map(l => <div key={l.id} className=\"hot-item\">\r\n                <Link to={'/find/playlist/detail?id=' + l.id}><img src={l.coverImgUrl} alt=\"\" /></Link>\r\n                  <div className=\"desc\">\r\n                      <Link to={'/find/playlist/detail?id=' + l.id} className=\"sub-title\">{l.name}</Link>\r\n                      <span className=\"text\">by <Link to={'/user/home?uid=' + l.creator.userId} className=\"name\">{l.creator.nickname}</Link></span>\r\n                  </div>\r\n              </div>) : null}\r\n              \r\n          </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport style from \"./playlistDetail.module.less\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { getPlayListDetail } from \"../../../../services/apis\";\r\nimport qs from \"query-string\";\r\nimport DetailLeft from \"./DetailLeft.jsx\";\r\nimport DetailRight from \"./DetailRight\";\r\nimport { Spin } from \"@douyinfe/semi-ui\";\r\n\r\nexport default function PlaylistDetail(props) {\r\n  const location = useLocation();\r\n  const id = qs.parse(location.search).id;\r\n  const [detail, setDetail] = useState(null);\r\n  const [loading, setLoading] = useState(false); // loading\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true);\r\n      const res = await getPlayListDetail({ id });\r\n      if (res.code === 200) {\r\n        setLoading(false);\r\n        setDetail(res.playlist);\r\n      }\r\n    })();\r\n    return () => {};\r\n  }, [id]);\r\n  return (\r\n    <>\r\n      {detail ? (\r\n        <div className={style.detail_container}>\r\n          <div className=\"left\">\r\n            <DetailLeft detail={detail} id={id} />\r\n          </div>\r\n          <div className=\"right\">\r\n            <DetailRight detail={detail} />\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n      <Spin\r\n        spinning={loading}\r\n        tip=\"loading...\"\r\n        size=\"large\"\r\n        style={{\r\n          position: \"fixed\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -50%)\",\r\n          zIndex: \"9999\",\r\n        }}\r\n      ></Spin>\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}