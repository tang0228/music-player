(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[30],{1319:function(e,t,c){},1366:function(e,t,c){"use strict";c.r(t);var a=c(32),s=c(30),n=c(19),r=c.n(n),l=c(1),i=(c(1319),c(107)),j=c(40),b=c(174),u=c(126),d=c(15),O=[{text:"\u57fa\u672c\u8bbe\u7f6e",key:"1"},{text:"\u7ed1\u5b9a\u8bbe\u7f6e",key:"2"},{text:"\u9690\u79c1\u8bbe\u7f6e",key:"3"}];t.default=Object(i.b)((function(e){return{user:e.user}}),(function(e){return{addUser:function(){return e(u.c.apply(void 0,arguments))}}}))((function(e){var t=e.user,c=e.addUser,n=t.userId,i=Object(l.useState)(t.gender),u=Object(s.a)(i,2),o=u[0],x=u[1],h=Object(l.useState)(t.nickname),v=Object(s.a)(h,2),m=v[0],p=v[1],f=Object(l.useState)(t.birthday),k=Object(s.a)(f,2),N=k[0],y=k[1],g=Object(l.useState)(t.signature),w=Object(s.a)(g,2),C=w[0],S=w[1],J=Object(l.useCallback)((function(e){p(e)}),[]),U=Object(l.useCallback)((function(e){S(e)}),[]),A=Object(l.useCallback)((function(e){x(e.target.value)}),[]),I=Object(l.useCallback)((function(e,t){var c=new Date(t).getTime();y(c)}),[]),K=Object(l.useCallback)(Object(a.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.G)({gender:o,nickname:m,birthday:N,signature:C,city:330100,province:33e4});case 2:if(200!==e.sent.code){e.next=9;break}return j.x.success({content:"\u4fdd\u5b58\u6210\u529f",duration:2}),e.next=7,Object(b.A)({uid:n});case 7:200===(t=e.sent).code&&(c(t.profile),localStorage.setItem("user",JSON.stringify(t.profile)));case 9:case"end":return e.stop()}}),e)}))),[o,m,N,C,n]),D=O.map((function(e){return Object(d.jsx)(j.t,{tab:e.text,itemKey:e.key},e.key)}));return Object(d.jsxs)("div",{className:"user-update-container",children:[Object(d.jsx)("h2",{className:"title",children:"\u4e2a\u4eba\u8bbe\u7f6e"}),Object(d.jsx)("div",{className:"user-tabs",children:Object(d.jsx)(j.u,{type:"card",defaultActiveKey:"1",children:D})}),Object(d.jsxs)("div",{className:"user-box",children:[Object(d.jsxs)("div",{className:"update-wrap",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"label",children:"\u6635\u79f0:"}),Object(d.jsx)(j.h,{value:m,onChange:J})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"label",children:"\u4ecb\u7ecd:"}),Object(d.jsx)(j.w,{value:C,maxCount:300,showCounter:!0,onChange:U})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"label",children:"\u6027\u522b:"}),Object(d.jsxs)(j.o,{value:o,onChange:A,children:[Object(d.jsx)(j.n,{value:1,children:"\u7537"}),Object(d.jsx)(j.n,{value:2,children:"\u5973"}),Object(d.jsx)(j.n,{value:0,children:"\u4fdd\u5bc6"})]})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"label",children:"\u751f\u65e5:"}),Object(d.jsx)(j.d,{value:N,onChange:I,showClear:!1})]}),Object(d.jsx)("div",{className:"btn-wrap",children:Object(d.jsx)(j.c,{onClick:K,children:"\u4fdd\u5b58"})})]}),Object(d.jsxs)("div",{className:"user-avatar",children:[Object(d.jsx)("img",{src:t.avatarUrl,alt:""}),Object(d.jsx)("span",{className:"bg",children:"\u66f4\u6362\u5934\u50cf"})]})]})]})}))}}]);
//# sourceMappingURL=30.3c16f9e9.chunk.js.map