(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[29],{1213:function(e,t,a){"use strict";t.a=a.p+"static/media/loading.4c0ea1e7.svg"},1359:function(e,t,a){e.exports={"album-list":"index_album-list__6OFJv"}},1360:function(e,t,a){e.exports={"album-item":"item_album-item__3e6iz"}},1388:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(215),c=a(30),s=a(1),i=a(1359),r=a.n(i),l=a(32),u=a(19),b=a.n(u),j=a(36);function d(){return(d=Object(l.a)(b.a.mark((function e(t){var a,n,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,n=t.offset,c=t.area,e.next=3,j.a.get("/album/new",{params:{limit:a,offset:n,area:c}});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var o=a(174),m=a(59),O=a(90),f=a(40),p=a(1211),x=a.n(p),h=a(1360),g=a.n(h),v=a(1213),N=a(15);function w(e){return Object(N.jsxs)("div",{className:g.a["album-item"],children:[Object(N.jsxs)("div",{className:"album-img",children:[Object(N.jsxs)(O.b,{to:"/find/album?id="+e.id,children:[Object(N.jsx)(x.a,{height:130,debounce:500,placeholder:Object(N.jsx)("img",{width:"100%",height:"100%",src:v.a}),children:Object(N.jsx)("img",{src:e.blurPicUrl,alt:""})}),Object(N.jsx)("span",{className:"al-mask"})]}),Object(N.jsx)("i",{className:"icon-album-play"})]}),Object(N.jsx)(O.b,{to:"/find/album?id="+e.id,className:"album-name",children:e.name}),Object(N.jsx)(O.b,{to:"/find/artist?id="+e.artist.id,className:"singer-name",children:e.artist.name})]},e.id)}var y=a(1214),S=a.n(y),_=[{text:"\u5168\u90e8",target:"ALL"},{text:"\u534e\u8bed",target:"ZH"},{text:"\u6b27\u7f8e",target:"EA"},{text:"\u97e9\u56fd",target:"KR"},{text:"\u65e5\u672c",target:"JP"}];function k(){var e=Object(s.useState)([]),t=Object(c.a)(e,2),a=t[0],i=t[1],l=Object(s.useState)(0),u=Object(c.a)(l,2),b=u[0],j=u[1],p=Object(s.useState)([]),x=Object(c.a)(p,2),h=x[0],g=x[1],v=Object(s.useState)(!1),y=Object(c.a)(v,2),k=y[0],z=y[1],J=Object(s.useState)(1),L=Object(c.a)(J,2),P=L[0],A=L[1],E=Object(m.h)(),C=S.a.parse(E.search).area||"ALL";Object(s.useEffect)((function(){return Object(o.d)().then((function(e){200===e.code&&i(e.albums.splice(0,10))}),(function(e){console.log(e,123),f.x.error({content:e,duration:2})})),function(){}}),[]),Object(s.useEffect)((function(){return z(!0),function(e){return d.apply(this,arguments)}({limit:35,offset:35*(P-1),area:C}).then((function(e){200===e.code&&(j(e.total),g(e.albums),z(!1))}),(function(e){z(!1),f.x.error({content:e,duration:2})})),function(){}}),[P,C]);return Object(N.jsxs)("div",{className:r.a["album-list"],children:[Object(N.jsx)("div",{className:"header",children:Object(N.jsx)("div",{className:"title",children:"\u70ed\u95e8\u65b0\u789f"})}),Object(N.jsx)("div",{className:"album-wrapper",children:a?a.map((function(e){return Object(N.jsx)(w,Object(n.a)({},e),e.id)})):null}),Object(N.jsxs)("div",{className:"header",children:[Object(N.jsx)("div",{className:"title",children:"\u5168\u90e8\u65b0\u789f"}),Object(N.jsx)("div",{className:"cat-nav",children:_.map((function(e,t){return Object(N.jsxs)(O.b,{to:"/find/album/list?area="+e.target,className:"item",children:[e.text," ",t<4?Object(N.jsx)("span",{className:"line",children:"|"}):""]},e.target)}))})]}),Object(N.jsx)("div",{className:"album-wrapper",children:h?h.map((function(e){return Object(N.jsx)(w,Object(n.a)({},e),e.id)})):null}),b>0?Object(N.jsx)("div",{className:"pagination-wrapper",children:Object(N.jsx)(f.k,{total:b,currentPage:P,onPageChange:function(e){A(e)},pageSize:35})}):null,Object(N.jsx)(f.s,{spinning:k,tip:"loading...",size:"large",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:"9999"}})]})}}}]);
//# sourceMappingURL=29.db0d6b5e.chunk.js.map