{"version":3,"sources":["store/actions/song.js","common/navList.js","services/search.js","common/subNav.js","components/SubNav/index.jsx","components/CommonHeader/SearchSuggest.jsx","components/CommonHeader/index.jsx","components/CommonFooter/index.jsx","store/actions/volumn.js","components/SongPlay/SongList.jsx","components/SongPlay/index.jsx","pages/Find/index.jsx","pages/User/index.jsx","components/Spinner/index.jsx","App.js","store/reducers/user.js","store/reducers/song.js","store/reducers/curSong.js","store/reducers/volumn.js","store/index.js","index.js","store/actions/user.js","services/apis.js","store/actions/curSongId.js","services/request.js","components/Login/index.jsx","components/CommonHeader/suggest.module.less","components/SongPlay/index.module.less","components/SongPlay/songList.module.less","pages/Find/index.module.less","utils/index.js"],"names":["ADDSONG","Symbol","DELETEALLSONG","DELETEONESONG","ADDSONGLIST","addSongAction","song","type","payload","addSongListAction","songs","deleteAllSongAction","deleteOneSongAction","id","navList","text","url","hot","a","keywords","ins","get","params","res","subNavList","SubNav","lis","map","nav","exact","to","className","SearchSuggest","props","data","style","s","name","artists","albums","playlists","p","connect","state","user","dispatch","delUser","delUserAction","withRouter","history","useHistory","showSubNav","useLocation","pathname","startsWith","useState","keyword","setKeyword","visible","setVisible","suggest","setSuggest","showSS","setShowSS","useEffect","document","addEventListener","handleClick","removeEventListener","e","getSearchSuggest","searchSuggest","then","code","result","searchMusic","Toast","warning","content","duration","push","handleLogout","logout","localStorage","removeItem","success","error","onClick","stopPropagation","background","outline","onEnterPress","placeholder","prefix","value","onChange","val","onFocus","showClear","trigger","position","render","Menu","Item","icon","userId","src","avatarUrl","marginLeft","cursor","Login","closeModal","CommonFooter","href","target","SETVOLUMNANDTYPE","setVolumnAndTypeAction","obj","SongList","lyric","setLyric","curSongId","curSong","getLyric","lrc","replace","length","preventDefault","deleteAllSong","onClose","tagName","deleteOneSong","itemClickPlay","ar","i","utils","formatTime","dt","flag","volAndType","setCurSongId","setCurSongIdAction","setVolAndType","delOneSong","delAllSong","isPlay","setIsPlay","showVoiceControl","setShowVoiceControl","curHeight","setCurHeight","dragTop","setDragTop","curWidth","setCurWidth","curTime","setCurTime","showList","setShowList","playType","setPlayType","playIngSong","find","audio","getElementById","rect","querySelector","getBoundingClientRect","parseInt","height","vol","volume","next","curIndex","findIndex","nextIndex","autoplay","title","prevIndex","pause","play","al","picUrl","alt","mv","clickX","clientX","curLeft","left","width","endCurWidth","currentTime","dragSetCurTime","Math","floor","visibility","clickY","clientY","endCurHeignt","top","getPlayTypeText","delIndex","nenxtId","loop","onTimeUpdate","onEnded","index","getRandomIntNumber","Find","children","window","scrollTo","NProgress","start","done","Index","lazy","Search","PlayList","Friend","UserHome","UserUpdate","UserEvent","PlaylistDetail","SongDetail","ArtistDetail","AlbumDetail","MvDetail","TopList","Dj","CatDetail","DJRank","DJRecommend","Program","DjDetail","AlbumList","SingerCat","Download","Mall","Musician","MyMusic","NotFound","App","Header","Layout","Footer","Content","fallback","path","component","bottom","initialState","JSON","parse","getItem","rootReducer","combineReducers","ADDUSER","DELUSER","unique","setItem","stringify","list","filter","SETSONGID","store","createStore","ReactDOM","addUserAction","search","limit","offset","phoneLogin","phone","password","getPlaylist","cat","order","getPlayListCat","getUserDetail","uid","timestamp","Date","now","getUserRecord","getUserPlayList","updateUserInfo","gender","birthday","nickname","province","city","signature","getMusicPlayUrl","getSongDetail","ids","getSongUrl","getPlayListDetail","getHotPlayList","getPlayListCommit","getSimiPlayList","getSimiSong","getSongComment","getSimiArtist","getArtistSongs","getArtistAlbums","getArtistMv","getArtistDesc","getAlbum","getAlbumCommit","getBanner","getPersonalized","getDayPlsyList","getAlbumNewest","userSignIn","getTop","axios","create","baseURL","withCredentials","interceptors","response","use","status","Promise","resolve","reject","addUser","setPhone","setPassword","useCallback","handleOk","console","log","profile","setCookie","token","msg","onOk","onCancel","centered","bodyStyle","footer","Input","field","label","rules","required","message","mode","module","exports","isEven","num","paddingLeft","mss","h","m","this","arr","Map","has","set","getTextByType","key","Cookie","getCookie","formatDate","time","day","format","goAnchor","selector","offsetTop","min","max","random"],"mappings":"oHAAA,gRAAO,IAAMA,EAAUC,OAAO,YACjBC,EAAgBD,OAAO,mBACvBE,EAAgBF,OAAO,mBACvBG,EAAcH,OAAO,iBAG3B,SAASI,EAAcC,GAC1B,MAAO,CACHC,KAAMP,EACNQ,QAASF,GAKV,SAASG,EAAkBC,GAC9B,MAAO,CACHH,KAAMH,EACNI,QAASE,GAKV,SAASC,IACZ,MAAO,CACHJ,KAAML,GAKP,SAASU,EAAoBC,GAChC,MAAO,CACHN,KAAMJ,EACNK,QAASK,K,mQCtBFC,EATC,CACZ,CAACC,KAAM,2BAAQC,IAAK,QAASC,KAAK,GAClC,CAACF,KAAM,2BAAQC,IAAK,WAAYC,KAAK,GACrC,CAACF,KAAM,eAAMC,IAAK,UAAWC,KAAK,GAClC,CAACF,KAAM,eAAMC,IAAK,QAASC,KAAK,GAChC,CAACF,KAAM,qBAAOC,IAAK,YAAaC,KAAK,GACrC,CAACF,KAAM,iCAASC,IAAK,YAAaC,KAAK,I,iGCJpC,+BAAAC,EAAA,6DAA+BC,EAA/B,EAA+BA,SAA/B,SACeC,IAAIC,IAAI,kBAAmB,CACzCC,OAAQ,CACJH,cAHL,cACGI,EADH,yBAMIA,GANJ,4C,mCCOQC,EATI,CACf,CAACT,KAAM,eAAMC,IAAK,QAASC,KAAK,GAChC,CAACF,KAAM,qBAAOC,IAAK,gBAAiBC,KAAK,GACzC,CAACF,KAAM,eAAMC,IAAK,iBAAkBC,KAAK,GACzC,CAACF,KAAM,2BAAQC,IAAK,gBAAiBC,KAAK,GAC1C,CAACF,KAAM,eAAMC,IAAK,yBAA0BC,KAAK,GACjD,CAACF,KAAM,2BAAQC,IAAK,mBAAoBC,KAAK,I,iBCFlC,SAASQ,IACtB,IAAMC,EAAMF,EAAWG,KAAI,SAACC,GAAD,OACzB,cAAC,IAAD,CAAuBC,OAAK,EAACC,GAAIF,EAAIZ,IAAKe,UAAU,eAApD,SACE,oBAAIA,UAAU,eAAd,SAA6B,6BAAKH,EAAIb,UAD1Ba,EAAIZ,QAIpB,OAAO,oBAAIe,UAAU,oBAAd,SAAmCL,I,sBCP7B,SAASM,EAAcC,GAClC,IAAQC,EAASD,EAATC,KACR,OACI,qBAAKH,UAAWI,IAAK,QAArB,SACI,sBAAKJ,UAAU,UAAf,UACKG,EAAKxB,MAAQ,sBAAKqB,UAAU,OAAf,UACV,qBAAIA,UAAU,KAAd,UACI,mBAAGA,UAAU,oBACb,iDAEJ,oBAAIA,UAAU,KAAd,SACKG,EAAKxB,MAAMiB,KAAI,SAAAS,GAAC,OAAI,6BAAe,eAAC,IAAD,CAAMN,GAAI,iBAAmBM,EAAEvB,GAA/B,UAAoCuB,EAAEC,KAAtC,IAA6CD,EAAEE,QAAQ,GAAGD,SAAhED,EAAEvB,YAE/B,KACRqB,EAAKI,QAAU,sBAAKP,UAAU,OAAf,UACZ,qBAAIA,UAAU,KAAd,UACI,mBAAGA,UAAU,qBACb,iDAEJ,oBAAIA,UAAU,QAAd,SACKG,EAAKI,QAAQX,KAAI,SAAAT,GAAC,OAAI,6BAAe,cAAC,IAAD,CAAMY,GAAI,mBAAqBZ,EAAEL,GAAjC,SAAsCK,EAAEmB,QAA9CnB,EAAEL,YAEjC,KACRqB,EAAKK,OAAS,sBAAKR,UAAU,OAAf,UACX,qBAAIA,UAAU,KAAd,UACI,mBAAGA,UAAU,oBACb,iDAEJ,oBAAIA,UAAU,KAAd,SACKG,EAAKK,OAAOZ,KAAI,SAAAT,GAAC,OAAI,6BAAe,cAAC,IAAD,CAAMY,GAAI,kBAAoBZ,EAAEL,GAAhC,SAAqCK,EAAEmB,QAA7CnB,EAAEL,YAEhC,KACRqB,EAAKM,UAAY,sBAAKT,UAAU,OAAf,UACd,qBAAIA,UAAU,KAAd,UACI,mBAAGA,UAAU,mBACb,iDAEJ,oBAAIA,UAAU,QAAd,SACKG,EAAKM,UAAUb,KAAI,SAAAc,GAAC,OAAI,6BAAe,cAAC,IAAD,CAAMX,GAAI,qBAAuBW,EAAE5B,GAAnC,SAAwC4B,EAAEJ,QAAhDI,EAAE5B,YAEnC,UCmKV6B,mBAxLS,SAACC,GACxB,MAAO,CACNC,KAAMD,EAAMC,SAIa,SAACC,GAC3B,MAAO,CACNC,QAAS,kBAAaD,EAASE,IAAa,WAAb,kBAgLlBL,CAGbM,aA/KF,SAAsBf,GACrB,IAAQW,EAAkBX,EAAlBW,KAAME,EAAYb,EAAZa,QACRG,EAAUC,cAEZC,EADaC,cACSC,SAASC,WAAW,SAC9C,EAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAA8BJ,mBAAS,MAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KACA,EAA4BN,oBAAS,GAArC,mBAAOO,EAAP,KAAeC,EAAf,KAGAC,qBAAU,WAET,OADAC,SAASC,iBAAiB,QAASC,GAC5B,WACNF,SAASG,oBAAoB,QAASD,MAErC,IAEH,IAAMA,EAAc,SAAAE,GACnBN,GAAU,IAgBLO,EAAmB,SAACnD,IJnEpB,SAAP,mCIoEEoD,CAAc,CAAEpD,aAAYqD,MAAK,SAAAjD,GACf,MAAbA,EAAIkD,MACPZ,EAAWtC,EAAImD,YAWZC,EAAW,uCAAG,sBAAAzD,EAAA,yDACdsC,EADc,uBAElBoB,IAAMC,QAAQ,CACbC,QAAS,kGACTC,SAAU,IAJO,0BAQnB9B,EAAQ+B,KAAR,2BAAiCxB,IARd,2CAAH,qDAWXyB,EAAY,uCAAG,sBAAA/D,EAAA,sEACFgE,cADE,OAEH,MAFG,OAEZT,MACPxB,EAAQ+B,KAAK,SACblC,IACAqC,aAAaC,WAAW,QACxBR,IAAMS,QAAQ,CACbP,QAAS,iFACTC,SAAU,KAGXH,IAAMU,MAAM,CACXR,QAAS,2BACTC,SAAU,IAbQ,2CAAH,qDAkBZrD,EAAMZ,EAAQa,KAAI,SAACC,GAAD,OACvB,cAAC,IAAD,CAASE,GAAIF,EAAIZ,IAAmBe,UAAU,WAA9C,SACC,oBAAIA,UAAU,WAAd,SAA0BH,EAAIb,QADJa,EAAIZ,QAIhC,OACC,qCACC,sBAAKe,UAAU,cAAf,UACC,qBAAKA,UAAU,WAAf,SACC,cAAC,IAAD,CAAMA,UAAU,YAAYD,GAAG,QAA/B,4BAID,oBAAIC,UAAU,WAAd,SAA0BL,IAC1B,sBAAKK,UAAU,aAAf,UACC,qBAAKwD,QAAS,SAAAlB,GACbA,EAAEmB,mBADH,SAGC,cAAC,IAAD,CACCrD,MAAO,CACNsD,WAAY,OACZC,QAAS,QAEVC,aAAchB,EACdiB,YAAY,sDACZC,OAAQ,cAAC,IAAD,IACRC,MAAOtC,EACPuC,SAlFgB,SAACC,GACtB,IAAKA,EAGJ,OAFAjC,GAAU,QACVN,EAAWuC,GAGZjC,GAAU,GACVN,EAAWuC,GACX1B,EAAiB0B,IA2EZC,QA/Dc,WACfzC,GACHO,GAAU,IA8DNmC,WAAS,MAGVpC,GAAUF,EAAU,qBAAK7B,UAAU,iBAAf,SACpB,cAACC,EAAD,CAAeE,KAAM0B,MACb,QAEThB,EACA,qBAAKb,UAAU,WAAf,SACC,cAAC,IAAD,CACCoE,QAAS,QACTC,SAAU,SACVC,OACC,eAAC,IAASC,KAAV,WACC,cAAC,IAASC,KAAV,CAAeC,KAAM,cAAC,KAAD,IAArB,SACC,cAAC,IAAD,CAAM1E,GAAE,yBAAoBc,EAAK6D,QAAjC,wCAED,cAAC,IAASF,KAAV,CAAeC,KAAM,cAAC,IAAD,IAArB,SACC,cAAC,IAAD,CAAM1E,GAAE,cAAR,wCAED,cAAC,IAASyE,KAAV,CAAeC,KAAM,cAAC,IAAD,IAArB,sCAGA,cAAC,IAASD,KAAV,CAAeC,KAAM,cAAC,IAAD,IAArB,6BAGA,cAAC,IAASD,KAAV,CAAeC,KAAM,cAAC,IAAD,IAArB,sCAGA,cAAC,IAASD,KAAV,CAAeC,KAAM,cAAC,KAAD,IAArB,sCAGA,cAAC,IAASD,KAAV,CAAeC,KAAM,cAAC,IAAD,IAAcjB,QAASN,EAA5C,6BAvBH,SA6BC,cAAC,IAAD,CAAQyB,IAAK9D,EAAK+D,gBAIpB,qBAAKxE,MAAO,CACXyE,WAAY,GACZC,OAAQ,WAERtB,QAAS,WACR5B,GAAW,IALb,6BAYDR,EAAa,cAAC,EAAD,IAAa,qBAAKpB,UAAU,YAC1C,cAAC+E,EAAA,EAAD,CACCpD,QAASA,EACTqD,WAAY,WACXpD,GAAW,a,QCrMD,SAASqD,IACpB,OACI,qBAAKjF,UAAU,mBAAf,SACI,qBAAKA,UAAU,SAAf,SACI,qBAAKA,UAAU,OAAf,SACI,oBAAGA,UAAU,OAAb,UACI,mBAAGkF,KAAK,kDAAkDC,OAAO,SAAjE,sCACA,sBAAMnF,UAAU,OAAhB,eACA,mBAAGkF,KAAK,kDAAkDC,OAAO,SAAjE,sCACA,sBAAMnF,UAAU,OAAhB,eACA,mBAAGkF,KAAK,mDAAmDC,OAAO,SAAlE,kDACA,sBAAMnF,UAAU,OAAhB,eACA,mBAAGkF,KAAK,sDAAsDC,OAAO,SAArE,kDACA,sBAAMnF,UAAU,OAAhB,eACA,mBAAGkF,KAAK,kDAAkDC,OAAO,SAAjE,sCACA,sBAAMnF,UAAU,OAAhB,eACA,mBAAGkF,KAAK,kDAAkDC,OAAO,SAAjE,+C,gDCnBXC,EAAmBlH,OAAO,mBAGhC,SAASmH,EAAuBC,GACnC,MAAO,CACH9G,KAAM4G,EACN3G,QAAS6G,G,sBCAF,SAASC,EAASrF,GAC7B,MAA0BsB,mBAAS,IAAnC,mBAAOgE,EAAP,KAAcC,EAAd,KACQ9G,EAA8BuB,EAA9BvB,MAAO+G,EAAuBxF,EAAvBwF,UAAWC,EAAYzF,EAAZyF,QAa1B,OAVA1D,qBAAU,WAMN,OALA2D,YAAS,CAAE9G,GAAI4G,IAAajD,MAAK,SAAAjD,GACZ,MAAbA,EAAIkD,MACJ+C,EAASjG,EAAIqG,IAAIL,MAAMM,QAAQ,gBAAiB,QAGjD,eAER,CAACJ,IAGA,sBAAK1F,UAAWI,IAAM,kBAAmBoD,QAAS,SAAClB,GAC/CpC,EAAMsD,SAAWtD,EAAMsD,QAAQlB,IADnC,UAGI,sBAAKtC,UAAU,cAAf,UACI,qBAAIA,UAAU,QAAd,sCAA4BrB,EAAMoH,OAAlC,OACA,oBAAGvC,QAAS,SAAAlB,GAAC,OAAIA,EAAE0D,kBAAkBhG,UAAU,UAA/C,UACI,mBAAGA,UAAU,aACb,+DAEJ,sBAAMA,UAAU,SAChB,oBAAGA,UAAU,MAAMwD,QAAS,SAAClB,GACzBA,EAAE0D,iBACF9F,EAAM+F,iBAFV,UAII,mBAAGjG,UAAU,aACb,mDAEJ,mBAAGA,UAAU,OAAb,SAAqB2F,EAAUA,EAAQpH,KAAK+B,KAAO,OACnD,mBAAGN,UAAU,aAAawD,QAAS,WAC/BtD,EAAMgG,WADV,sBAIJ,sBAAKlG,UAAU,eAAf,UACI,qBAAKA,UAAU,YAAf,SACI,oBAAIA,UAAU,OAAd,SACKrB,GAASA,EAAMiB,KAAI,SAAAS,GAAC,OAAI,qBAAIL,UAAU,YAAuBwD,QAAS,SAAClB,GACpE,IAAI6D,EAAU7D,EAAE6C,OAAOgB,QAASrH,EAAKwD,EAAE6C,OAAOrG,GAC9B,MAAZqH,GAA0B,QAAPrH,EACnBoB,EAAMkG,cAAc/F,EAAEvB,IAEtBoB,EAAMmG,cAAchG,EAAEvB,KALL,UAQrB,mBAAGA,GAAG,UAAUkB,UAAW0F,GAAarF,EAAEvB,GAAK,sBAAwB,WACvE,sBAAMkB,UAAU,aAAhB,SAA8BK,EAAE9B,KAAK+B,OACrC,mBAAGxB,GAAG,MAAMkB,UAAU,aACtB,sBAAMA,UAAU,eAAhB,SACKK,EAAE9B,KAAK+H,GAAG1G,KAAI,SAACT,EAAGoH,GAAJ,OAAU,eAAC,IAAD,CAAiBxG,GAAI,mBAAqBZ,EAAEL,GAA5C,UACd,IAANyH,EAAU,KAAO,IAAKpH,EAAEmB,OADOnB,EAAEL,SAI1C,sBAAMkB,UAAU,WAAhB,SAA4BwG,IAAMC,WAAWpG,EAAE9B,KAAKmI,QAhBArG,EAAEvB,WAoBlE,qBAAKkB,UAAU,WACf,qBAAKA,UAAU,YAAf,SACI,qBAAKA,UAAU,QAAf,SACKwF,YC5DzB,IAiBImB,EAAO,EAmQIhG,mBApRS,SAACC,GACxB,MAAO,CACNjC,MAAOiC,EAAMjC,MACb+G,UAAW9E,EAAM8E,UACjBkB,WAAYhG,EAAMgG,eAIO,SAAC9F,GAC3B,MAAO,CACN+F,aAAc,kBAAa/F,EAASgG,IAAkB,WAAlB,eACpCC,cAAe,kBAAajG,EAASuE,EAAsB,WAAtB,eACrC2B,WAAY,kBAAalG,EAASjC,IAAmB,WAAnB,eAClCoI,WAAY,kBAAanG,EAASlC,IAAmB,WAAnB,kBAuQrB+B,EAjQf,SAAkBT,GACjB,IAAQvB,EAAsFuB,EAAtFvB,MAAO+G,EAA+ExF,EAA/EwF,UAAWmB,EAAoE3G,EAApE2G,aAAcD,EAAsD1G,EAAtD0G,WAAYG,EAA0C7G,EAA1C6G,cAAeC,EAA2B9G,EAA3B8G,WAAYC,EAAe/G,EAAf+G,WAC/E,EAA4BzF,oBAAS,GAArC,mBAAO0F,EAAP,KAAeC,EAAf,KACA,EAAgD3F,oBAAS,GAAzD,mBAAO4F,EAAP,KAAyBC,EAAzB,KACA,EAAkC7F,mBAAS,IAA3C,mBAAO8F,EAAP,KAAkBC,EAAlB,KACA,EAA8B/F,mBAAS,GAAvC,mBAAOgG,EAAP,KAAgBC,EAAhB,KACA,EAAgCjG,mBAAS,GAAzC,mBAAOkG,EAAP,KAAiBC,EAAjB,KACA,EAA8BnG,mBAAS,GAAvC,mBAAOoG,EAAP,KAAgBC,EAAhB,KACA,EAAgCrG,oBAAS,GAAzC,mBAAOsG,EAAP,KAAiBC,EAAjB,KACA,EAA8BvG,mBAAS,GAAvC,mBAAKwG,EAAL,KAAeC,EAAf,KAEMC,EAAcvJ,EAAMwJ,MAAK,SAAA9H,GAAC,OAAIA,EAAEvB,IAAM4G,MAAc/G,EAAM,GAChEsD,qBAAU,WACT,IAAKtD,EAAMoH,OACV,OAAO,EAER,IAAMqC,EAAQlG,SAASmG,eAAe,YAClCC,EAAOpG,SAASqG,cAAc,QAAQC,wBAK1C,OAJAjB,EAAakB,SAASH,EAAKI,OAAS9B,EAAW+B,KAAO,GAAK,GAAKF,SAASH,EAAKI,OAAS9B,EAAW+B,MAClGlB,EAAW,GAAKgB,SAASH,EAAKI,OAAS9B,EAAW+B,MAClDP,EAAMQ,OAAShC,EAAW+B,IAC1BV,EAAYrB,EAAWpI,MAChB,eAEL,CAACoI,EAAYQ,IAEhBnF,qBAAU,WAET,GAAa,MADX0E,EAKF,OADAQ,GAAU,GACH,eAEL,CAACzB,IAKJ,IAyDMmD,EAAO,WACZ,GAAqB,IAAjBlK,EAAMoH,OACT,OAAO,EAER,IAAM+C,EAAWnK,GAASA,EAAMoK,WAAU,SAAA1I,GAAC,OAAIA,EAAEvB,KAAOoJ,EAAYpJ,MAChEkK,EAAYF,EAAW,EAAInK,EAAMoH,OAAS,EAAI,EAAI+C,EAAW,GACjEnB,EAAY,GACZd,EAAalI,EAAMqK,GAAWlK,IAC1BoI,KACWhF,SAASmG,eAAe,YAChCY,UAAW,IAkBnBhH,qBAAU,WAET,OADAC,SAASC,iBAAiB,QAASC,GAC5B,WACNF,SAASG,oBAAoB,QAASD,MAErC,IAEH,IAAMA,EAAc,WACnB2F,GAAY,GACZV,GAAoB,IAGrB,OACC,qBAAKrH,UAAWI,IAAM,YAAtB,SACC,sBAAKJ,UAAU,YAAf,UAOC,qBAAKA,UAAU,OAEf,sBAAKA,UAAU,eAAf,UACC,sBAAKA,UAAU,OAAf,UACC,mBAAGA,UAAU,iBAAiBkJ,MAAM,qBAAM1F,QAnElC,WACZ,GAAqB,IAAjB7E,EAAMoH,OACT,OAAO,EAER,IAAM+C,EAAWnK,GAASA,EAAMoK,WAAU,SAAA1I,GAAC,OAAIA,EAAEvB,KAAOoJ,EAAYpJ,MAChEqK,EAAYL,EAAW,EAAI,EAAInK,EAAMoH,OAAS,EAAI+C,EAAW,GACjEnB,EAAY,GACZd,EAAalI,EAAMwK,GAAWrK,IAC1BoI,KACWhF,SAASmG,eAAe,YAChCY,UAAW,IAyDd,gCACA,mBAAGjJ,UAAWkH,EAAS,iBAAmB,kBAAmBgC,MAAM,iCAAQ1F,QA/GnE,WACZ,GAAK0E,EAAL,CAGAf,GAAWD,GACX,IAAMkB,EAAQlG,SAASmG,eAAe,YAElCnB,EACHkB,EAAMgB,QAENhB,EAAMiB,SAqGH,4CACA,mBAAGrJ,UAAU,iBAAiBkJ,MAAM,qBAAM1F,QAASqF,EAAnD,mCAED,qBAAK7I,UAAU,SAAf,SACC,sBAAKA,UAAU,YAAf,UACC,sBAAKA,UAAU,WAAf,UACC,qBAAK2E,IAAKuD,EAAcA,EAAY3J,KAAK+K,GAAGC,OAAS,oEAAqEC,IAAI,KAC9H,cAAC,IAAD,CAAMzJ,GAAI,iBAAmB2F,EAAW1F,UAAU,YAEnD,sBAAKA,UAAU,cAAf,UACEkI,EAAc,qCACd,cAAC,IAAD,CAAMnI,GAAI,iBAAmB2F,EAAW1F,UAAU,YAAlD,SAA+DrB,EAAMoH,QAAUmC,EAAY3J,KAAK+B,OAC/F4H,EAAY3J,KAAKkL,GAAK,cAAC,IAAD,CAAM1J,GAAI,eAAiBmI,EAAY3J,KAAKkL,GAAIzJ,UAAU,YAAoB,KACrG,sBAAMA,UAAU,cAAhB,SACEkI,GAAeA,EAAY3J,KAAK+H,GAAG1G,KAAI,SAACT,EAAGoH,GAAJ,OACvC,eAAC,IAAD,CAAiBxG,GAAI,mBAAqBZ,EAAEL,GAA5C,UAAuD,IAANyH,EAAU,GAAK,IAAKpH,EAAEmB,OAA5DnB,EAAEL,YAIf,qCAAE,cAAC,IAAD,CAAMiB,GAAG,IAAIC,UAAU,cACxB,cAAC,IAAD,CAAMD,GAAG,IAAIC,UAAU,mBAEzB,sBAAKA,UAAU,WAAWwD,QAAS,SAAClB,GACnC,IAAIoH,EAASpH,EAAEqH,QACXrB,EAAOpG,SAASqG,cAAc,0BAA0BC,wBACxDoB,EAAUtB,EAAKuB,KACfC,EAAQxB,EAAKwB,MACbC,GAAeL,EAASE,GAAWE,EAAQ,IAAM,IAAM,KAAOJ,EAASE,GAAWE,EAAQ,IAC9FnC,EAAYoC,GA5HG,SAACD,GACvB,IAAK5B,EACJ,OAAO,EAER,IAAME,EAAQlG,SAASmG,eAAe,YACtCD,EAAM4B,YAAcF,EAAQ,IAAM1B,EAAMpF,SAwHjCiH,CAAeF,IAPhB,UASC,qBAAK/J,UAAU,QACf,qBAAKA,UAAU,MAAMI,MAAO,CAAE0J,MAAM,GAAD,OAAKpC,EAAL,MAAnC,SACC,sBAAM1H,UAAU,sBAIlBkI,EAAc,sBAAKlI,UAAU,YAAf,UACd,6BAAKwG,IAAMC,WAAiC,IAAtByD,KAAKC,MAAMvC,MADnB,KAEXjJ,EAAMoH,QAAUS,IAAMC,WAAWyB,EAAY3J,KAAKmI,OAC7C,UAGX,sBAAK1G,UAAU,QAAf,UACC,mBAAGA,UAAU,iBAAiBkJ,MAAM,iCAApC,4CACA,mBAAGlJ,UAAU,iBAAiBkJ,MAAM,eAApC,0BACA,mBAAGlJ,UAAU,kBAAkBkJ,MAAM,eAArC,0BACA,sBAAKlJ,UAAU,MAAMwD,QAAS,SAAAlB,GAC7BA,EAAEmB,mBADH,UAGC,sBAAKzD,UAAU,gBAAgBI,MAAO,CACrCgK,WAAYhD,EAAmB,UAAY,UAD5C,UAGC,qBAAKpH,UAAU,OACf,sBAAKA,UAAU,MAAMwD,QAAS,SAAClB,GAC9B,IA9IUoG,EA8IN2B,EAAS/H,EAAEgI,QACXhC,EAAOpG,SAASqG,cAAc,QAAQC,wBAEtC+B,EADSjC,EAAKkC,IACUlC,EAAKI,OAAS2B,EAAS,EACnD9C,EAAagD,EAAe,GAAK,GAAKA,GACtC9C,EAAW,GAAK8C,EAAe,EAAI,EAAI,GAAKA,EAAe,GAAK,GAAK,GAAKA,GAjJjFxD,EAAc,CACb4B,KAHgBD,EAoJD6B,GAnJO,GAAM,EAAI,EAAK7B,EAAS,GAAM,EAAI,EAAKA,EAAS,MA4IjE,UASC,qBAAK1I,UAAU,YAAYI,MAAO,CAAEsI,OAAQpB,KAC5C,qBAAKtH,UAAU,aAAaI,MAAO,CAAEoK,IAAKhD,WAG5C,mBAAGxH,UAAU,kBAAkBwD,QAAS,WACvC6D,GAAqBD,MAEtB,mBAAG8B,MA9Ge,SAACjF,GACxB,OAAQA,GACP,KAAK,EACJ,MAAO,2BACR,KAAK,EACJ,MAAO,eACR,KAAK,EACJ,MAAO,gBAuGMwG,CAAgBzC,GAAWhI,UAAwB,IAAbgI,EAAiB,gBAA+B,IAAbA,EAAiB,mBAAqB,iBAAkBxE,QAAS,WACnJuD,EAAc,CACbvI,OAAQwJ,EAAW,OAGrB,mBAAGkB,MAAM,2BAAOlJ,UAAU,iBAAiBwD,QAAS,WACnDuE,GAAaD,IADd,SAEInJ,EAAMoH,SACT+B,EAAW,cAACvC,EAAD,CAAUW,QAAS,WAC9B6B,GAAY,IACVpJ,MAAOA,EAAOgH,QAASuC,EAAaxC,UAAWA,EAAWW,cAAe,SAACvH,GAC5E+H,EAAa/H,IACXsH,cAAe,SAACtH,GAClB,GAAI4G,IAAc5G,EAAI,CACrB,IAAI4L,EAAW/L,EAAMoK,WAAU,SAAA1I,GAAC,OAAIA,EAAEvB,KAAOA,KACzC6L,EAAUhM,IAAQ+L,EAAW/L,EAAMoH,QAAQjH,GAC/C+H,EAAa8D,GAEd3D,EAAWlI,IACTmH,cAAe,WACjBgB,KACEzD,QAAS,SAAClB,GACZA,EAAEmB,qBACK,cAIV9E,EAAMoH,OAAS,uBAAOjH,GAAG,WAAW6F,IAAKuD,EAAYjJ,IAAK2L,KAA0B,IAApBhE,EAAWpI,KAAYqM,aAAc,WACrG,IAAMzC,EAAQlG,SAASmG,eAAe,YACtCR,EAAWO,EAAM4B,aACjBrC,EAAYS,EAAM4B,YAAc5B,EAAMpF,SAAW,MAC/C8H,QApLY,WACjB,GAAiB,IAAb9C,QACG,GAAiB,IAAbA,EAAgB,CAC1B,IAAI+C,EAAQvE,IAAMwE,mBAAmB,EAAGrM,EAAMoH,OAAS,GACvDc,EAAalI,EAAMoM,GAAOjM,SAE1B+J,OA8KmC,a,kBCrRvB,SAASoC,EAAK/K,GACzB,OACI,qBAAKF,UAAWI,IAAM,kBAAtB,SACKF,EAAMgL,W,QCHJ,SAASH,EAAM7K,GAC1B,OACI,qBAAKF,UAAU,iBAAf,SACKE,EAAMgL,W,sCCGJ,SAASH,IASpB,OARA9I,qBAAU,WAGN,OAFAkJ,OAAOC,SAAS,EAAG,GACnBC,IAAUC,QACH,WACHD,IAAUE,UAEf,IAEI,KCPX,IAAMC,EAAQC,gBAAK,kBAAM,yDACnBC,EAASD,gBAAK,kBAAM,+DACpBE,EAAWF,gBAAK,kBAAM,0DACtBG,EAASH,gBAAK,kBAAM,mCAEpBI,EAAWJ,gBAAK,kBAAM,0DACtBK,EAAaL,gBAAK,kBAAM,mCACxBM,GAAYN,gBAAK,kBAAM,mCAEvBO,GAAiBP,gBAAK,kBAAM,yDAC5BQ,GAAaR,gBAAK,kBAAM,gEACxBS,GAAeT,gBAAK,kBAAM,gEAC1BU,GAAcV,gBAAK,kBAAM,gEACzBW,GAAWX,gBAAK,kBAAM,gEACtBY,GAAUZ,gBAAK,kBAAM,yDACrBa,GAAKb,gBAAK,kBAAM,yDAChBc,GAAYd,gBAAK,kBAAM,yDACvBe,GAASf,gBAAK,kBAAM,mCACpBgB,GAAchB,gBAAK,kBAAM,mCACzBiB,GAAUjB,gBAAK,kBAAM,yDACrBkB,GAAWlB,gBAAK,kBAAM,kCACtBmB,GAAYnB,gBAAK,kBAAM,0DACvBoB,GAAYpB,gBAAK,kBAAM,0DACvBqB,GAAWrB,gBAAK,kBAAM,mCACtBsB,GAAOtB,gBAAK,kBAAM,mCAClBuB,GAAWvB,gBAAK,kBAAM,mCACtBwB,GAAUxB,gBAAK,kBAAM,mCACrByB,GAAWzB,gBAAK,kBAAM,yDAkEb0B,OAhEf,WACI,IAAQC,EAA4BC,IAA5BD,OAAQE,EAAoBD,IAApBC,OAAQC,EAAYF,IAAZE,QACxB,OACI,cAAC,IAAD,UACI,cAAC,WAAD,CAAUC,SAAU,cAAC,EAAD,IAApB,SACI,eAAC,IAAD,CAAQxN,UAAU,yBAAlB,UACI,cAACoN,EAAD,UACI,cAAC,EAAD,MAEJ,cAACG,EAAD,UACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOzN,OAAK,EAAC2N,KAAK,IAAlB,SACI,cAAC,IAAD,CAAU1N,GAAG,YAEjB,cAAC,IAAD,CAAO0N,KAAK,QAAQnJ,OAAQ,kBACxB,eAAC2G,EAAD,WACI,cAAC,IAAD,CAAOnL,OAAK,EAAC2N,KAAK,QAAQC,UAAWlC,IACrC,cAAC,IAAD,CAAO1L,OAAK,EAAC2N,KAAK,iBAAiBC,UAAW/B,IAC9C,cAAC,IAAD,CAAO7L,OAAK,EAAC2N,KAAK,wBAAwBC,UAAW1B,KACrD,cAAC,IAAD,CAAOlM,OAAK,EAAC2N,KAAK,gBAAgBC,UAAWrB,KAC7C,cAAC,IAAD,CAAOoB,KAAK,gBAAgBnJ,OAAQ,kBAChC,qCACI,cAAC,IAAD,CAAOxE,OAAK,EAAC2N,KAAK,gBAAgBC,UAAWpB,KAC7C,cAAC,IAAD,CAAOxM,OAAK,EAAC2N,KAAK,yBAAyBC,UAAWnB,KACtD,cAAC,IAAD,CAAOzM,OAAK,EAAC2N,KAAK,0BAA0BC,UAAWjB,KACvD,cAAC,IAAD,CAAO3M,OAAK,EAAC2N,KAAK,qBAAqBC,UAAWlB,KAClD,cAAC,IAAD,CAAO1M,OAAK,EAAC2N,KAAK,wBAAwBC,UAAWhB,KACrD,cAAC,IAAD,CAAO5M,OAAK,EAAC2N,KAAK,uBAAuBC,UAAWf,WAG5D,cAAC,IAAD,CAAO7M,OAAK,EAAC2N,KAAK,aAAaC,UAAWzB,KAC1C,cAAC,IAAD,CAAOnM,OAAK,EAAC2N,KAAK,eAAeC,UAAWxB,KAC5C,cAAC,IAAD,CAAOpM,OAAK,EAAC2N,KAAK,cAAcC,UAAWvB,KAC3C,cAAC,IAAD,CAAOrM,OAAK,EAAC2N,KAAK,mBAAmBC,UAAWd,KAChD,cAAC,IAAD,CAAO9M,OAAK,EAAC2N,KAAK,WAAWC,UAAWtB,KACxC,cAAC,IAAD,CAAOtM,OAAK,EAAC2N,KAAK,oBAAoBC,UAAWb,WAIzD,cAAC,IAAD,CAAO/M,OAAK,EAAC2N,KAAK,WAAWC,UAAWT,KACxC,cAAC,IAAD,CAAOnN,OAAK,EAAC2N,KAAK,UAAUC,UAAW9B,IACvC,cAAC,IAAD,CAAO9L,OAAK,EAAC2N,KAAK,QAAQC,UAAWX,KACrC,cAAC,IAAD,CAAOjN,OAAK,EAAC2N,KAAK,YAAYC,UAAWV,KACzC,cAAC,IAAD,CAAOlN,OAAK,EAAC2N,KAAK,YAAYC,UAAWZ,KACzC,cAAC,IAAD,CAAOhN,OAAK,EAAC2N,KAAK,UAAUC,UAAWhC,IACvC,cAAC,IAAD,CAAO+B,KAAK,QAAQnJ,OAAQ,kBACxB,eAAC,EAAD,WACI,cAAC,IAAD,CAAOxE,OAAK,EAAC2N,KAAK,aAAaC,UAAW7B,IAC1C,cAAC,IAAD,CAAO/L,OAAK,EAAC2N,KAAK,eAAeC,UAAW5B,IAC5C,cAAC,IAAD,CAAOhM,OAAK,EAAC2N,KAAK,cAAcC,UAAW3B,WAGnD,cAAC,IAAD,CAAO2B,UAAWR,UAG1B,cAACI,EAAD,UAAQ,cAAC,EAAD,MACR,cAAC,IAAD,CAASlN,MAAO,CAAEuN,OAAQ,OAC1B,cAAC,EAAD,Y,UC9FdC,GADOC,KAAKC,MAAM1K,aAAa2K,QAAQ,UAAY,K,SCCnDH,GADOC,KAAKC,MAAM1K,aAAa2K,QAAQ,WAAa,GCEpDH,GADYC,KAAKC,MAAM1K,aAAa2K,QAAQ,iBAAmB,K,UCG/DH,GAJaC,KAAKC,MAAM1K,aAAa2K,QAAQ,SAAW,CAC1DpF,IAAK,EACLnK,KAAM,GCGJwP,GAAcC,aAAgB,CAChCpN,KJFW,WAA8C,IAA7CD,EAA4C,uDAApCgN,GAAoC,yCAApBpP,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC1C,OAAQD,GACR,KAAK0P,IACD,OAAOzP,EACX,KAAK0P,IACD,OAAO,KACX,QACI,OAAOvN,IIJXjC,MHHW,WAA8C,IAA7CiC,EAA4C,uDAApCgN,GAAoC,yCAApBpP,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC1C,OAAQD,GACJ,KAAKP,IACD,IAAIU,EAAQ6H,IAAM4H,OAAN,uBAAiBxN,GAAjB,aAA2BnC,KAEvC,OADA2E,aAAaiL,QAAQ,QAASR,KAAKS,UAAU3P,IACtCA,EACX,KAAKN,IAED,OADA+E,aAAaiL,QAAQ,QAASR,KAAKS,UAAU7P,IACtCA,EACX,KAAKL,IACD,IAAImQ,EAAO3N,EAAM4N,QAAO,SAAAjQ,GAAI,OAAIA,EAAKO,KAAOL,KAE5C,OADA2E,aAAaiL,QAAQ,QAASR,KAAKS,UAAUC,IACtCA,EACX,KAAKpQ,IAED,OADAiF,aAAaiL,QAAQ,QAASR,KAAKS,UAAU,KACtC,GACX,QACI,OAAO1N,IGbf8E,UFHW,WAA8C,IAA7C9E,EAA4C,uDAApCgN,GAAoC,yCAApBpP,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC1C,GAAQD,IACCiQ,IAAL,CACIrL,aAAaiL,QAAQ,cAAeR,KAAKS,UAAU7P,IACnD,IAAM2J,EAAQlG,SAASmG,eAAe,YAItC,OAHID,IACAA,EAAMa,UAAW,GAEdxK,EAEP,OAAOmC,GENfgG,WDFW,WAA8C,IAA7ChG,EAA4C,uDAApCgN,GAAoC,yCAApBpP,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QAC1C,GAAQD,IACC4G,EAAL,CACI,IAAIE,EAAG,6BAAQ1E,GAAUnC,GAEzB,OADA2E,aAAaiL,QAAQ,MAAOR,KAAKS,UAAUhJ,IACpCA,EAEP,OAAO1E,KCAJ8N,GAFDC,aAAYX,ICP1BY,IAAStK,OAEL,cAAC,IAAD,CAAUoK,MAAOA,GAAjB,SAAwB,cAAC,GAAD,MAGxBxM,SAASmG,eAAe,U,iCCZ5B,wIAAO,IAAM6F,EAAUhQ,OAAO,YACjBiQ,EAAUjQ,OAAO,YAGvB,SAAS2Q,EAAchO,GAC1B,MAAO,CACHrC,KAAM0P,EACNzP,QAASoC,GAKV,SAASG,IACZ,MAAO,CACHxC,KAAM2P,K,8oCCPP,SAAeW,EAAtB,kC,4CAAO,6CAAA3P,EAAA,iEAAwBC,gBAAxB,MAAmC,GAAnC,MAAuCZ,YAAvC,MAA8C,EAA9C,MAAiDuQ,aAAjD,MAAyD,GAAzD,MAA6DC,cAA7D,MAAsE,EAAtE,WACe3P,IAAIC,IAAI,UAAW,CACjCC,OAAQ,CACJH,WACAZ,OACAuQ,QACAC,YANL,cACGxP,EADH,yBASIA,GATJ,4C,sBAaA,SAAeyP,EAAtB,kC,4CAAO,iCAAA9P,EAAA,6DAA4B+P,EAA5B,EAA4BA,MAAOC,EAAnC,EAAmCA,SAAnC,SACe9P,IAAIC,IAAI,mBAAoB,CAC1CC,OAAQ,CACJ2P,QACAC,cAJL,cACG3P,EADH,yBAOIA,GAPJ,4C,sBAWA,SAAe2D,IAAtB,+B,4CAAO,4BAAAhE,EAAA,sEACeE,IAAIC,IAAI,WADvB,cACGE,EADH,yBAEIA,GAFJ,4C,sBAUA,SAAe4P,EAAtB,kC,4CAAO,2CAAAjQ,EAAA,iEAA6BkQ,WAA7B,MAAmC,GAAnC,MAAuCN,aAAvC,MAA+C,GAA/C,EAAmDC,EAAnD,EAAmDA,OAAnD,IAA2DM,aAA3D,MAAmE,MAAnE,WACejQ,IAAIC,IAAI,gBAAiB,CACvCC,OAAQ,CACJ8P,MACAN,QACAC,SACAM,WANL,cACG9P,EADH,yBASIA,GATJ,4C,sBA8BA,SAAe+P,IAAtB,+B,4CAAO,4BAAApQ,EAAA,sEACeE,IAAIC,IAAI,qBADvB,cACGE,EADH,yBAEIA,GAFJ,4C,sBAMA,SAAegQ,EAAtB,kC,4CAAO,mCAAArQ,EAAA,6DAA+BsQ,EAA/B,EAA+BA,IAA/B,IAAoCC,iBAApC,MAAgDC,KAAKC,MAArD,WACevQ,IAAIC,IAAI,eAAgB,CACtCC,OAAQ,CACJkQ,MACAC,eAJL,cACGlQ,EADH,yBAOIA,GAPJ,4C,sBAqBA,SAAeqQ,EAAtB,kC,4CAAO,mCAAA1Q,EAAA,6DAA+BsQ,EAA/B,EAA+BA,IAA/B,IAAoCjR,YAApC,MAA2C,EAA3C,WACea,IAAIC,IAAI,eAAgB,CACtCC,OAAQ,CACJkQ,MACAjR,UAJL,cACGgB,EADH,yBAOIA,GAPJ,4C,sBAWA,SAAesQ,EAAtB,kC,4CAAO,uCAAA3Q,EAAA,6DAAiCsQ,EAAjC,EAAiCA,IAAjC,IAAsCT,cAAtC,MAA+C,EAA/C,MAAkDD,aAAlD,MAA0D,GAA1D,WACe1P,IAAIC,IAAI,iBAAkB,CACxCC,OAAQ,CACJkQ,MACAV,QACAC,YALL,cACGxP,EADH,yBAQIA,GARJ,4C,sBAmBA,SAAeuQ,EAAtB,kC,4CAAO,yCAAA5Q,EAAA,6DAAgC6Q,EAAhC,EAAgCA,OAAQC,EAAxC,EAAwCA,SAAUC,EAAlD,EAAkDA,SAAUC,EAA5D,EAA4DA,SAAUC,EAAtE,EAAsEA,KAAMC,EAA5E,EAA4EA,UAA5E,SACehR,IAAIC,IAAI,eAAgB,CACtCC,OAAQ,CACJyQ,SAAQC,WAAUC,WAAUC,WAAUC,OAAMC,eAHjD,cACG7Q,EADH,yBAMIA,GANJ,4C,sBA0BA,SAAe8Q,EAAtB,kC,4CAAO,iCAAAnR,EAAA,6DAAiCL,EAAjC,EAAiCA,GAAjC,SAMeyR,EAAc,CAAEC,IAAK1R,IANpC,cAQc,OAFXU,EANH,QAQKkD,OACJnE,EAAOiB,EAAIb,MAAM,IAGX,iDAZP,kBAaI,CAAE+D,KAAM,IAAKvC,KAAM,CAAC,CAAErB,KAAIG,IAAI,GAAD,OAD1B,kDAC0B,OAAWH,EAAX,QAAqBP,WAbtD,4C,sBAiBA,SAAekS,EAAtB,kC,4CAAO,+BAAAtR,EAAA,6DAA4BL,EAA5B,EAA4BA,GAA5B,SACeO,IAAIC,IAAI,qBAAsB,CAC5CC,OAAQ,CAAET,QAFX,cACGU,EADH,yBAIIA,GAJJ,4C,sBAkBA,SAAekR,EAAtB,kC,4CAAO,+BAAAvR,EAAA,6DAAmCL,EAAnC,EAAmCA,GAAnC,SACeO,IAAIC,IAAI,mBAAoB,CAC1CC,OAAQ,CACJT,QAHL,cACGU,EADH,yBAMIA,GANJ,4C,sBAUA,SAAemR,IAAtB,+B,4CAAO,4BAAAxR,EAAA,sEACeE,IAAIC,IAAI,iBADvB,cACGE,EADH,yBAEIA,GAFJ,4C,sBAMA,SAAeoR,EAAtB,kC,4CAAO,qCAAAzR,EAAA,6DAAmCL,EAAnC,EAAmCA,GAAIiQ,EAAvC,EAAuCA,MAAOC,EAA9C,EAA8CA,OAAQU,EAAtD,EAAsDA,UAAtD,SACerQ,IAAIC,IAAI,oBAAqB,CAC3CC,OAAQ,CACJT,KAAIiQ,QAAOC,SAAQU,eAHxB,cACGlQ,EADH,yBAMIA,GANJ,4C,sBAUA,SAAe+Q,EAAtB,kC,4CAAO,+BAAApR,EAAA,6DAA+BqR,EAA/B,EAA+BA,IAA/B,SACenR,IAAIC,IAAI,eAAgB,CACtCC,OAAQ,CAAEiR,SAFX,cACGhR,EADH,yBAIIA,GAJJ,4C,sBAQA,SAAeoG,EAAtB,kC,4CAAO,+BAAAzG,EAAA,6DAA0BL,EAA1B,EAA0BA,GAA1B,SACeO,IAAIC,IAAI,SAAU,CAChCC,OAAQ,CACJT,QAHL,cACGU,EADH,yBAMIA,GANJ,4C,sBAUA,SAAeqR,EAAtB,kC,4CAAO,+BAAA1R,EAAA,6DAAiCL,EAAjC,EAAiCA,GAAjC,SACeO,IAAIC,IAAI,iBAAkB,CACxCC,OAAQ,CACJT,QAHL,cACGU,EADH,yBAMIA,GANJ,4C,sBAUA,SAAesR,EAAtB,kC,4CAAO,+BAAA3R,EAAA,6DAA6BL,EAA7B,EAA6BA,GAA7B,SACeO,IAAIC,IAAI,aAAc,CACpCC,OAAQ,CACJT,QAHL,cACGU,EADH,yBAMIA,GANJ,4C,sBAUA,SAAeuR,EAAtB,kC,4CAAO,qCAAA5R,EAAA,6DAAgCL,EAAhC,EAAgCA,GAAIiQ,EAApC,EAAoCA,MAAOC,EAA3C,EAA2CA,OAAQU,EAAnD,EAAmDA,UAAnD,SACerQ,IAAIC,IAAI,iBAAkB,CACxCC,OAAQ,CACJT,KAAIiQ,QAAOC,SAAQU,eAHxB,cACGlQ,EADH,yBAMIA,GANJ,4C,sBAoBA,SAAewR,EAAtB,kC,4CAAO,+BAAA7R,EAAA,6DAA+BL,EAA/B,EAA+BA,GAA/B,SACeO,IAAIC,IAAI,eAAgB,CACtCC,OAAQ,CACJT,QAHL,cACGU,EADH,yBAMIA,GANJ,4C,sBAUA,SAAeyR,EAAtB,kC,4CAAO,+BAAA9R,EAAA,6DAAgCL,EAAhC,EAAgCA,GAAhC,SACeO,IAAIC,IAAI,WAAY,CAClCC,OAAQ,CAAET,QAFX,cACGU,EADH,yBAIIA,GAJJ,4C,sBAQA,SAAe0R,EAAtB,kC,4CAAO,mCAAA/R,EAAA,6DAAiCL,EAAjC,EAAiCA,GAAIiQ,EAArC,EAAqCA,MAAOC,EAA5C,EAA4CA,OAA5C,SACe3P,IAAIC,IAAI,gBAAiB,CACvCC,OAAQ,CAAET,KAAIiQ,QAAOC,YAFtB,cACGxP,EADH,yBAIIA,GAJJ,4C,sBAQA,SAAe2R,EAAtB,kC,4CAAO,mCAAAhS,EAAA,6DAA6BL,EAA7B,EAA6BA,GAAIiQ,EAAjC,EAAiCA,MAAOC,EAAxC,EAAwCA,OAAxC,SACe3P,IAAIC,IAAI,aAAc,CACpCC,OAAQ,CACJT,KAAIiQ,QAAOC,YAHhB,cACGxP,EADH,yBAMIA,GANJ,4C,sBAUA,SAAe4R,EAAtB,mC,8CAAO,+BAAAjS,EAAA,6DAA+BL,EAA/B,EAA+BA,GAA/B,SACeO,IAAIC,IAAI,eAAgB,CACtCC,OAAQ,CAAET,QAFX,cACGU,EADH,yBAIIA,GAJJ,4C,sBAQA,SAAe6R,GAAtB,mC,8CAAO,+BAAAlS,EAAA,6DAA0BL,EAA1B,EAA0BA,GAA1B,SACeO,IAAIC,IAAI,SAAU,CAChCC,OAAQ,CAAET,QAFX,cACGU,EADH,yBAIIA,GAJJ,4C,sBAQA,SAAe8R,GAAtB,mC,8CAAO,qCAAAnS,EAAA,6DAAgCL,EAAhC,EAAgCA,GAAIiQ,EAApC,EAAoCA,MAAOC,EAA3C,EAA2CA,OAAQU,EAAnD,EAAmDA,UAAnD,SACerQ,IAAIC,IAAI,iBAAkB,CACxCC,OAAQ,CAAET,KAAIiQ,QAAOC,SAAQU,eAF9B,cACGlQ,EADH,yBAIIA,GAJJ,4C,sBAgBA,SAAe+R,KAAtB,gC,8CAAO,4BAAApS,EAAA,sEACeE,IAAIC,IAAI,WADvB,cACGE,EADH,yBAEIA,GAFJ,4C,sBAMA,SAAegS,GAAtB,mC,8CAAO,+BAAArS,EAAA,6DAAiC4P,EAAjC,EAAiCA,MAAjC,SACe1P,IAAIC,IAAI,gBAAiB,CACvCC,OAAQ,CAAEwP,WAFX,cACGvP,EADH,yBAIIA,GAJJ,4C,sBAQA,SAAeiS,KAAtB,gC,8CAAO,4BAAAtS,EAAA,sEACeE,IAAIC,IAAI,uBADvB,cACGE,EADH,yBAEIA,GAFJ,4C,sBAMA,SAAekS,KAAtB,gC,8CAAO,4BAAAvS,EAAA,sEACeE,IAAIC,IAAI,iBADvB,cACGE,EADH,yBAEIA,GAFJ,4C,sBAMA,SAAemS,GAAtB,mC,8CAAO,+BAAAxS,EAAA,6DAA4BX,EAA5B,EAA4BA,KAA5B,SACea,IAAIC,IAAI,gBAAiB,CACvCC,OAAQ,CACJf,UAHL,cACGgB,EADH,yBAMIA,GANJ,4C,sBAUA,SAAeoS,KAAtB,gC,8CAAO,4BAAAzS,EAAA,sEACeE,IAAIC,IAAI,mBADvB,cACGE,EADH,yBAEIA,GAFJ,4C,yDCzXP,oEAAO,IAAMiP,EAAYvQ,OAAO,eAGzB,SAAS4I,EAAmBhI,GAC/B,MAAO,CACHN,KAAMiQ,EACNhQ,QAASK,K,gCCNjB,aAEMO,EAFN,OAEYwS,EAAMC,OAAO,CACrBC,QAAS,6CACTC,iBAAiB,IAIrB3S,EAAI4S,aAAaC,SAASC,KAAI,SAAA3S,GAC1B,OAAkB,MAAfA,EAAI4S,OACIC,QAAQC,QAAQ9S,EAAIW,MAEpBkS,QAAQE,OAAO/S,MAE3B,SAAA+D,GACC,OAAO8O,QAAQE,OAAOhP,MAGXlE,O,+HC8FAsB,iBAzGS,SAACC,GACrB,MAAO,CACHC,KAAMD,EAAMC,SAIO,SAACC,GACxB,MAAO,CACH0R,QAAS,kBAAa1R,EAAS+N,IAAa,WAAb,kBAiGxBlO,EA9Ff,SAAeT,GACX,IAAOsS,EAAWtS,EAAXsS,QACP,EAA0BhR,mBAAS,IAAnC,mBAAO0N,EAAP,KAAcuD,EAAd,KACA,EAAgCjR,mBAAS,IAAzC,mBAAO2N,EAAP,KAAiBuD,EAAjB,KACM1N,EAAa2N,uBACf,WACIzS,EAAM8E,YAAc9E,EAAM8E,YAAW,KAEzC,CAAC9E,IAGC0S,EAAWD,sBAAW,sBACxB,4BAAAxT,EAAA,yDACQ+P,GAAUC,EADlB,0CAEe,GAFf,uBAIsBF,YAAW,CACzBC,QACAC,aANR,OAIU3P,EAJV,OAQIqT,QAAQC,IAAItT,GACI,MAAbA,EAAIkD,MACHG,IAAMS,QAAQ,CACVP,QAAQ,eAAD,OAAOvD,EAAIuT,QAAQ7C,SAAnB,gBACPlN,SAAU,IAEdgC,IACAwN,EAAQhT,EAAIuT,SACZ3P,aAAaiL,QAAQ,OAAQR,KAAKS,UAAU9O,EAAIuT,UAChDvM,IAAMwM,UAAU,QAASnF,KAAKS,UAAU9O,EAAIyT,SAE5CpQ,IAAMU,MAAM,CACRR,QAASvD,EAAI0T,IACblQ,SAAU,IArBtB,2CAyBA,CAACmM,EAAUD,IAWf,OACI,8BACI,cAAC,IAAD,CACIhG,MAAM,eACNvH,QAASzB,EAAMyB,QACfwR,KAAMP,EACNQ,SAAUpO,EACVqO,UAAQ,EACRC,UAAW,CAAC5K,OAAQ,KACpB6K,OACI,qCACI,cAAC,IAAD,CAAQ/U,KAAK,WAAWgF,QAASwB,EAAjC,0BACA,cAAC,IAAD,CAAQxG,KAAK,UAAUgF,QAASoP,EAAhC,6BAVZ,SAcI,eAAC,IAAD,WACI,cAAC,IAAD,UACI,cAAC,IAAKY,MAAN,CACIC,MAAM,QACNC,MAAM,eACNtP,QAAQ,OACRJ,SA1BE,SAACC,GACnBwO,EAASxO,IA0BO0P,MAAO,CACH,CAAEC,UAAU,EAAMC,QAAS,6CAIvC,cAAC,IAAD,UACI,cAAC,IAAKL,MAAN,CACIC,MAAM,WACNC,MAAM,eACNtP,QAAQ,OACR0P,KAAK,WACL9P,SA1CC,SAACC,GAClByO,EAAYzO,IA0CI0P,MAAO,CACH,CAAEC,UAAU,EAAMC,QAAS,kD,oBCrG3DE,EAAOC,QAAU,CAAC,QAAU,2B,oBCA5BD,EAAOC,QAAU,CAAC,WAAW,0B,oBCA7BD,EAAOC,QAAU,CAAC,iBAAiB,mC,oBCAnCD,EAAOC,QAAU,CAAC,iBAAiB,gC,uGCE7BxN,GAAK,GAIPyN,OAJO,SAIAC,GACH,OAAQA,EAAM,IAAO,GAKzBC,YAVO,SAUKD,GACR,OAAOA,EAAM,GAAK,IAAMA,EAAMA,GAKlCzN,WAhBO,SAgBI2N,GACP,IAAIC,EAAI5L,SAAU2L,EAAG,KAAuB,IACxCE,EAAI7L,SAAU2L,EAAG,IAAkB,IACnC/T,EAAIoI,SAAU2L,EAAM,IAAQ,IAChC,MAAM,GAAN,OAAUC,EAAI,EAAIE,KAAKJ,YAAYE,GAAK,IAAM,IAA9C,OAAmDC,EAAI,EAAIC,KAAKJ,YAAYG,GAAK,IAAM,OAAvF,OAA+FjU,EAAI,EAAIkU,KAAKJ,YAAY9T,GAAK,GAAK,OAGtI+N,OAvBO,SAuBAoG,GACH,IAAMhV,EAAM,IAAIiV,IAChB,OAAOD,EAAIhG,QAAO,SAACgG,GAAD,OAAUhV,EAAIkV,IAAIF,EAAI1V,KAAOU,EAAImV,IAAIH,EAAI1V,GAAI,OAGnE8V,cA5BO,SA4BOpW,GACV,OAAQA,GACJ,IAAK,IACD,MAAO,eACX,IAAK,MACD,MAAO,eACX,IAAK,KACD,MAAO,eACX,IAAK,OACD,MAAO,eACX,IAAK,OACD,MAAO,eACX,IAAK,OACD,MAAO,eACX,IAAK,OACD,MAAO,2BACX,IAAK,OACD,MAAO,iBAMnBwU,UAnDO,SAmDG6B,EAAK9Q,GACX+Q,IAAOH,IAAIE,EAAK9Q,IAGpBgR,UAvDO,SAuDGF,GACN,OAAOC,IAAOxV,IAAIuV,IAEtBG,WA1DO,SA0DIC,GACP,OAAOC,IAAID,GAAME,OAAO,eAM5BC,SAjEO,SAiEEC,GACL,IACI7K,EADMtI,SAASqG,cAAc8M,GACnBC,UACdnK,OAAOC,SAAS,EAAGZ,KApEhB,iCAuEAgK,GACH,IAAMhV,EAAM,IAAIiV,IAChB,OAAOD,EAAIhG,QAAO,SAACgG,GAAD,OAAUhV,EAAIkV,IAAIF,EAAI1V,KAAOU,EAAImV,IAAIH,EAAI1V,GAAI,SAzE5D,6CA4EYyW,EAAKC,GACpB,OAAOtL,KAAKC,MAAMD,KAAKuL,UAAYD,EAAMD,EAAM,GAAKA,MA7EjD,GAiFI/O,Q","file":"static/js/main.c4997f67.chunk.js","sourcesContent":["export const ADDSONG = Symbol(\"add-song\");\r\nexport const DELETEALLSONG = Symbol(\"delete-all-song\");\r\nexport const DELETEONESONG = Symbol(\"delete-one-song\");\r\nexport const ADDSONGLIST = Symbol(\"add-song-list\");\r\n\r\n// 添加一首歌播放\r\nexport function addSongAction(song) {\r\n    return {\r\n        type: ADDSONG,\r\n        payload: song\r\n    }\r\n}\r\n\r\n// 添加歌单播放\r\nexport function addSongListAction(songs) {\r\n    return {\r\n        type: ADDSONGLIST,\r\n        payload: songs\r\n    }\r\n}\r\n\r\n// 删除播放列表所有歌曲\r\nexport function deleteAllSongAction() {\r\n    return {\r\n        type: DELETEALLSONG,\r\n    }\r\n}\r\n\r\n// 删除一首歌曲, 传歌曲ID\r\nexport function deleteOneSongAction(id) {\r\n    return {\r\n        type: DELETEONESONG,\r\n        payload: id\r\n    }\r\n}\r\n","// 导航信息\r\nconst navList = [\r\n    {text: \"发现音乐\", url: \"/find\", hot: false},\r\n    {text: \"我的音乐\", url: \"/myMusic\", hot: false},\r\n    {text: \"朋友\", url: \"/friend\", hot: false},\r\n    {text: \"商城\", url: \"/mall\", hot: false},\r\n    {text: \"音乐人\", url: \"/musician\", hot: false},\r\n    {text: \"下载客户端\", url: \"/download\", hot: false},\r\n];\r\n\r\nexport default navList;","import ins from \"./request\";\r\n\r\n// 搜索建议\r\nexport async function searchSuggest({ keywords }) {\r\n    const res = await ins.get(\"/search/suggest\", {\r\n        params: {\r\n            keywords\r\n        }\r\n    });\r\n    return res;\r\n}","// 次菜单信息\r\nconst subNavList = [\r\n    {text: \"推荐\", url: \"/find\", hot: false},\r\n    {text: \"排行榜\", url: \"/find/toplist\", hot: false},\r\n    {text: \"歌单\", url: \"/find/playlist\", hot: false},\r\n    {text: \"主播电台\", url: \"/find/djradio\", hot: false},\r\n    {text: \"歌手\", url: \"/find/singers/cat?id=1\", hot: false},\r\n    {text: \"新碟上架\", url: \"/find/album/list\", hot: false},\r\n];\r\n\r\nexport default subNavList;","import React from \"react\";\r\nimport subNavList from \"../../common/subNav\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"./index.less\";\r\n\r\nexport default function SubNav() {\r\n  const lis = subNavList.map((nav) => (\r\n    <NavLink key={nav.url} exact to={nav.url} className=\"sub-nav-link\">\r\n      <li className=\"sub-nav-item\"><em>{nav.text}</em></li>\r\n    </NavLink>\r\n  ));\r\n  return <ul className=\"sub-nav-container\">{lis}</ul>;\r\n}\r\n","import React from 'react';\r\nimport style from \"./suggest.module.less\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function SearchSuggest(props) {\r\n    const { data } = props;\r\n    return (\r\n        <div className={style[\"suggest\"]}>\r\n            <div className=\"content\">\r\n                {data.songs ? <div className=\"item\">\r\n                    <h3 className=\"hd\">\r\n                        <i className=\"icon icon-songs\"></i>\r\n                        <em>单曲</em>\r\n                    </h3>\r\n                    <ul className='cb'>\r\n                        {data.songs.map(s => <li key={s.id}><Link to={\"/find/song?id=\" + s.id}>{s.name}-{s.artists[0].name}</Link></li>)}\r\n                    </ul>\r\n                </div> : null}\r\n                {data.artists ? <div className=\"item\">\r\n                    <h3 className=\"hd\">\r\n                        <i className=\"icon icon-artist\"></i>\r\n                        <em>歌手</em>\r\n                    </h3>\r\n                    <ul className='cb bg'>\r\n                        {data.artists.map(a => <li key={a.id}><Link to={\"/find/artist?id=\" + a.id}>{a.name}</Link></li>)}\r\n                    </ul>\r\n                </div> : null}\r\n                {data.albums ? <div className=\"item\">\r\n                    <h3 className=\"hd\">\r\n                        <i className=\"icon icon-album\"></i>\r\n                        <em>专辑</em>\r\n                    </h3>\r\n                    <ul className='cb'>\r\n                        {data.albums.map(a => <li key={a.id}><Link to={\"/find/album?id=\" + a.id}>{a.name}</Link></li>)}\r\n                    </ul>\r\n                </div> : null}\r\n                {data.playlists ? <div className=\"item\">\r\n                    <h3 className=\"hd\">\r\n                        <i className=\"icon icon-list\"></i>\r\n                        <em>歌单</em>\r\n                    </h3>\r\n                    <ul className='cb bg'>\r\n                        {data.playlists.map(p => <li key={p.id}><Link to={\"/find/playlist?id=\" + p.id}>{p.name}</Link></li>)}\r\n                    </ul>\r\n                </div> : null}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { withRouter, useHistory, useLocation } from \"react-router-dom\";\r\nimport navList from \"../../common/navList\";\r\nimport \"./index.less\";\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nimport { Dropdown, Avatar, Input, Toast } from \"@douyinfe/semi-ui\";\r\nimport {\r\n\tIconSearch,\r\n\tIconUser,\r\n\tIconMailStroked1,\r\n\tIconSetting,\r\n\tIconQuit,\r\n\tIconVerify,\r\n\tIconShield,\r\n\tIconCrown,\r\n} from \"@douyinfe/semi-icons\";\r\nimport { delUserAction } from \"../../store/actions/user\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../services/apis\";\r\nimport { searchSuggest } from \"@/services/search\";\r\nimport Login from \"../Login\";\r\nimport SubNav from \"../SubNav\";\r\nimport SearchSuggest from \"./SearchSuggest\";\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tdelUser: (...args) => dispatch(delUserAction(...args)),\r\n\t};\r\n};\r\n\r\nfunction CommonHeader(props) {\r\n\tconst { user, delUser } = props;\r\n\tconst history = useHistory();\r\n\tconst location = useLocation();\r\n\tlet showSubNav = location.pathname.startsWith('/find'); // 路径是否以 /find 开头\r\n\tconst [keyword, setKeyword] = useState(\"\"); // 搜索的关键词\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst [suggest, setSuggest] = useState(null);\r\n\tconst [showSS, setShowSS] = useState(false);\r\n\r\n\t// 点击文档下拉搜索推荐隐藏\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener('click', handleClick)\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('click', handleClick)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst handleClick = e => {\r\n\t\tsetShowSS(false);\r\n\t}\r\n\r\n\t// 搜索框内容变化时\r\n\tconst keywordChange = (val) => {\r\n\t\tif (!val) {\r\n\t\t\tsetShowSS(false);\r\n\t\t\tsetKeyword(val);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetShowSS(true);\r\n\t\tsetKeyword(val);\r\n\t\tgetSearchSuggest(val);\r\n\t};\r\n\r\n\t// 获取搜索建议\r\n\tconst getSearchSuggest = (keywords) => {\r\n\t\tsearchSuggest({ keywords }).then(res => {\r\n\t\t\tif (res.code === 200) {\r\n\t\t\t\tsetSuggest(res.result);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleFocus = () => {\r\n\t\tif (keyword) {\r\n\t\t\tsetShowSS(true);\r\n\t\t}\r\n\t}\r\n\r\n\tconst searchMusic = async () => {\r\n\t\tif (!keyword) {\r\n\t\t\tToast.warning({\r\n\t\t\t\tcontent: \"请输入 音乐/视频/电台/用户 等关键字\",\r\n\t\t\t\tduration: 2,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\thistory.push(`/search?keywords=${keyword}`);\r\n\t};\r\n\t//   退出登录\r\n\tconst handleLogout = async () => {\r\n\t\tconst res = await logout();\r\n\t\tif (res.code === 200) {\r\n\t\t\thistory.push(\"/find\"); // 退出登录回到首页\r\n\t\t\tdelUser();\r\n\t\t\tlocalStorage.removeItem(\"user\");\r\n\t\t\tToast.success({\r\n\t\t\t\tcontent: \"退出登录成功，欢迎下次再来\",\r\n\t\t\t\tduration: 2,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tToast.error({\r\n\t\t\t\tcontent: \"操作失败\",\r\n\t\t\t\tduration: 2,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst lis = navList.map((nav) => (\r\n\t\t<NavLink to={nav.url} key={nav.url} className=\"nav-link\">\r\n\t\t\t<li className=\"nav-item\">{nav.text}</li>\r\n\t\t</NavLink>\r\n\t));\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"nav-wrapper\">\r\n\t\t\t\t<div className=\"nav-logo\">\r\n\t\t\t\t\t<Link className=\"logo-text\" to=\"/find\">\r\n\t\t\t\t\t\tMusic-Player\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul className=\"nav-list\">{lis}</ul>\r\n\t\t\t\t<div className=\"nav-search\">\r\n\t\t\t\t\t<div onClick={e => {\r\n\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground: \"#fff\",\r\n\t\t\t\t\t\t\t\toutline: \"none\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEnterPress={searchMusic}\r\n\t\t\t\t\t\t\tplaceholder=\"音乐/视频/电台/用户\"\r\n\t\t\t\t\t\t\tprefix={<IconSearch />}\r\n\t\t\t\t\t\t\tvalue={keyword}\r\n\t\t\t\t\t\t\tonChange={keywordChange}\r\n\t\t\t\t\t\t\tonFocus={handleFocus}\r\n\t\t\t\t\t\t\tshowClear\r\n\t\t\t\t\t\t></Input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{showSS && suggest ? <div className=\"search-suggest\">\r\n\t\t\t\t\t\t<SearchSuggest data={suggest} />\r\n\t\t\t\t\t</div> : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t{user ? (\r\n\t\t\t\t\t<div className=\"nav-user\">\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttrigger={\"hover\"}\r\n\t\t\t\t\t\t\tposition={\"bottom\"}\r\n\t\t\t\t\t\t\trender={\r\n\t\t\t\t\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconUser />}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/user/home?uid=${user.userId}`}>我的主页</Link>\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconMailStroked1 />}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/user/event`}>我的消息</Link>\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconCrown />}>\r\n\t\t\t\t\t\t\t\t\t\t我的等级\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconShield />}>\r\n\t\t\t\t\t\t\t\t\t\tVIP会员\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconSetting />}>\r\n\t\t\t\t\t\t\t\t\t\t个人设置\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconVerify />}>\r\n\t\t\t\t\t\t\t\t\t\t实名认证\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconQuit />} onClick={handleLogout}>\r\n\t\t\t\t\t\t\t\t\t\t退出\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Avatar src={user.avatarUrl} />\r\n\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div style={{\r\n\t\t\t\t\t\tmarginLeft: 30,\r\n\t\t\t\t\t\tcursor: 'pointer'\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetVisible(true);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t登录\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t{showSubNav ? <SubNav /> : <div className=\"sub-nav\"></div>}\r\n\t\t\t<Login\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tcloseModal={() => {\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t}}\r\n\t\t\t></Login>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withRouter(CommonHeader));\r\n","import React from 'react';\r\nimport \"./index.less\";\r\n\r\nexport default function CommonFooter() {\r\n    return (\r\n        <div className=\"footer-container\">\r\n            <div className=\"footer\">\r\n                <div className=\"copy\">\r\n                    <p className=\"link\">\r\n                        <a href=\"https://st.music.163.com/official-terms/service\" target=\"_blank\">服务条款</a>\r\n                        <span className=\"line\">|</span>\r\n                        <a href=\"https://st.music.163.com/official-terms/privacy\" target=\"_blank\">隐私政策</a>\r\n                        <span className=\"line\">|</span>\r\n                        <a href=\"https://st.music.163.com/official-terms/children\" target=\"_blank\">儿童隐私政策</a>\r\n                        <span className=\"line\">|</span>\r\n                        <a href=\"https://music.163.com/st/staticdeal/complaints.html\" target=\"_blank\">版权投诉指引</a>\r\n                        <span className=\"line\">|</span>\r\n                        <a href=\"https://st.music.163.com/official-terms/service\" target=\"_blank\">意见反馈</a>\r\n                        <span className=\"line\">|</span>\r\n                        <a href=\"https://st.music.163.com/official-terms/service\" target=\"_blank\">广告合作</a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const SETVOLUMNANDTYPE = Symbol(\"set-volumn-type\");\r\n\r\n// 设置音量\r\nexport function setVolumnAndTypeAction(obj) {\r\n    return {\r\n        type: SETVOLUMNANDTYPE,\r\n        payload: obj\r\n    }\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport style from \"./songList.module.less\";\r\nimport { Link } from \"react-router-dom\";\r\nimport utils from '../../utils';\r\nimport { getLyric } from \"@/services/apis\";\r\n\r\nexport default function SongList(props) {\r\n    const [lyric, setLyric] = useState(\"\");\r\n    const { songs, curSongId, curSong } = props;\r\n\r\n    // 获取当前播放歌曲的歌词\r\n    useEffect(() => {\r\n        getLyric({ id: curSongId }).then(res => {\r\n            if (res.code === 200) {\r\n                setLyric(res.lrc.lyric.replace(/\\[.*?\\]|\\x20/g, ''));\r\n            }\r\n        })\r\n        return () => {\r\n        }\r\n    }, [curSongId])\r\n\r\n    return (\r\n        <div className={style['song-list-wrap']} onClick={(e) => {\r\n            props.onClick && props.onClick(e);\r\n        }}>\r\n            <div className=\"list-header\">\r\n                <h4 className='title'>播放列表({songs.length})</h4>\r\n                <a onClick={e => e.preventDefault()} className='add-all'>\r\n                    <i className=\"icon-add\"></i>\r\n                    <span>收藏全部</span>\r\n                </a>\r\n                <span className=\"line\"></span>\r\n                <a className='del' onClick={(e) => {\r\n                    e.preventDefault();\r\n                    props.deleteAllSong();\r\n                }}>\r\n                    <i className=\"icon-del\"></i>\r\n                    <span>清除</span>\r\n                </a>\r\n                <p className=\"name\">{curSong ? curSong.song.name : null}</p>\r\n                <i className=\"icon-close\" onClick={() => {\r\n                    props.onClose();\r\n                }}>close</i>\r\n            </div>\r\n            <div className=\"list-content\">\r\n                <div className=\"list-wrap\">\r\n                    <ul className='list'>\r\n                        {songs && songs.map(s => <li className='list-item' key={s.id} onClick={(e) => {\r\n                            let tagName = e.target.tagName, id = e.target.id;\r\n                            if (tagName === 'I' && id === 'del') {\r\n                                props.deleteOneSong(s.id);\r\n                            } else {\r\n                                props.itemClickPlay(s.id);\r\n                            }\r\n                        }}>\r\n                            <i id=\"playing\" className={curSongId == s.id ? \"icon-p icon-playing\" : \"icon-p\"}></i>\r\n                            <span className=\"name pdl10\">{s.song.name}</span>\r\n                            <i id=\"del\" className=\"icon-del\"></i>\r\n                            <span className=\"artist pdl10\">\r\n                                {s.song.ar.map((a, i) => <Link key={a.id} to={\"/find/artist?id=\" + a.id}>\r\n                                    {i === 0 ? null : '/'}{a.name}\r\n                                </Link>)}\r\n                            </span>\r\n                            <span className=\"dt pdl10\">{utils.formatTime(s.song.dt)}</span>\r\n                        </li>)}\r\n                    </ul>\r\n                </div>\r\n                <div className=\"middle\"></div>\r\n                <div className=\"word-wrap\">\r\n                    <div className=\"lyric\">\r\n                        {lyric}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport style from \"./index.module.less\";\r\nimport { Link } from \"react-router-dom\";\r\nimport utils from '../../utils';\r\nimport { setCurSongIdAction } from \"@/store/actions/curSongId\";\r\nimport { deleteOneSongAction, deleteAllSongAction } from '../../store/actions/song';\r\nimport { setVolumnAndTypeAction } from '../../store/actions/volumn';\r\nimport SongList from \"./SongList\";\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tsongs: state.songs,\r\n\t\tcurSongId: state.curSongId,\r\n\t\tvolAndType: state.volAndType\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsetCurSongId: (...args) => dispatch(setCurSongIdAction(...args)),\r\n\t\tsetVolAndType: (...args) => dispatch(setVolumnAndTypeAction(...args)),\r\n\t\tdelOneSong: (...args) => dispatch(deleteOneSongAction(...args)),\r\n\t\tdelAllSong: (...args) => dispatch(deleteAllSongAction(...args)),\r\n\t};\r\n};\r\n\r\nlet flag = 1;\r\n\r\nfunction SongPlay(props) {\r\n\tconst { songs, curSongId, setCurSongId, volAndType, setVolAndType, delOneSong, delAllSong } = props;\r\n\tconst [isPlay, setIsPlay] = useState(false); // 是否正在播放音乐\r\n\tconst [showVoiceControl, setShowVoiceControl] = useState(false); // 是否显示控制音量\r\n\tconst [curHeight, setCurHeight] = useState(93);\r\n\tconst [dragTop, setDragTop] = useState(0);\r\n\tconst [curWidth, setCurWidth] = useState(0);\r\n\tconst [curTime, setCurTime] = useState(0); // 歌曲当前播放的时间\r\n\tconst [showList, setShowList] = useState(false);\r\n\tlet [playType, setPlayType] = useState(0); // 0:单曲循环；1：随机播放；2：顺序播放\r\n\r\n\tconst playIngSong = songs.find(s => s.id == curSongId) || songs[0];\r\n\tuseEffect(() => {\r\n\t\tif (!songs.length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst audio = document.getElementById(\"my-audio\");\r\n\t\tlet rect = document.querySelector('.vbg').getBoundingClientRect();\r\n\t\tsetCurHeight(parseInt(rect.height * volAndType.vol) > 93 ? 93 : parseInt(rect.height * volAndType.vol));\r\n\t\tsetDragTop(93 - parseInt(rect.height * volAndType.vol));\r\n\t\taudio.volume = volAndType.vol;\r\n\t\tsetPlayType(volAndType.type);\r\n\t\treturn () => {\r\n\t\t}\r\n\t}, [volAndType, showVoiceControl])\r\n\r\n\tuseEffect(() => {\r\n\t\t++flag;\r\n\t\tif (flag === 2) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetIsPlay(true);\r\n\t\treturn () => {\r\n\t\t}\r\n\t}, [curSongId])\r\n\r\n\r\n\r\n\t// 播放音乐\r\n\tconst play = () => {\r\n\t\tif (!playIngSong) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetIsPlay(!isPlay);\r\n\t\tconst audio = document.getElementById(\"my-audio\");\r\n\t\t// audio.autoplay = false;\r\n\t\tif (isPlay) {\r\n\t\t\taudio.pause();\r\n\t\t} else {\r\n\t\t\taudio.play();\r\n\t\t}\r\n\t}\r\n\r\n\t// 点击进度条\r\n\tconst dragSetCurTime = (width) => {\r\n\t\tif (!playIngSong) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst audio = document.getElementById(\"my-audio\");\r\n\t\taudio.currentTime = width / 100 * audio.duration;\r\n\t}\r\n\r\n\t// 调节音量\r\n\tconst setVoice = (height) => {\r\n\t\tlet volume = (height / 93) > 1 ? 1 : (height / 93) < 0 ? 0 : (height / 93);\r\n\t\tsetVolAndType({\r\n\t\t\tvol: volume,\r\n\t\t})\r\n\t}\r\n\r\n\t// 歌曲播放完\r\n\tconst songEnded = () => {\r\n\t\tif (playType === 0) { // 单曲播放\r\n\t\t} else if (playType === 1) { // 随机播放\r\n\t\t\tlet index = utils.getRandomIntNumber(0, songs.length - 1);\r\n\t\t\tsetCurSongId(songs[index].id);\r\n\t\t} else { // 顺序播放\r\n\t\t\tnext();\r\n\t\t}\r\n\t}\r\n\r\n\t// 上一首\r\n\tconst prev = () => {\r\n\t\tif (songs.length === 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst curIndex = songs && songs.findIndex(s => s.id === playIngSong.id);\r\n\t\tlet prevIndex = curIndex - 1 < 0 ? songs.length - 1 : curIndex - 1;\r\n\t\tsetCurWidth(0); // 进度条重置为0\r\n\t\tsetCurSongId(songs[prevIndex].id);\r\n\t\tif (isPlay) {\r\n\t\t\tconst audio = document.getElementById(\"my-audio\");\r\n\t\t\taudio.autoplay = true;\r\n\t\t}\r\n\t}\r\n\t// 下一首\r\n\tconst next = () => {\r\n\t\tif (songs.length === 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst curIndex = songs && songs.findIndex(s => s.id === playIngSong.id);\r\n\t\tlet nextIndex = curIndex + 1 > songs.length - 1 ? 0 : curIndex + 1;\r\n\t\tsetCurWidth(0);\r\n\t\tsetCurSongId(songs[nextIndex].id);\r\n\t\tif (isPlay) {\r\n\t\t\tconst audio = document.getElementById(\"my-audio\");\r\n\t\t\taudio.autoplay = true;\r\n\t\t}\r\n\t}\r\n\t// 播放类型的文本\r\n\tconst getPlayTypeText = (val) => {\r\n\t\tswitch (val) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn \"单曲循环\"\r\n\t\t\tcase 1:\r\n\t\t\t\treturn \"随机\"\r\n\t\t\tcase 2:\r\n\t\t\t\treturn \"循环\"\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t// 点击文档音量和播放列表隐藏\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener('click', handleClick)\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('click', handleClick)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetShowList(false);\r\n\t\tsetShowVoiceControl(false);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={style[\"b-bottom\"]}>\r\n\t\t\t<div className='song-play'>\r\n\t\t\t\t{/* <div className=\"song-lock\">\r\n\t\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t\t<i className=\"icon-lock\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"right\"></div>\r\n\t\t\t\t</div> */}\r\n\t\t\t\t<div className=\"bg\"></div>\r\n\t\t\t\t{/* <div className=\"hand\"></div> */}\r\n\t\t\t\t<div className=\"song-content\">\r\n\t\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t\t<i className='icon icon-prev' title='上一首' onClick={prev}>下一首</i>\r\n\t\t\t\t\t\t<i className={isPlay ? 'icon icon-play' : 'icon icon-pause'} title='暂停或播放' onClick={play}>暂停或播放</i>\r\n\t\t\t\t\t\t<i className=\"icon icon-next\" title='下一首' onClick={next}>下一首</i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"center\">\r\n\t\t\t\t\t\t<div className=\"song-info\">\r\n\t\t\t\t\t\t\t<div className=\"img-wrap\">\r\n\t\t\t\t\t\t\t\t<img src={playIngSong ? playIngSong.song.al.picUrl : 'https://s4.music.126.net/style/web2/img/default/default_album.jpg'} alt=\"\" />\r\n\t\t\t\t\t\t\t\t<Link to={\"/find/song?id=\" + curSongId} className=\"mask\"></Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"song-detail\">\r\n\t\t\t\t\t\t\t\t{playIngSong ? <>\r\n\t\t\t\t\t\t\t\t\t<Link to={\"/find/song?id=\" + curSongId} className=\"song-name\">{songs.length && playIngSong.song.name}</Link>\r\n\t\t\t\t\t\t\t\t\t{playIngSong.song.mv ? <Link to={\"/find/mv?id=\" + playIngSong.song.mv} className='icon-mv'></Link> : null}\r\n\t\t\t\t\t\t\t\t\t<span className=\"song-artist\">\r\n\t\t\t\t\t\t\t\t\t\t{playIngSong && playIngSong.song.ar.map((a, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Link key={a.id} to={\"/find/artist?id=\" + a.id}>{i === 0 ? '' : '/'}{a.name}</Link>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</> :\r\n\t\t\t\t\t\t\t\t\t<><Link to=\"/\" className=\"song-name\"></Link>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/\" className=\"song-artist\"></Link></>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<div className=\"progress\" onClick={(e) => {\r\n\t\t\t\t\t\t\t\t\tlet clickX = e.clientX;\r\n\t\t\t\t\t\t\t\t\tlet rect = document.querySelector('.song-detail .progress').getBoundingClientRect();\r\n\t\t\t\t\t\t\t\t\tlet curLeft = rect.left;\r\n\t\t\t\t\t\t\t\t\tlet width = rect.width;\r\n\t\t\t\t\t\t\t\t\tlet endCurWidth = (clickX - curLeft) / width * 100 > 100 ? 100 : (clickX - curLeft) / width * 100;\r\n\t\t\t\t\t\t\t\t\tsetCurWidth(endCurWidth);\r\n\t\t\t\t\t\t\t\t\tdragSetCurTime(endCurWidth);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"rdy\"></div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"cur\" style={{ width: `${curWidth}%` }}>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"icon-drag\"></span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{playIngSong ? <div className=\"song-time\">\r\n\t\t\t\t\t\t\t\t<em>{utils.formatTime(Math.floor(curTime) * 1000)}</em>\r\n\t\t\t\t\t\t\t\t/ {songs.length && utils.formatTime(playIngSong.song.dt)}\r\n\t\t\t\t\t\t\t</div> : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"right\">\r\n\t\t\t\t\t\t<i className=\"icon icon-draw\" title='画中画歌词'>画中画歌词</i>\r\n\t\t\t\t\t\t<i className=\"icon icon-fold\" title=\"收藏\">收藏</i>\r\n\t\t\t\t\t\t<i className=\"icon icon-share\" title=\"分享\">分享</i>\r\n\t\t\t\t\t\t<div className=\"bar\" onClick={e => {\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<div className=\"voice-control\" style={{\r\n\t\t\t\t\t\t\t\tvisibility: showVoiceControl ? 'visible' : 'hidden'\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<div className=\"bg\"></div>\r\n\t\t\t\t\t\t\t\t<div className=\"vbg\" onClick={(e) => {\r\n\t\t\t\t\t\t\t\t\tlet clickY = e.clientY;\r\n\t\t\t\t\t\t\t\t\tlet rect = document.querySelector('.vbg').getBoundingClientRect();\r\n\t\t\t\t\t\t\t\t\tlet curTop = rect.top;\r\n\t\t\t\t\t\t\t\t\tlet endCurHeignt = curTop + rect.height - clickY - 4;\r\n\t\t\t\t\t\t\t\t\tsetCurHeight(endCurHeignt > 93 ? 93 : endCurHeignt);\r\n\t\t\t\t\t\t\t\t\tsetDragTop(93 - endCurHeignt < 0 ? 0 : 93 - endCurHeignt > 85 ? 85 : 93 - endCurHeignt);\r\n\t\t\t\t\t\t\t\t\tsetVoice(endCurHeignt);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"voice-cur\" style={{ height: curHeight }}></div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"voice-drag\" style={{ top: dragTop }}></div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<i className=\"icon icon-voice\" onClick={() => {\r\n\t\t\t\t\t\t\t\tsetShowVoiceControl(!showVoiceControl)\r\n\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t\t\t<i title={getPlayTypeText(playType)} className={playType === 0 ? \"icon icon-one\" : playType === 1 ? \"icon icon-random\" : \"icon icon-loop\"} onClick={() => {\r\n\t\t\t\t\t\t\t\tsetVolAndType({\r\n\t\t\t\t\t\t\t\t\ttype: ++playType % 3,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t\t\t<i title='播放列表' className=\"icon icon-list\" onClick={() => {\r\n\t\t\t\t\t\t\t\tsetShowList(!showList)\r\n\t\t\t\t\t\t\t}}>{songs.length}</i>\r\n\t\t\t\t\t\t\t{showList ? <SongList onClose={() => {\r\n\t\t\t\t\t\t\t\tsetShowList(false);\r\n\t\t\t\t\t\t\t}} songs={songs} curSong={playIngSong} curSongId={curSongId} itemClickPlay={(id) => {\r\n\t\t\t\t\t\t\t\tsetCurSongId(id);\r\n\t\t\t\t\t\t\t}} deleteOneSong={(id) => {\r\n\t\t\t\t\t\t\t\tif (curSongId === id) {\r\n\t\t\t\t\t\t\t\t\tlet delIndex = songs.findIndex(s => s.id === id);\r\n\t\t\t\t\t\t\t\t\tlet nenxtId = songs[++delIndex % songs.length].id;\r\n\t\t\t\t\t\t\t\t\tsetCurSongId(nenxtId);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdelOneSong(id);\r\n\t\t\t\t\t\t\t}} deleteAllSong={() => {\r\n\t\t\t\t\t\t\t\tdelAllSong();\r\n\t\t\t\t\t\t\t}} onClick={(e) => {\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t}} /> : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{songs.length ? <audio id=\"my-audio\" src={playIngSong.url} loop={volAndType.type === 0} onTimeUpdate={() => {\r\n\t\t\t\t\tconst audio = document.getElementById('my-audio');\r\n\t\t\t\t\tsetCurTime(audio.currentTime);\r\n\t\t\t\t\tsetCurWidth(audio.currentTime / audio.duration * 100);\r\n\t\t\t\t}} onEnded={songEnded}></audio> : null}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SongPlay);","import React from 'react';\r\nimport style from \"./index.module.less\";\r\n\r\nexport default function Find(props) {\r\n    return (\r\n        <div className={style['find-container']}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport \"./index.less\";\r\n\r\nexport default function index(props) {\r\n    return (\r\n        <div className=\"user-container\">\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n","import { useEffect } from 'react';\r\nimport NProgress from 'nprogress';\r\nimport 'nprogress/nprogress.css';\r\nimport \"./index.less\";\r\n\r\n/**\r\n * 路由跳转的进度条\r\n * @returns \r\n */\r\nexport default function index() {\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0); // 滚动到顶部\r\n        NProgress.start();\r\n        return () => {\r\n            NProgress.done();\r\n        }\r\n    }, [])\r\n\r\n    return null;\r\n}\r\n","import React, { lazy, Suspense } from \"react\";\r\nimport { Switch, HashRouter as Router, Route, Redirect } from \"react-router-dom\"\r\nimport \"./app.less\";\r\nimport { Layout, BackTop } from '@douyinfe/semi-ui';\r\nimport CommonHeader from \"./components/CommonHeader\";\r\nimport CommonFooter from \"./components/CommonFooter\";\r\nimport SongPlay from \"./components/SongPlay\";\r\nimport Find from \"./pages/Find\";\r\nimport User from \"./pages/User\"\r\nimport Spinner from \"@/components/Spinner\";\r\n\r\nconst Index = lazy(() => import(\"./pages/Index\"));\r\nconst Search = lazy(() => import(\"./pages/Search\"));\r\nconst PlayList = lazy(() => import(\"./pages/Find/modules/PlayList\"));\r\nconst Friend = lazy(() => import(\"./pages/Friend\"));\r\n\r\nconst UserHome = lazy(() => import(\"./pages/User/modules/user-home/UserHome\"));\r\nconst UserUpdate = lazy(() => import(\"./pages/User/modules/user-update/UserUpdate\"));\r\nconst UserEvent = lazy(() => import(\"./pages/User/modules/user-event/UserEvent\"));\r\n\r\nconst PlaylistDetail = lazy(() => import(\"./pages/Find/modules/playListDetail/PlaylistDetail.jsx\"));\r\nconst SongDetail = lazy(() => import(\"./pages/Song/SongDetail\"));\r\nconst ArtistDetail = lazy(() => import(\"./pages/Artist/ArtistDetail\"));\r\nconst AlbumDetail = lazy(() => import(\"./pages/Album/AlbumDetail\"));\r\nconst MvDetail = lazy(() => import(\"./pages/Mv/MvDetail\"));\r\nconst TopList = lazy(() => import(\"./pages/Find/modules/topList/TopList\"));\r\nconst Dj = lazy(() => import(\"./pages/Find/modules/Dj/DjRadio/Dj\"));\r\nconst CatDetail = lazy(() => import(\"./pages/Find/modules/Dj/CatDetail/CatDetail\"));\r\nconst DJRank = lazy(() => import(\"./pages/Find/modules/Dj/DjRank/DJRank\"));\r\nconst DJRecommend = lazy(() => import(\"./pages/Find/modules/Dj/DjRecommend/DJRecommend\"));\r\nconst Program = lazy(() => import(\"./pages/Find/modules/Dj/Program/Program\"));\r\nconst DjDetail = lazy(() => import(\"./pages/Find/modules/Dj/DjDetail/DjDetail\"));\r\nconst AlbumList = lazy(() => import(\"./pages/Album/AlbumList\"));\r\nconst SingerCat = lazy(() => import(\"./pages/Find/modules/Singers/SingerCat\"));\r\nconst Download = lazy(() => import(\"./pages/Other/Download\"));\r\nconst Mall = lazy(() => import(\"./pages/Other/Mall\"));\r\nconst Musician = lazy(() => import(\"./pages/Other/Musician\"));\r\nconst MyMusic = lazy(() => import(\"./pages/Other/MyMusic\"));\r\nconst NotFound = lazy(() => import(\"./pages/NotFound\"));\r\n\r\nfunction App() {\r\n    const { Header, Footer, Content } = Layout;\r\n    return (\r\n        <Router>\r\n            <Suspense fallback={<Spinner />}>\r\n                <Layout className=\"components-layout-demo\">\r\n                    <Header>\r\n                        <CommonHeader />\r\n                    </Header>\r\n                    <Content>\r\n                        <Switch>\r\n                            <Route exact path=\"/\">\r\n                                <Redirect to=\"/find\" />\r\n                            </Route>\r\n                            <Route path=\"/find\" render={() => (\r\n                                <Find>\r\n                                    <Route exact path=\"/find\" component={Index}></Route>\r\n                                    <Route exact path=\"/find/playlist\" component={PlayList}></Route>\r\n                                    <Route exact path=\"/find/playlist/detail\" component={PlaylistDetail}></Route>\r\n                                    <Route exact path=\"/find/toplist\" component={TopList}></Route>\r\n                                    <Route path=\"/find/djradio\" render={() => (\r\n                                        <>\r\n                                            <Route exact path=\"/find/djradio\" component={Dj}></Route>\r\n                                            <Route exact path=\"/find/djradio/category\" component={CatDetail}></Route>\r\n                                            <Route exact path=\"/find/djradio/recommend\" component={DJRecommend}></Route>\r\n                                            <Route exact path=\"/find/djradio/rank\" component={DJRank}></Route>\r\n                                            <Route exact path=\"/find/djradio/program\" component={Program}></Route>\r\n                                            <Route exact path=\"/find/djradio/detail\" component={DjDetail}></Route>\r\n                                        </>\r\n                                    )}></Route>\r\n                                    <Route exact path=\"/find/song\" component={SongDetail}></Route>\r\n                                    <Route exact path=\"/find/artist\" component={ArtistDetail}></Route>\r\n                                    <Route exact path=\"/find/album\" component={AlbumDetail}></Route>\r\n                                    <Route exact path=\"/find/album/list\" component={AlbumList}></Route>\r\n                                    <Route exact path=\"/find/mv\" component={MvDetail}></Route>\r\n                                    <Route exact path=\"/find/singers/cat\" component={SingerCat}></Route>\r\n                                </Find>\r\n                            )}>\r\n                            </Route>\r\n                            <Route exact path=\"/mymusic\" component={MyMusic}></Route>\r\n                            <Route exact path=\"/friend\" component={Friend}></Route>\r\n                            <Route exact path=\"/mall\" component={Mall}></Route>\r\n                            <Route exact path=\"/musician\" component={Musician}></Route>\r\n                            <Route exact path=\"/download\" component={Download}></Route>\r\n                            <Route exact path=\"/search\" component={Search}></Route>\r\n                            <Route path=\"/user\" render={() => (\r\n                                <User>\r\n                                    <Route exact path=\"/user/home\" component={UserHome} ></Route>\r\n                                    <Route exact path=\"/user/update\" component={UserUpdate} ></Route>\r\n                                    <Route exact path=\"/user/event\" component={UserEvent} ></Route>\r\n                                </User>\r\n                            )}></Route>\r\n                            <Route component={NotFound}></Route>\r\n                        </Switch>\r\n                    </Content>\r\n                    <Footer><CommonFooter /></Footer>\r\n                    <BackTop style={{ bottom: 100 }} />\r\n                    <SongPlay />\r\n                </Layout>\r\n            </Suspense>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n\r\n","import { ADDUSER, DELUSER } from \"../actions/user\";\r\n\r\nconst user = JSON.parse(localStorage.getItem('user')) || null;\r\nconst initialState = user;\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = initialState, { type, payload }) => {\r\n    switch (type) {\r\n    case ADDUSER:\r\n        return payload;\r\n    case DELUSER:\r\n        return null;\r\n    default:\r\n        return state\r\n    }\r\n}\r\n","import { ADDSONG, DELETEALLSONG, DELETEONESONG, ADDSONGLIST } from \"../actions/song\";\r\nimport utils from \"@/utils\";\r\nconst song = JSON.parse(localStorage.getItem(\"songs\")) || [];\r\nconst initialState = song;\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = initialState, { type, payload }) => {\r\n    switch (type) {\r\n        case ADDSONG:\r\n            let songs = utils.unique([...state, ...payload]);\r\n            localStorage.setItem(\"songs\", JSON.stringify(songs));\r\n            return songs;\r\n        case ADDSONGLIST:\r\n            localStorage.setItem(\"songs\", JSON.stringify(payload));\r\n            return payload;\r\n        case DELETEONESONG:\r\n            let list = state.filter(song => song.id !== payload)\r\n            localStorage.setItem(\"songs\", JSON.stringify(list));\r\n            return list;\r\n        case DELETEALLSONG:\r\n            localStorage.setItem(\"songs\", JSON.stringify([]));\r\n            return [];\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import { SETSONGID } from \"../actions/curSongId\";\r\n\r\n\r\nconst curSongId = JSON.parse(localStorage.getItem('cur-song-id')) || null;\r\nconst initialState = curSongId;\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = initialState, { type, payload }) => {\r\n    switch (type) {\r\n        case SETSONGID:\r\n            localStorage.setItem('cur-song-id', JSON.stringify(payload));\r\n            const audio = document.getElementById(\"my-audio\");\r\n            if (audio) {\r\n                audio.autoplay = true;\r\n            }\r\n            return payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { SETVOLUMNANDTYPE } from \"../actions/volumn\";\r\n\r\nconst volAndType = JSON.parse(localStorage.getItem('set')) || {\r\n    vol: 1,\r\n    type: 0\r\n};\r\nconst initialState = volAndType;\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = initialState, { type, payload }) => {\r\n    switch (type) {\r\n        case SETVOLUMNANDTYPE:\r\n            let obj = { ...state, ...payload };\r\n            localStorage.setItem(\"set\", JSON.stringify(obj))\r\n            return obj;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { createStore, combineReducers } from \"redux\";\r\n\r\nimport user from \"./reducers/user\";\r\nimport songs from \"./reducers/song\";\r\nimport curSongId from \"./reducers/curSong\";\r\nimport volAndType from \"./reducers/volumn\";\r\n\r\nconst rootReducer = combineReducers({\r\n    user,\r\n    songs,\r\n    curSongId,\r\n    volAndType,\r\n});\r\n\r\nconst store = createStore(rootReducer);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'reset-css';\r\nimport App from './App';\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\n\r\nReactDOM.render(\r\n    //   <React.StrictMode>\r\n    <Provider store={store}><App /></Provider>\r\n    ,\r\n    //   </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n","export const ADDUSER = Symbol(\"add-user\");\r\nexport const DELUSER = Symbol(\"del-user\");\r\n\r\n// 刷线用户信息\r\nexport function addUserAction(user) {\r\n    return {\r\n        type: ADDUSER,\r\n        payload: user\r\n    }\r\n};\r\n\r\n// 删除用户信息\r\nexport function delUserAction() {\r\n    return {\r\n        type: DELUSER\r\n    }\r\n}","import ins from \"./request\";\r\n\r\n/**\r\n * 接口统一规范，通过对象的方式传入\r\n */\r\n\r\n// 搜索\r\nexport async function search({ keywords = \"\", type = 1, limit = 20, offset = 0 }) {\r\n    const res = await ins.get(\"/search\", {\r\n        params: {\r\n            keywords,\r\n            type,\r\n            limit,\r\n            offset\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 手机号登录\r\nexport async function phoneLogin({ phone, password }) {\r\n    const res = await ins.get(\"/login/cellphone\", {\r\n        params: {\r\n            phone,\r\n            password\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 退出登录\r\nexport async function logout() {\r\n    const res = await ins.get(\"/logout\");\r\n    return res;\r\n}\r\n\r\n/**\r\n * offset, 第二页的话，offset是 1 * limit\r\n * @param {cat} param0 分类\r\n * @returns \r\n */\r\nexport async function getPlaylist({ cat = \"\", limit = 20, offset, order = \"hot\" }) {\r\n    const res = await ins.get(\"/top/playlist\", {\r\n        params: {\r\n            cat,\r\n            limit,\r\n            offset,\r\n            order,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n/**\r\n * 朋友\r\n * offset, 第二页的话，offset是 1 * limit\r\n * limit 页容量\r\n */\r\nexport async function getFriend({ offset = \"0\", limit = 20 }) {\r\n    const res = await ins.get(\"/event/list\", {\r\n        params: {\r\n            offset,\r\n            limit\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n/**\r\n * 网友 歌单类型列表\r\n */\r\nexport async function getPlayListCat() {\r\n    const res = await ins.get(\"/playlist/catlist\",);\r\n    return res;\r\n};\r\n\r\n// 获取用户信息,传userId\r\nexport async function getUserDetail({ uid, timestamp = Date.now() }) {\r\n    const res = await ins.get('/user/detail', {\r\n        params: {\r\n            uid,\r\n            timestamp,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 可以获取用户等级信息,包含当前登录天数,听歌次数,下一等级需要的登录天数和听歌次数,\r\nexport async function getUserLevel() {\r\n    const res = await ins.get(\"/user/level\", {\r\n        params: {\r\n\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取用户的播放记录 type = 1 weekData, type = 2 allData\r\nexport async function getUserRecord({ uid, type = 1 }) {\r\n    const res = await ins.get(\"/user/record\", {\r\n        params: {\r\n            uid,\r\n            type,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n//获取用户歌单\r\nexport async function getUserPlayList({ uid, offset = 0, limit = 30 }) {\r\n    const res = await ins.get(\"/user/playlist\", {\r\n        params: {\r\n            uid,\r\n            limit,\r\n            offset,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n/**\r\n * gender: 性别 0:保密 1:男性 2:女性\r\n * birthday: 出生日期,时间戳 unix timestamp\r\n * nickname: 用户昵称\r\n * province: 省份id\r\n * city: 城市id\r\n * signature：用户签名\r\n */\r\nexport async function updateUserInfo({ gender, birthday, nickname, province, city, signature }) {\r\n    const res = await ins.get(\"/user/update\", {\r\n        params: {\r\n            gender, birthday, nickname, province, city, signature\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 刷新登录\r\nexport async function loginRefresh() {\r\n    const res = await ins.get(\"/login/refresh\");\r\n    return res;\r\n};\r\n\r\n// 获取用户绑定信息\r\nexport async function getUserBindInfo({ uid }) {\r\n    const res = await ins.get(\"/user/binding\", {\r\n        params: {\r\n            uid\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌曲播放链接\r\nexport async function getMusicPlayUrl({ id }) {\r\n    // const res = await ins.get(\"/song/url\", {\r\n    //     params: {\r\n    //         id: id + '.mp3',\r\n    //     }\r\n    // });\r\n    const res = await getSongDetail({ ids: id });\r\n    let song;\r\n    if (res.code === 200) {\r\n        song = res.songs[0];\r\n    }\r\n\r\n    let url = \"https://music.163.com/song/media/outer/url?id=\"\r\n    return { code: 200, data: [{ id, url: `${url}${id}.mp3`, song }] };\r\n};\r\n\r\n// 获取歌曲下载url\r\nexport async function getSongUrl({ id }) {\r\n    const res = await ins.get(\"/song/download/url\", {\r\n        params: { id }\r\n    });\r\n    return res;\r\n}\r\n\r\n// 检查歌曲是否可以播放\r\nexport async function checkMusic({ id }) {\r\n    const res = await ins.get(\"/check/music\", {\r\n        params: {\r\n            id\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌单详情\r\nexport async function getPlayListDetail({ id }) {\r\n    const res = await ins.get(\"/playlist/detail\", {\r\n        params: {\r\n            id\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n//  获取热门歌单\r\nexport async function getHotPlayList() {\r\n    const res = await ins.get(\"/playlist/hot\");\r\n    return res;\r\n};\r\n\r\n// 歌单评论列表\r\nexport async function getPlayListCommit({ id, limit, offset, timestamp }) {\r\n    const res = await ins.get(\"/comment/playlist\", {\r\n        params: {\r\n            id, limit, offset, timestamp\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌曲详情\r\nexport async function getSongDetail({ ids }) {\r\n    const res = await ins.get(\"/song/detail\", {\r\n        params: { ids }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌词\r\nexport async function getLyric({ id }) {\r\n    const res = await ins.get(\"/lyric\", {\r\n        params: {\r\n            id\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取相似歌单（包含此歌曲的歌单)\r\nexport async function getSimiPlayList({ id }) {\r\n    const res = await ins.get(\"/simi/playlist\", {\r\n        params: {\r\n            id\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取相似音乐\r\nexport async function getSimiSong({ id }) {\r\n    const res = await ins.get(\"/simi/song\", {\r\n        params: {\r\n            id,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌曲评论\r\nexport async function getSongComment({ id, limit, offset, timestamp }) {\r\n    const res = await ins.get(\"/comment/music\", {\r\n        params: {\r\n            id, limit, offset, timestamp\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌手详情\r\nexport async function getArtistDetail({ id }) {\r\n    const res = await ins.get(\"/artist/detail\", {\r\n        params: {\r\n            id,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取相似歌手\r\nexport async function getSimiArtist({ id }) {\r\n    const res = await ins.get(\"/simi/artist\", {\r\n        params: {\r\n            id,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌手热门作品已经歌手部分信息\r\nexport async function getArtistSongs({ id }) {\r\n    const res = await ins.get(\"/artists\", {\r\n        params: { id }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌手专辑\r\nexport async function getArtistAlbums({ id, limit, offset }) {\r\n    const res = await ins.get(\"/artist/album\", {\r\n        params: { id, limit, offset }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌手mv\r\nexport async function getArtistMv({ id, limit, offset }) {\r\n    const res = await ins.get(\"/artist/mv\", {\r\n        params: {\r\n            id, limit, offset\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌手描述\r\nexport async function getArtistDesc({ id }) {\r\n    const res = await ins.get(\"/artist/desc\", {\r\n        params: { id }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取专辑内容\r\nexport async function getAlbum({ id }) {\r\n    const res = await ins.get(\"/album\", {\r\n        params: { id }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取专辑评论\r\nexport async function getAlbumCommit({ id, limit, offset, timestamp }) {\r\n    const res = await ins.get(\"/comment/album\", {\r\n        params: { id, limit, offset, timestamp }\r\n    });\r\n    return res;\r\n};\r\n\r\n// \r\nexport async function getAlbumDynamic({ id }) {\r\n    const res = await ins.get(\"/album/detail/dynamic\", {\r\n        params: { id }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取banner数据\r\nexport async function getBanner() {\r\n    const res = await ins.get(\"/banner\");\r\n    return res;\r\n};\r\n\r\n// 获取推荐歌单\r\nexport async function getPersonalized({ limit }) {\r\n    const res = await ins.get(\"/personalized\", {\r\n        params: { limit }\r\n    });\r\n    return res;\r\n}\r\n\r\n// 获取每日推荐歌单\r\nexport async function getDayPlsyList() {\r\n    const res = await ins.get(\"/recommend/resource\");\r\n    return res;\r\n};\r\n\r\n// 获取首页新碟上架数据\r\nexport async function getAlbumNewest() {\r\n    const res = await ins.get(\"/album/newest\");\r\n    return res;\r\n};\r\n\r\n// 签到\r\nexport async function userSignIn({ type }) {\r\n    const res = await ins.get(\"/daily_signin\", {\r\n        params: {\r\n            type\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取榜单内容摘要\r\nexport async function getTop() {\r\n    const res = await ins.get(\"/toplist/detail\");\r\n    return res;\r\n};\r\n\r\n","export const SETSONGID = Symbol(\"set-song-id\");\r\n\r\n// 添加一首歌播放\r\nexport function setCurSongIdAction(id) {\r\n    return {\r\n        type: SETSONGID,\r\n        payload: id\r\n    }\r\n}\r\n\r\n","import axios from \"axios\";\r\n\r\nconst ins = axios.create({\r\n    baseURL: \"https://music-2903474904-qqcom.vercel.app/\",\r\n    withCredentials: true,\r\n    // timeout: 6000, // 毫秒\r\n});\r\n\r\nins.interceptors.response.use(res => {\r\n    if(res.status === 200) {\r\n        return Promise.resolve(res.data);\r\n    } else {\r\n        return Promise.reject(res);\r\n    }\r\n}, error => {\r\n    return Promise.reject(error);\r\n})\r\n\r\nexport default ins;","import React, {useState, useCallback} from 'react';\r\nimport { Modal, Button, Form, Row, Toast } from '@douyinfe/semi-ui';\r\nimport { phoneLogin } from \"../../services/apis\"\r\nimport { connect } from \"react-redux\";\r\nimport { addUserAction } from \"../../store/actions/user\";\r\nimport utils from '../../utils';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addUser: (...args) => dispatch(addUserAction(...args)),\r\n    }\r\n}\r\nfunction Login(props) {\r\n    const {addUser} = props;\r\n    const [phone, setPhone] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const closeModal = useCallback(\r\n        () => {\r\n            props.closeModal && props.closeModal(false);\r\n        },\r\n        [props],\r\n    );\r\n\r\n    const handleOk = useCallback(\r\n        async () => {\r\n            if(!phone || !password) {\r\n                return false;\r\n            }\r\n            const res = await phoneLogin({\r\n                phone,\r\n                password\r\n            });\r\n            console.log(res);\r\n            if(res.code === 200) {\r\n                Toast.success({\r\n                    content: `欢迎${res.profile.nickname}回家`,\r\n                    duration: 2,\r\n                })\r\n                closeModal();\r\n                addUser(res.profile);\r\n                localStorage.setItem('user', JSON.stringify(res.profile));\r\n                utils.setCookie('token', JSON.stringify(res.token));\r\n            } else {\r\n                Toast.error({\r\n                    content: res.msg,\r\n                    duration: 2\r\n                });\r\n            }\r\n        },\r\n        [password, phone],\r\n    );\r\n\r\n    const handlePassChange = (val) => {\r\n            setPassword(val)\r\n    };\r\n\r\n    const handlePhoneChange = (val) => {\r\n            setPhone(val)\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Modal\r\n                title=\"登录\"\r\n                visible={props.visible}\r\n                onOk={handleOk}\r\n                onCancel={closeModal}\r\n                centered\r\n                bodyStyle={{height: 200}}\r\n                footer={\r\n                    <>\r\n                        <Button type=\"tertiary\" onClick={closeModal}>取消</Button>\r\n                        <Button type=\"primary\" onClick={handleOk}>登录</Button>\r\n                    </>\r\n                }\r\n            >\r\n                <Form>\r\n                    <Row>\r\n                        <Form.Input\r\n                            field='phone'\r\n                            label=\"手机\"\r\n                            trigger='blur'\r\n                            onChange={handlePhoneChange}\r\n                            rules={[\r\n                                { required: true, message: \"请输入手机号\" },\r\n                            ]}\r\n                        />\r\n                    </Row>\r\n                    <Row>\r\n                        <Form.Input\r\n                            field='password'\r\n                            label=\"密码\"\r\n                            trigger='blur'\r\n                            mode=\"password\"\r\n                            onChange={handlePassChange}\r\n                            rules={[\r\n                                { required: true, message: \"请输入密码\" },\r\n                            ]}\r\n                        />\r\n                    </Row>\r\n                </Form>\r\n            </Modal>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"suggest\":\"suggest_suggest__1GkIU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"b-bottom\":\"index_b-bottom__1qqfe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"song-list-wrap\":\"songList_song-list-wrap__YyUdg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"find-container\":\"index_find-container__1VoGa\"};","import Cookie from \"js-cookie\";\r\nimport day from \"dayjs\";\r\n\r\nconst utils = {\r\n    /**\r\n     * 判断一个数是否是偶数\r\n     */\r\n    isEven(num) {\r\n        return (num % 2) === 0\r\n    },\r\n    /**\r\n     * 不足10补0\r\n     */\r\n    paddingLeft(num) {\r\n        return num < 10 ? \"0\" + num : num;\r\n    },\r\n    /**\r\n     * 给定毫秒数，转换为时分秒\r\n     */\r\n    formatTime(mss) {\r\n        var h = parseInt((mss / (1000 * 60 * 60)) % 60);\r\n        var m = parseInt((mss / (1000 * 60)) % 60);\r\n        var s = parseInt((mss / 1000) % 60);\r\n        return `${h > 0 ? this.paddingLeft(h) + ':' : ''}${m > 0 ? this.paddingLeft(m) + ':' : \"00:\"}${s > 0 ? this.paddingLeft(s) + '' : \"00\"}`;\r\n    },\r\n    // 对象数组去重\r\n    unique(arr) {\r\n        const res = new Map();\r\n        return arr.filter((arr) => !res.has(arr.id) && res.set(arr.id, 1))\r\n    },\r\n    // 根据type，得到文本类型\r\n    getTextByType(type) {\r\n        switch (type) {\r\n            case \"1\":\r\n                return \"单曲\";\r\n            case \"100\":\r\n                return \"歌手\";\r\n            case \"10\":\r\n                return \"专辑\";\r\n            case \"1014\":\r\n                return \"视频\";\r\n            case \"1006\":\r\n                return \"歌词\";\r\n            case \"1000\":\r\n                return \"歌单\";\r\n            case \"1009\":\r\n                return \"声音主播\";\r\n            case \"1002\":\r\n                return \"用户\";\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n    // 设置cookie\r\n    setCookie(key, value) {\r\n        Cookie.set(key, value);\r\n    },\r\n    // 获取cookie\r\n    getCookie(key) {\r\n        return Cookie.get(key);\r\n    },\r\n    formatDate(time) {\r\n        return day(time).format('YYYY-MM-DD')\r\n    },\r\n\r\n    /**\r\n     * 锚点滚动\r\n     */\r\n    goAnchor(selector) {\r\n        let dom = document.querySelector(selector);\r\n        let top = dom.offsetTop;\r\n        window.scrollTo(0, top);\r\n    },\r\n    // 对象数组去重，根据id\r\n    unique(arr) {\r\n        const res = new Map();\r\n        return arr.filter((arr) => !res.has(arr.id) && res.set(arr.id, 1))\r\n    },\r\n    // 获取给定范围的随机整数\r\n    getRandomIntNumber(min, max) {\r\n        return Math.floor(Math.random() * (max - min + 1) + min);\r\n    }\r\n};\r\n\r\nexport default utils;"],"sourceRoot":""}