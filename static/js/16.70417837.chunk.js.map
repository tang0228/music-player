{"version":3,"sources":["services/dj.js","components/Commit/index.jsx","components/Commit/index.module.less","components/CommitList/commitList.module.less","services/comment.js","components/CommitList/Item.jsx","components/CommitList/CommitList.jsx","pages/Find/modules/Dj/Program/program.module.less","pages/Find/modules/Dj/Program/left.module.less","pages/Find/modules/Dj/Program/songList.module.less","pages/Find/modules/Dj/Program/right.module.less","pages/Find/modules/Dj/Program/Item.jsx","pages/Find/modules/Dj/Program/SongList.jsx","pages/Find/modules/Dj/Program/ProgramLeft.jsx","pages/Find/modules/Dj/Program/ProgramRight.jsx","pages/Find/modules/Dj/Program/Program.jsx"],"names":["getDjPopularList","a","limit","ins","get","params","res","getDjCat","getDjRecommend","getProgramRecommend","getDjProgramToplist","getRecommendCat","getRecommendByCat","type","getHotDjList","offset","cateId","getProgramDetail","id","getDjradioDetail","rid","getDjComments","timestamp","getDjProgramById","connect","state","user","props","useState","commitText","setCommitText","className","style","commit","commitNum","src","avatarUrl","alt","placeholder","value","onChange","val","maxCount","commitLength","onClick","Toast","warning","content","duration","module","exports","comment","t","commentId","post","likeComment","cid","threadId","c","to","userId","height","debounce","width","nickname","beReplied","length","map","be","beRepliedCommentId","timeStr","delComment","liked","commentLike","likedCount","CommitList","total","comments","hotComments","like","del","song","dispatch","addSong","addSongAction","setCurSongId","setCurSongIdAction","item","index","showAlbum","play","getMusicPlayUrl","code","data","url","name","mvid","utils","formatTime","artists","e","i","album","SongList","open","setOpen","list","filter","l","ProgramLeft","detail","setComments","setHotComments","page","setPage","setTotal","loading","setLoading","useEffect","getComments","Date","now","success","error","coverUrl","radio","dj","brand","subCount","icon","goAnchor","commentCount","shareCount","categoryId","categoryName","serialNum","formatDate","createTime","color","listenerCount","description","split","splice","join","songs","Commit","currentPage","onPageChange","pageSize","spinning","tip","size","position","top","left","transform","zIndex","ProgramRIght","setList","then","r","programs","p","Program","location","useLocation","qs","parse","search","setDetail","program"],"mappings":"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","file":"static/js/16.70417837.chunk.js","sourcesContent":["import ins from \"./request\";\r\n\r\n// 获取最热主播榜\r\nexport async function getDjPopularList({ limit }) {\r\n    const res = await ins.get(\"/dj/toplist/popular\", {\r\n        params: {\r\n            limit\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取dj banner\r\nexport async function getDjBanner() {\r\n    const res = await ins.get(\"/dj/banner\");\r\n    return res;\r\n};\r\n\r\n// 获取dj 分类\r\nexport async function getDjCat() {\r\n    const res = await ins.get(\"/dj/catelist\");\r\n    return res;\r\n};\r\n\r\n// dj 推荐\r\nexport async function getDjRecommend() {\r\n    const res = await ins.get(\"/dj/program/toplist/hours\");\r\n    return res;\r\n}\r\n\r\n// 节目推荐\r\nexport async function getProgramRecommend() {\r\n    const res = await ins.get(\"/program/recommend\");\r\n    return res;\r\n}\r\n\r\n// 节目排行榜\r\nexport async function getDjProgramToplist() {\r\n    const res = await ins.get(\"/dj/program/toplist\");\r\n    return res;\r\n};\r\n\r\n// 获取推荐电台类型\r\nexport async function getRecommendCat() {\r\n    const res = await ins.get(\"/dj/category/recommend\");\r\n    return res;\r\n};\r\n\r\n// 获取分类推荐的电台\r\nexport async function getRecommendByCat({ type }) {\r\n    const res = await ins.get(\"/dj/recommend/type\", {\r\n        params: {\r\n            type\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取热门电台列表\r\nexport async function getHotDjList({ limit, offset, cateId }) {\r\n    const res = await ins.get('/dj/radio/hot', {\r\n        params: {\r\n            limit, offset, cateId\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取节目详情\r\nexport async function getProgramDetail({ id }) {\r\n    const res = await ins.get(\"/dj/program/detail\", {\r\n        params: {\r\n            id\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取dj详情\r\nexport async function getDjradioDetail({ rid }) {\r\n    const res = await ins.get(\"/dj/detail\", {\r\n        params: {\r\n            rid\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取节目评论\r\nexport async function getDjComments({ id, limit, offset, timestamp }) {\r\n    const res = await ins.get(\"/comment/dj\", {\r\n        params: { id, limit, offset, timestamp }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取电台节目 根据id\r\nexport async function getDjProgramById({ rid, offset }) {\r\n    const res = await ins.get(\"/dj/program\", {\r\n        params: { rid, offset }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 电台 可能喜欢\r\nexport async function getLikeDj() {\r\n    const res = await ins.get(\"/dj/recommend\");\r\n    return res;\r\n}","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./index.module.less\";\r\nimport { TextArea, Button, Toast } from \"@douyinfe/semi-ui\";\r\n// import Picker from \"emoji-picker-react\";\r\nimport { connect } from \"react-redux\";\r\n// import { IconImage } from \"@douyinfe/semi-icons\";\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user,\r\n\t};\r\n};\r\n\r\nfunction Commit(props) {\r\n\tconst user = props.user;\r\n\t// const [showEmoji, setShowEmoji] = useState(false);\r\n\tconst [commitText, setCommitText] = useState(\"\");// 评论内容\r\n\t// const onEmojiClick = (e, emo) => {\r\n\t//   //   setEmoText(emo.emoji);\r\n\t//   //   setCommitText(emo.names[0] + commitText);\r\n\t// };\r\n\tconst handleValueChange = (val) => {\r\n\t\tsetCommitText(val);\r\n\t}\r\n\t// const showEmojiSelect = () => {\r\n\t//   setShowEmoji(!showEmoji);\r\n\t// };\r\n\tconst commit = () => {\r\n\t\tif (!user) {\r\n\t\t\tToast.warning(\"请先登录再评论哦\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!commitText) {\r\n\t\t\tToast.warning({\r\n\t\t\t\tcontent: \"请先输入内容哦😊\",\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// 回传给父组件\r\n\t\tsetCommitText(\"\"); // 输入框清空\r\n\t\tprops.commit && props.commit(commitText)\r\n\t}\r\n\treturn (\r\n\t\t<div className={style.commit} id=\"comment\">\r\n\t\t\t<div className=\"commit-header\">\r\n\t\t\t\t<h3 className=\"title\">评论</h3>\r\n\t\t\t\t<span className=\"nums\">共{props.commitNum}条评论</span>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"commit-wrap\">\r\n\t\t\t\t<img src={user ? user.avatarUrl : 'http://s4.music.126.net/style/web2/img/default/default_avatar.jpg?param=50y50'} alt=\"\" />\r\n\t\t\t\t<div className=\"commit-content\">\r\n\t\t\t\t\t<TextArea placeholder=\"评论\" value={commitText} onChange={handleValueChange} maxCount={props.commitLength}></TextArea>\r\n\t\t\t\t\t<div className=\"commit-opearte\">\r\n\t\t\t\t\t\t{/* <IconImage onClick={showEmojiSelect} /> */}\r\n\t\t\t\t\t\t<Button onClick={commit}>评论</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* {showEmoji ? (\r\n            <div className=\"emoji-box\">\r\n              <Picker onEmojiClick={onEmojiClick} />\r\n            </div>\r\n          ) : null} */}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nCommit.propTypes = {\r\n\tcommitNum: PropTypes.number, // 评论数量\r\n\tcommitLength: PropTypes.number, // 评论内容限制长度\r\n};\r\n\r\nexport default connect(mapStateToProps)(Commit);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"commit\":\"index_commit__msAm_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comment-list\":\"commitList_comment-list__JzpVv\"};","import ins from \"./request\";\r\n\r\n/**\r\n * 新版获取评论列表\r\n * 资源 id, 如歌曲 id,mv id\r\n * type: 数字  0: 歌曲 1: mv 2: 歌单 3: 专辑 4: 电台 5: 视频 6: 动态\r\n * pageNo:分页参数,第 N 页,默认为 1\r\n * pageSize:分页参数,每页多少条数据,默认 20\r\n * sortType: 排序方式, 1:按推荐排序, 2:按热度排序, 3:按时间排序\r\n * cursor: 当sortType为 3 时且页数不是第一页时需传入,值为上一条数据的 time\r\n */\r\nexport async function getCommentList({id, type, pageNo = 1, pageSize = 20, timestamp}) {\r\n    const res = await ins.get(\"/comment/new\", {\r\n        params: {\r\n            id,\r\n            type, \r\n            pageNo, \r\n            pageSize,\r\n            timestamp\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n/**\r\n * 发送（回复）评论\r\n */\r\nexport async function comment({t, type, id, content, commentId, timestamp}) {\r\n    const res = await ins.post(\"/comment\", {\r\n            t, type, id, content, commentId, timestamp\r\n    });\r\n    return res;\r\n};\r\n\r\n// 给评论点赞\r\nexport async function likeComment({id, cid, t, type, threadId, timestamp }) {\r\n    const res = await ins.post(\"/comment/like\", {\r\n        id, cid, t, type, threadId, timestamp\r\n    });\r\n    return res;\r\n};\r\n","import React from \"react\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { IconLikeThumb } from \"@douyinfe/semi-icons\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user\r\n\t}\r\n};\r\n\r\nfunction Item(props) {\r\n\tconst { c, user } = props;\r\n\treturn (\r\n\t\t<li className=\"comment-item\" key={c.commentId}>\r\n\t\t\t<Link to={\"/user/home?uid=\" + c.user.userId}>\r\n\t\t\t\t<LazyLoad height={50} debounce={500} placeholder={<img width={50} height={50} src=\"http://s4.music.126.net/style/web2/img/default/default_avatar.jpg?param=50y50\" />}>\r\n\t\t\t\t\t<img src={c.user.avatarUrl} alt=\"\" />\r\n\t\t\t\t</LazyLoad>\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"comment-desc\">\r\n\t\t\t\t<p className=\"comment-content\">\r\n\t\t\t\t\t<Link className=\"name\" to={\"/user/home?uid=\" + c.user.userId}>\r\n\t\t\t\t\t\t{c.user.nickname}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<span className=\"divider\">:</span>\r\n\t\t\t\t\t<span className=\"content\">{c.content}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t{/* 回复评论列表 */}\r\n\t\t\t\t{c.beReplied.length\r\n\t\t\t\t\t? c.beReplied.map((be) => (\r\n\t\t\t\t\t\t<div key={be.beRepliedCommentId} className=\"beReplied\">\r\n\t\t\t\t\t\t\t<p className=\"comment-content\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName=\"name\"\r\n\t\t\t\t\t\t\t\t\tto={\"/user/home?uid=\" + be.user.userId}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{be.user.nickname}\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<span className=\"divider\">:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"content\">{be.content}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))\r\n\t\t\t\t\t: null}\r\n\t\t\t\t<div className=\"comment-points\">\r\n\t\t\t\t\t<span className=\"time\">{c.timeStr}</span>\r\n\t\t\t\t\t<div className=\"operate\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tuser && c.user.userId === user.userId ? <span className=\"del-wrap\">\r\n\t\t\t\t\t\t\t\t<span className=\"reback\" onClick={() => {\r\n\t\t\t\t\t\t\t\t\tprops.delComment && props.delComment(c.commentId)\r\n\t\t\t\t\t\t\t\t}}>删除</span>\r\n\t\t\t\t\t\t\t\t<span className=\"line\">|</span>\r\n\t\t\t\t\t\t\t</span> : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<span className={c.liked ? 'like liked' : 'like'} onClick={() => {\r\n\t\t\t\t\t\t\tprops.commentLike && props.commentLike(c.commentId, c.liked)\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<IconLikeThumb />\r\n\t\t\t\t\t\t\t{c.likedCount ? (\r\n\t\t\t\t\t\t\t\t<span className=\"num\">({c.likedCount})</span>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"line\">|</span>\r\n\t\t\t\t\t\t<span className=\"reback\">回复</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n}\r\n\r\nexport default connect(mapStateToProps)(Item);\r\n","import React from \"react\";\r\nimport style from \"./commitList.module.less\";\r\nimport Item from \"./Item\"\r\n\r\nexport default function CommitList(props) {\r\n  const { total, comments, hotComments } = props;\r\n  const commentLike = (cid, liked) => {\r\n      props.like && props.like(cid, liked);\r\n  };\r\n  const delComment = (cid) => {\r\n      props.del && props.del(cid);\r\n  };\r\n  return (\r\n    <div className={style[\"comment-list\"]}>\r\n      {hotComments && hotComments.length ? (\r\n        <ul className=\"comment\">\r\n          <li className=\"header\">\r\n            <h3 className=\"title\">精彩评论</h3>\r\n          </li>\r\n          {hotComments.map((c) => (\r\n            <Item commentLike={commentLike} delComment={delComment} key={c.commentId} c={c}></Item>\r\n          ))}\r\n        </ul>\r\n      ) : null}\r\n      <br />\r\n      <br />\r\n      {comments && comments.length ? (\r\n        <ul className=\"comment\">\r\n          <li className=\"header\">\r\n            <h3 className=\"title\">最新评论({total})</h3>\r\n          </li>\r\n          {comments.map((c) => (\r\n            <Item commentLike={commentLike} delComment={delComment} key={c.commentId} c={c}></Item>\r\n          ))}\r\n        </ul>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"program\":\"program_program__M0jHj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"program-left\":\"left_program-left__3Jwc9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"song-list\":\"songList_song-list__3pS1o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"program-right\":\"right_program-right__1VSDs\"};","import React from \"react\";\r\nimport utils from \"../../../../../utils\";\r\nimport { IconVideo } from \"@douyinfe/semi-icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getMusicPlayUrl } from \"../../../../../services/apis\";\r\nimport { connect } from \"react-redux\";\r\nimport { addSongAction } from \"../../../../../store/actions/song\";\r\nimport { setCurSongIdAction } from \"@/store/actions/curSongId\";\r\nimport \"./item.less\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        song: state.song\r\n    }\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addSong: (...args) => dispatch(addSongAction(...args)),\r\n        setCurSongId: (...args) => dispatch(setCurSongIdAction(...args))\r\n    };\r\n};\r\nfunction Item(props) {\r\n    const { item, index, showAlbum, addSong, setCurSongId } = props;\r\n    // 播放歌曲\r\n    const play = async (id) => {\r\n        const res = await getMusicPlayUrl({ id });\r\n        setCurSongId(id);\r\n        if (res.code === 200 && res.data[0].url) {\r\n            addSong(res.data);\r\n        }\r\n    };\r\n    return (\r\n        <li className=\"table-item\">\r\n            <div className=\"play-num bd\">\r\n                <span className=\"num\">{index}</span>\r\n                <i className=\"icon-play\" onClick={() => {\r\n                    play(item.id)\r\n                }} ></i>\r\n            </div>\r\n            <div className=\"title bd ellipsis-1\">\r\n                <Link to={'/find/song?id=' + item.id}>{item.name}</Link>\r\n                {item.mvid ? <Link className=\"mv-play\" to={'/find/mv?id=' + item.mvid}><IconVideo /></Link> : null}\r\n            </div>\r\n            <div className=\"duration bd\">\r\n                <span className=\"time\">{utils.formatTime(item.duration)}</span>\r\n                <div className=\"btns\">\r\n                    <i className=\"icon icon-add\"></i>\r\n                    <i className=\"icon icon-fav\"></i>\r\n                    <i className=\"icon icon-share\"></i>\r\n                    <i className=\"icon icon-down\"></i>\r\n                </div>\r\n            </div>\r\n            <div className=\"name bd ellipsis-1\">\r\n                {item.artists.map((e, i) => (\r\n                    <Link to={'/find/artist?id=' + e.id} key={e.id + i}>{i === 0 ? e.name : `/${e.name}`}</Link>\r\n                ))}\r\n            </div>\r\n            {showAlbum ? <div className=\"album bd ellipsis-1\"><Link to={'/find/album?id=' + item.album.id}>{item.album.name}</Link></div> : null}\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Item);\r\n","import React, { useState } from 'react';\r\nimport style from \"./songList.module.less\";\r\nimport {\r\n    IconChevronUp,\r\n    IconChevronDown,\r\n} from \"@douyinfe/semi-icons\";\r\nimport Item from \"./Item\";\r\n\r\nexport default function SongList(props) {\r\n    const [open, setOpen] = useState(true);\r\n    const { list } = props;\r\n    return (\r\n        <div className={style['song-list']}>\r\n            <div className=\"header\">\r\n                <div className=\"title\">节目包含歌曲列表</div>\r\n                <div className=\"total\">（{list.length}首歌）</div>\r\n                <div className=\"arrow\" onClick={() => {\r\n                    setOpen(!open);\r\n                }}>\r\n                    <span className=\"text\">{open ? '收起' : '展开'}</span>\r\n                    {open ? <IconChevronUp /> : <IconChevronDown />}\r\n                </div>\r\n            </div>\r\n            {open ? <ul className='list-wrap'>\r\n                {list.filter(l => l.name).map((t, i) => (\r\n                    <Item showAlbum={true} key={t.id} index={i + 1} item={t} />\r\n                ))}\r\n            </ul> : null}\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport style from \"./left.module.less\";\r\nimport { Button, Space, Spin, Pagination, Toast } from '@douyinfe/semi-ui';\r\nimport {\r\n    IconPlayCircle,\r\n    IconLikeThumb,\r\n    IconForward,\r\n    IconDownload,\r\n    IconComment,\r\n    IconChevronUp,\r\n    IconChevronDown,\r\n} from \"@douyinfe/semi-icons\";\r\nimport utils from \"../../../../../utils\";\r\nimport SongList from \"./SongList\";\r\nimport Commit from \"../../../../../components/Commit\";\r\nimport CommitList from \"../../../../../components/CommitList/CommitList\";\r\nimport { comment, likeComment } from \"../../../../../services/comment\";\r\nimport { getDjComments } from \"../../../../../services/dj\";\r\n\r\nexport default function ProgramLeft(props) {\r\n    const { id, detail } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [comments, setComments] = useState([]); // 评论列表\r\n    const [hotComments, setHotComments] = useState([]); // 热门评论列表\r\n    const [page, setPage] = useState(1); // 评论列表\r\n    const [total, setTotal] = useState(0); // 总评论数\r\n    const [loading, setLoading] = useState(false); // loading\r\n\r\n    useEffect(() => {\r\n        getComments();\r\n        return () => {\r\n        }\r\n    }, [id, page])\r\n\r\n    const getComments = async () => {\r\n        setLoading(true);\r\n        const res = await getDjComments({\r\n            id: id,\r\n            limit: 20,\r\n            offset: (page - 1) * 20,\r\n            timestamp: Date.now(),\r\n        });\r\n        if (res.code === 200) {\r\n            setTotal(res.total);\r\n            setComments(res.comments);\r\n            setHotComments(res.hotComments);\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    // 页码变化\r\n    const handlePageChange = (page) => {\r\n        setPage(page)\r\n    };\r\n    // 点赞评论\r\n    const like = async (cid, liked) => {\r\n        const res = await likeComment({\r\n            id,\r\n            cid,\r\n            t: liked ? 0 : 1,\r\n            type: 2,\r\n            timestamp: Date.now(),\r\n        });\r\n        if (res.code === 200) {\r\n            if (liked) {\r\n                Toast.success({\r\n                    content: \"取消赞成功\",\r\n                    duration: 2,\r\n                })\r\n            } else {\r\n                Toast.success({\r\n                    content: \"赞成功\",\r\n                    duration: 2,\r\n                })\r\n            }\r\n            getComments();\r\n        } else {\r\n            Toast.error({\r\n                content: \"操作失败\"\r\n            })\r\n        }\r\n    };\r\n\r\n    // 删除评论\r\n    const del = async (cid) => {\r\n        const res = await comment({\r\n            t: 0,\r\n            type: 2,\r\n            id: id,\r\n            commentId: cid,\r\n            timestamp: Date.now(),\r\n        });\r\n        if (res.code === 200) {\r\n            Toast.success({\r\n                content: \"删除成功\",\r\n                duration: 2,\r\n            });\r\n            getComments();\r\n        }\r\n    }\r\n\r\n    const playListCommit = () => {\r\n\r\n    }\r\n    return (\r\n        <div className={style['program-left']}>\r\n            <div className=\"p-info\">\r\n                <div className=\"img-wrap\">\r\n                    <img src={detail.coverUrl} alt=\"\" />\r\n                </div>\r\n                <div className=\"main-detail\">\r\n                    <div className=\"row-1\">\r\n                        <i className='icon'></i>\r\n                        <div className=\"name\">{detail.name}</div>\r\n                    </div>\r\n                    <div className=\"row-2\">\r\n                        <i className='icon'></i>\r\n                        <Link to={\"/find/djradio/detail?id=\" + detail.radio.id} className=\"name\">{detail.dj.brand}</Link>\r\n                        <Button type=\"tertiary\"><i className='icon-sub'></i>订阅({detail.radio.subCount})</Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"operates\">\r\n                <Space>\r\n                    <Button onClick={() => {\r\n                        Toast.warning({\r\n                            content: \"暂不支持播放电台\",\r\n                        })\r\n                    }} icon={<IconPlayCircle />}>播放{utils.formatTime(detail.duration)}</Button>\r\n                    <Button type=\"tertiary\" icon={<IconLikeThumb />}>\r\n                        ({detail.likedCount})\r\n                    </Button>\r\n                    <Button type=\"tertiary\" icon={<IconComment />} onClick={() => {\r\n                        utils.goAnchor(\"#comment\");\r\n                    }}>\r\n                        ({detail.commentCount})\r\n                    </Button>\r\n                    <Button type=\"tertiary\" icon={<IconForward />}>\r\n                        ({detail.shareCount})\r\n                    </Button>\r\n                    <Button type=\"tertiary\" icon={<IconDownload />}>\r\n                        下载\r\n                    </Button>\r\n                </Space>\r\n            </div>\r\n            <div className=\"c-info\">\r\n                <Link to={'/find/djradio/category?id=' + detail.categoryId} className=\"cat\">{detail.categoryName}</Link>\r\n                <span className=\"name\">{detail.radio.name}&nbsp;&nbsp;第{detail.serialNum}期</span>\r\n                <span className=\"time\">{utils.formatDate(detail.createTime)}创建</span>\r\n                <span className=\"nums\">播放：<span style={{ color: '#c20c0c' }}>{detail.listenerCount}</span>次</span>\r\n            </div>\r\n            {\r\n                detail.description ? <div className=\"desc\">\r\n                    介绍：{open ? detail.description : detail.description.split(\"\\n\").splice(0, 5).join(\"\\n\") + '...'}\r\n                    <div className=\"arrow\" onClick={() => {\r\n                        setOpen(!open);\r\n                    }}>\r\n                        <span className=\"text\">{open ? '收起' : '展开'}</span>\r\n                        {open ? <IconChevronUp /> : <IconChevronDown />}\r\n                    </div>\r\n                </div> : null\r\n            }\r\n            {detail.songs && detail.songs.length ? <SongList list={detail.songs} /> : null}\r\n            <Commit\r\n                commitNum={detail.commentCount}\r\n                commit={playListCommit}\r\n                commitLength={140}\r\n            />\r\n            <CommitList like={like} del={del} total={total} comments={comments} hotComments={hotComments} />\r\n            {total > 0 ? (\r\n                <div className=\"pagination-wrapper\">\r\n                    <Pagination\r\n                        total={total}\r\n                        currentPage={page}\r\n                        onPageChange={handlePageChange}\r\n                        pageSize={20}\r\n                    ></Pagination>\r\n                </div>\r\n            ) : null}\r\n            <Spin\r\n                spinning={loading}\r\n                tip=\"loading...\"\r\n                size=\"large\"\r\n                style={{\r\n                    position: \"fixed\",\r\n                    top: \"50%\",\r\n                    left: \"50%\",\r\n                    transform: \"translate(-50%, -50%)\",\r\n                    zIndex: \"9999\",\r\n                }}\r\n            ></Spin>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport style from \"./right.module.less\";\r\nimport { getDjProgramById } from '../../../../../services/dj';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function ProgramRIght(props) {\r\n    const { id, rid } = props;\r\n    const [list, setList] = useState([]);\r\n    useEffect(() => {\r\n        getDjProgramById({ rid }).then(res => {\r\n            if (res.code === 200) {\r\n                let r = res.programs.filter(p => p.id != id);\r\n                setList(r.splice(0, 5));\r\n            }\r\n        })\r\n        return () => {\r\n        }\r\n    }, [id, rid])\r\n    return (\r\n        <div className={style['program-right']}>\r\n            {list && list.length ? <><div className=\"list-header\">\r\n                <div className=\"title\">更多节目</div>\r\n                <Link className='more' to={\"/find/djradio/detail?id=\" + rid}>全部&gt;</Link>\r\n            </div>\r\n                <ul className=\"list-wrap\">\r\n                    {list.map(l => <li className='list-item' key={l.id}>\r\n                        <Link to={\"/find/djradio/program?id=\" + l.id} ><img src={l.coverUrl} alt=\"\" /></Link>\r\n                        <div className=\"info\">\r\n                            <Link to={\"/find/djradio/program?id=\" + l.id} className=\"name\">{l.name}</Link>\r\n                            <div className=\"vol\">vol.{l.serialNum}</div>\r\n                        </div>\r\n                    </li>)}\r\n                </ul></> : <div className='empty'>暂时没有呢</div>}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport style from \"./program.module.less\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport qs from \"query-string\";\r\nimport ProgramLeft from \"./ProgramLeft\";\r\nimport ProgramRight from \"./ProgramRight\";\r\nimport { getProgramDetail } from \"../../../../../services/dj\";\r\n\r\nexport default function Program() {\r\n    const location = useLocation();\r\n    const id = qs.parse(location.search).id || ''; // program id\r\n    const [detail, setDetail] = useState(null); // program detail\r\n\r\n    // 获取 节目详情\r\n    useEffect(() => {\r\n        getProgramDetail({ id }).then(res => {\r\n            if (res.code === 200) {\r\n                setDetail(res.program);\r\n            }\r\n        })\r\n        return () => {\r\n        }\r\n    }, [id]);\r\n    return (\r\n        <div className={style['program']}>\r\n            {detail ? <>\r\n                <ProgramLeft id={id} detail={detail} />\r\n                <ProgramRight id={id} rid={detail.radio.id} />\r\n            </> : null}\r\n        </div>\r\n    )\r\n}\r\n"],"sourceRoot":""}