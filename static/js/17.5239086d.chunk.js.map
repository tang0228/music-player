{"version":3,"sources":["components/Commit/index.jsx","components/Commit/index.module.less","components/CommitList/commitList.module.less","services/comment.js","components/CommitList/Item.jsx","components/CommitList/CommitList.jsx","pages/Find/modules/playListDetail/TableItem.jsx","pages/Album/AlbumDetail/index.module.less","pages/Album/AlbumDetail/detailLeft.module.less","pages/Album/AlbumDetail/detailRight.module.less","pages/Album/AlbumDetail/DetailLeft.jsx","pages/Album/AlbumDetail/DetailRight.jsx","pages/Album/AlbumDetail/index.jsx"],"names":["connect","state","user","props","useState","showEmoji","setShowEmoji","commitText","setCommitText","onEmojiClick","useCallback","e","emo","className","style","commit","id","commitNum","src","avatarUrl","alt","placeholder","value","onChange","val","maxCount","commitLength","onClick","Toast","warning","content","duration","module","exports","comment","a","t","type","commentId","timestamp","ins","post","res","likeComment","cid","threadId","c","to","userId","height","debounce","width","nickname","beReplied","length","map","be","beRepliedCommentId","timeStr","delComment","liked","commentLike","likedCount","CommitList","total","comments","hotComments","like","del","song","dispatch","addSong","addSongAction","item","index","showAlbum","play","getMusicPlayUrl","code","data","url","localStorage","setItem","JSON","stringify","utils","isEven","name","alia","mv","formatTime","dt","ar","i","al","DetailLeft","albumDetail","songs","open","setOpen","page","setPage","limit","setLimit","setTotal","setComments","setHotComments","loading","setLoading","albumCommit","success","getCommits","handlePageChange","handleLimitChange","getAlbumCommit","offset","Date","now","useEffect","picUrl","alias","artists","formatDate","publishTime","company","icon","info","shareCount","goAnchor","commentCount","description","split","join","splice","image","darkModeImage","padding","size","TableItem","Commit","currentPage","onPageChange","showSizeChanger","pageSize","pageSizeOpts","onPageSizeChange","spinning","tip","position","top","left","transform","zIndex","DetailRight","artistId","hotAlbums","setHotAlbums","getArtistAlbums","l","AlbumDetail","location","useLocation","qs","parse","search","setSongs","setAlbumDetail","getAlbum","album","artist"],"mappings":"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","file":"static/js/17.5239086d.chunk.js","sourcesContent":["import React, { useCallback, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport style from \"./index.module.less\";\r\nimport { TextArea, Button, Toast } from \"@douyinfe/semi-ui\";\r\nimport Picker from \"emoji-picker-react\";\r\nimport { connect } from \"react-redux\";\r\nimport { IconImage } from \"@douyinfe/semi-icons\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nfunction Commit(props) {\r\n  const user = props.user;\r\n  const [showEmoji, setShowEmoji] = useState(false);\r\n  const [commitText, setCommitText] = useState(\"\");// 评论内容\r\n//   const [emoText, setEmoText] = useState(\"\"); // 选择的emoji\r\n  const onEmojiClick = useCallback((e, emo) => {\r\n    //   setEmoText(emo.emoji);\r\n    //   setCommitText(emo.names[0] + commitText);\r\n  }, []);\r\n  const handleValueChange = (val) => {\r\n    setCommitText(val);\r\n  }\r\n  const showEmojiSelect = () => {\r\n    setShowEmoji(!showEmoji);\r\n  };\r\n  const commit = () => {\r\n      if(!commitText) {\r\n        Toast.warning({\r\n            content: \"请先输入内容哦😊\",\r\n            duration: 2\r\n        });\r\n        return;\r\n      }\r\n    // 回传给父组件\r\n      setCommitText(\"\"); // 输入框清空\r\n      props.commit && props.commit(commitText)\r\n  }\r\n  return (\r\n    <div className={style.commit} id=\"comment\">\r\n      <div className=\"commit-header\">\r\n        <h3 className=\"title\">评论</h3>\r\n        <span className=\"nums\">共{props.commitNum}条评论</span>\r\n      </div>\r\n      <div className=\"commit-wrap\">\r\n        <img src={user ? user.avatarUrl : 'http://s4.music.126.net/style/web2/img/default/default_avatar.jpg?param=50y50'} alt=\"\" />\r\n        <div className=\"commit-content\">\r\n          <TextArea placeholder=\"评论\" value={commitText} onChange={handleValueChange} maxCount={props.commitLength}></TextArea>\r\n          <div className=\"commit-opearte\">\r\n            <IconImage onClick={showEmojiSelect} />\r\n            <Button onClick={commit}>评论</Button>\r\n          </div>\r\n          {showEmoji ? (\r\n            <div className=\"emoji-box\">\r\n              <Picker onEmojiClick={onEmojiClick} />\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nCommit.propTypes = {\r\n  commitNum: PropTypes.number, // 评论数量\r\n  commitLength: PropTypes.number, // 评论内容限制长度\r\n};\r\n\r\nexport default connect(mapStateToProps)(Commit);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"commit\":\"index_commit__2Pc8Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comment-list\":\"commitList_comment-list__V9s6g\"};","import ins from \"./request\";\r\n\r\n/**\r\n * 新版获取评论列表\r\n * 资源 id, 如歌曲 id,mv id\r\n * type: 数字  0: 歌曲 1: mv 2: 歌单 3: 专辑 4: 电台 5: 视频 6: 动态\r\n * pageNo:分页参数,第 N 页,默认为 1\r\n * pageSize:分页参数,每页多少条数据,默认 20\r\n * sortType: 排序方式, 1:按推荐排序, 2:按热度排序, 3:按时间排序\r\n * cursor: 当sortType为 3 时且页数不是第一页时需传入,值为上一条数据的 time\r\n */\r\nexport async function getCommentList({id, type, pageNo = 1, pageSize = 20, timestamp}) {\r\n    const res = await ins.get(\"/comment/new\", {\r\n        params: {\r\n            id,\r\n            type, \r\n            pageNo, \r\n            pageSize,\r\n            timestamp\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n/**\r\n * 发送（回复）评论\r\n */\r\nexport async function comment({t, type, id, content, commentId, timestamp}) {\r\n    const res = await ins.post(\"/comment\", {\r\n            t, type, id, content, commentId, timestamp\r\n    });\r\n    return res;\r\n};\r\n\r\n// 给评论点赞\r\nexport async function likeComment({id, cid, t, type, threadId, timestamp }) {\r\n    const res = await ins.post(\"/comment/like\", {\r\n        id, cid, t, type, threadId, timestamp\r\n    });\r\n    return res;\r\n};\r\n","import React from \"react\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { IconLikeThumb } from \"@douyinfe/semi-icons\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user\r\n\t}\r\n};\r\n\r\nfunction Item(props) {\r\n\tconst { c, user } = props;\r\n\treturn (\r\n\t\t<li className=\"comment-item\" key={c.commentId}>\r\n\t\t\t<Link to={\"/user/home?uid=\" + c.user.userId}>\r\n\t\t\t\t<LazyLoad height={50} debounce={500} placeholder={<img width={50} height={50} src=\"http://s4.music.126.net/style/web2/img/default/default_avatar.jpg?param=50y50\" />}>\r\n\t\t\t\t\t<img src={c.user.avatarUrl} alt=\"\" />\r\n\t\t\t\t</LazyLoad>\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"comment-desc\">\r\n\t\t\t\t<p className=\"comment-content\">\r\n\t\t\t\t\t<Link className=\"name\" to={\"/user/home?uid=\" + c.user.userId}>\r\n\t\t\t\t\t\t{c.user.nickname}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<span className=\"divider\">:</span>\r\n\t\t\t\t\t<span className=\"content\">{c.content}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t{/* 回复评论列表 */}\r\n\t\t\t\t{c.beReplied.length\r\n\t\t\t\t\t? c.beReplied.map((be) => (\r\n\t\t\t\t\t\t<div key={be.beRepliedCommentId} className=\"beReplied\">\r\n\t\t\t\t\t\t\t<p className=\"comment-content\">\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tclassName=\"name\"\r\n\t\t\t\t\t\t\t\t\tto={\"/user/home?uid=\" + be.user.userId}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{be.user.nickname}\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<span className=\"divider\">:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"content\">{be.content}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))\r\n\t\t\t\t\t: null}\r\n\t\t\t\t<div className=\"comment-points\">\r\n\t\t\t\t\t<span className=\"time\">{c.timeStr}</span>\r\n\t\t\t\t\t<div className=\"operate\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tuser && c.user.userId === user.userId ? <span className=\"del-wrap\">\r\n\t\t\t\t\t\t\t\t<span className=\"reback\" onClick={() => {\r\n\t\t\t\t\t\t\t\t\tprops.delComment && props.delComment(c.commentId)\r\n\t\t\t\t\t\t\t\t}}>删除</span>\r\n\t\t\t\t\t\t\t\t<span className=\"line\">|</span>\r\n\t\t\t\t\t\t\t</span> : null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<span className={c.liked ? 'like liked' : 'like'} onClick={() => {\r\n\t\t\t\t\t\t\tprops.commentLike && props.commentLike(c.commentId, c.liked)\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<IconLikeThumb />\r\n\t\t\t\t\t\t\t{c.likedCount ? (\r\n\t\t\t\t\t\t\t\t<span className=\"num\">({c.likedCount})</span>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span className=\"line\">|</span>\r\n\t\t\t\t\t\t<span className=\"reback\">回复</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</li>\r\n\t);\r\n}\r\n\r\nexport default connect(mapStateToProps)(Item);\r\n","import React from \"react\";\r\nimport style from \"./commitList.module.less\";\r\nimport Item from \"./Item\"\r\n\r\nexport default function CommitList(props) {\r\n  const { total, comments, hotComments } = props;\r\n  const commentLike = (cid, liked) => {\r\n      props.like && props.like(cid, liked);\r\n  };\r\n  const delComment = (cid) => {\r\n      props.del && props.del(cid);\r\n  };\r\n  return (\r\n    <div className={style[\"comment-list\"]}>\r\n      {hotComments && hotComments.length ? (\r\n        <ul className=\"comment\">\r\n          <li className=\"header\">\r\n            <h3 className=\"title\">精彩评论</h3>\r\n          </li>\r\n          {hotComments.map((c) => (\r\n            <Item commentLike={commentLike} delComment={delComment} key={c.commentId} c={c}></Item>\r\n          ))}\r\n        </ul>\r\n      ) : null}\r\n      <br />\r\n      <br />\r\n      {comments && comments.length ? (\r\n        <ul className=\"comment\">\r\n          <li className=\"header\">\r\n            <h3 className=\"title\">最新评论({total})</h3>\r\n          </li>\r\n          {comments.map((c) => (\r\n            <Item commentLike={commentLike} delComment={delComment} key={c.commentId} c={c}></Item>\r\n          ))}\r\n        </ul>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./tableItem.less\";\r\nimport utils from \"../../../../utils\";\r\nimport { IconPlayCircle, IconPlus, IconFolder, IconForward, IconDownload, IconVideo } from \"@douyinfe/semi-icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getMusicPlayUrl } from \"../../../../services/apis\";\r\nimport { connect } from \"react-redux\";\r\nimport { addSongAction } from \"../../../../store/actions/song\";\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    song: state.song\r\n  }\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addSong: (...args) => dispatch(addSongAction(...args)),\r\n  };\r\n};\r\nfunction TableItem(props) {\r\n  const { item, index, showAlbum, addSong } = props;\r\n  // 播放歌曲\r\n  const play = async (id) => {\r\n    const res = await getMusicPlayUrl({ id });\r\n    if (res.code === 200) {\r\n      addSong(res.data[0].url);\r\n      localStorage.setItem(\"song_url\", JSON.stringify(res.data[0].url));\r\n    }\r\n  };\r\n  return (\r\n    <li className={utils.isEven(index) ? \"table-item even\" : \"table-item\"}>\r\n      <div className=\"play-num bd\">\r\n        <span className=\"num\">{index}</span>\r\n        <IconPlayCircle onClick={() => {\r\n          play(item.id)\r\n        }} />\r\n      </div>\r\n      <div className=\"title bd ellipsis-1\">\r\n        <Link to={'/find/song?id=' + item.id}>{item.name}</Link>\r\n        {item.alia && item.alia.length ?\r\n          <span className=\"mv-name\">-{item.alia.map(a => a)}</span>\r\n          : null}\r\n        {item.mv ? <Link className=\"mv-play\" to={'/find/mv?id=' + item.mv}><IconVideo /></Link> : null}\r\n      </div>\r\n      <div className=\"duration bd\">\r\n        <span className=\"time\">{utils.formatTime(item.dt)}</span>\r\n        <div className=\"btns\">\r\n          <IconPlus />\r\n          <IconFolder />\r\n          <IconForward />\r\n          <IconDownload />\r\n        </div>\r\n      </div>\r\n      <div className=\"name bd ellipsis-1\">\r\n        {item.ar.map((e, i) => (\r\n          <Link to={'/find/artist?id=' + e.id} key={e.id + i}>{i === 0 ? e.name : `/${e.name}`}</Link>\r\n        ))}\r\n      </div>\r\n      {showAlbum ? <div className=\"album bd ellipsis-1\"><Link to={'/find/album?id=' + item.al.id}>{item.al.name}</Link></div> : null}\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TableItem);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"album-detail\":\"index_album-detail__3cXGk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail-left\":\"detailLeft_detail-left__34uOD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detail-right\":\"detailRight_detail-right__29flq\"};","import React, { useEffect, useState, useCallback } from \"react\";\r\nimport style from \"./detailLeft.module.less\";\r\nimport { getAlbumCommit } from \"../../../services/apis\";\r\nimport { comment } from \"../../../services/comment\";\r\nimport utils from \"../../../utils\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n\tButton,\r\n\tSpace,\r\n\tEmpty,\r\n\tToast,\r\n\tPagination,\r\n\tSpin,\r\n} from \"@douyinfe/semi-ui\";\r\nimport {\r\n\tIconPlayCircle,\r\n\tIconPlus,\r\n\tIconForward,\r\n\tIconDownload,\r\n\tIconComment,\r\n\tIconChevronUp,\r\n\tIconChevronDown,\r\n} from \"@douyinfe/semi-icons\";\r\nimport {\r\n\tIllustrationConstruction,\r\n\tIllustrationConstructionDark,\r\n} from \"@douyinfe/semi-illustrations\";\r\nimport Commit from \"../../../components/Commit\";\r\nimport CommitList from \"../../../components/CommitList/CommitList\";\r\nimport TableItem from \"../../Find/modules/playListDetail/TableItem\";\r\n\r\nfunction DetailLeft(props) {\r\n\tconst { id, albumDetail, songs } = props;\r\n\tconst [open, setOpen] = useState(false); // 是否收起\r\n\tconst [page, setPage] = useState(1); // 评论列表\r\n\tconst [limit, setLimit] = useState(20); // 页容量\r\n\tconst [total, setTotal] = useState(0); // 总评论数\r\n\tconst [comments, setComments] = useState([]); // 评论列表\r\n\tconst [hotComments, setHotComments] = useState([]); // 热门评论列表\r\n\tconst [loading, setLoading] = useState(false); // loading\r\n\t//评论专辑\r\n\tconst albumCommit = useCallback(async (val) => {\r\n\t\tconst res = await comment({\r\n\t\t\tt: 1,\r\n\t\t\ttype: 3,\r\n\t\t\tcontent: val,\r\n\t\t\tid: id\r\n\t\t});\r\n\t\tif (res.code === 200) {\r\n\t\t\tToast.success({\r\n\t\t\t\tcontent: \"评论成功\",\r\n\t\t\t\tduration: 2,\r\n\t\t\t});\r\n\t\t\tgetCommits();\r\n\t\t}\r\n\t}, []);\r\n\t// 页码变化\r\n\tconst handlePageChange = useCallback((page) => {\r\n\t\tsetPage(page);\r\n\t}, []);\r\n\t// 页容量变化\r\n\tconst handleLimitChange = useCallback((limit) => {\r\n\t\tsetLimit(limit);\r\n\t}, []);\r\n\t// 获取评论\r\n\tconst getCommits = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst res = await getAlbumCommit({\r\n\t\t\tid,\r\n\t\t\tlimit,\r\n\t\t\toffset: (page - 1) * limit,\r\n\t\t\ttimestamp: Date.now()\r\n\t\t});\r\n\t\tif (res.code === 200) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetTotal(res.total);\r\n\t\t\tsetComments(res.comments);\r\n\t\t\tsetHotComments(res.hotComments);\r\n\t\t}\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tgetCommits();\r\n\t\treturn () => { };\r\n\t}, [id, page, limit]);\r\n\r\n\treturn (\r\n\t\t<div className={style[\"detail-left\"]}>\r\n\t\t\t{albumDetail ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className=\"top-content\">\r\n\t\t\t\t\t\t<div className=\"img\">\r\n\t\t\t\t\t\t\t<img src={albumDetail.picUrl} alt=\"\" />\r\n\t\t\t\t\t\t\t<span className=\"album-mask\"></span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"list-content\">\r\n\t\t\t\t\t\t\t<div className=\"list-name\">\r\n\t\t\t\t\t\t\t\t<i className=\"icon-album\"></i>\r\n\t\t\t\t\t\t\t\t{albumDetail.name}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sub-name\">\r\n\t\t\t\t\t\t\t\t{albumDetail.alias.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t<span key={index} className=\"sub-item\">\r\n\t\t\t\t\t\t\t\t\t\t{item}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<span className=\"label\">歌手：</span>\r\n\t\t\t\t\t\t\t\t<div className=\"wrap\">\r\n\t\t\t\t\t\t\t\t\t{albumDetail.artists.map((a, i) =>\r\n\t\t\t\t\t\t\t\t\t\ti === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={a.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"item\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tto={\"/find/artist?id=\" + a.id}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{a.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<span key={a.id} className=\"divider\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t/\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link className=\"item\" to={\"/find/artist?id=\" + a.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{a.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<span className=\"label\">发行时间：</span>\r\n\t\t\t\t\t\t\t\t<div className=\"wrap\">\r\n\t\t\t\t\t\t\t\t\t{utils.formatDate(albumDetail.publishTime)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<span className=\"label\">发行公司：</span>\r\n\t\t\t\t\t\t\t\t<div className=\"wrap\">{albumDetail.company}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"operates\">\r\n\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t<Button icon={<IconPlayCircle />}>播放</Button>\r\n\t\t\t\t\t\t\t\t\t<Button type=\"tertiary\" icon={<IconPlus />}>\r\n\t\t\t\t\t\t\t\t\t\t收藏\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button type=\"tertiary\" icon={<IconForward />}>\r\n\t\t\t\t\t\t\t\t\t\t({albumDetail.info.shareCount})\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button type=\"tertiary\" icon={<IconDownload />}>\r\n\t\t\t\t\t\t\t\t\t\t下载\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button type=\"tertiary\" icon={<IconComment />} onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tutils.goAnchor(\"#comment\");\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t({albumDetail.info.commentCount})\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{albumDetail.description ?\r\n\t\t\t\t\t\t<div className=\"desc\">\r\n\t\t\t\t\t\t\t<h3 className=\"title\">专辑介绍：</h3>\r\n\t\t\t\t\t\t\t<p className=\"content\">\r\n\t\t\t\t\t\t\t\t{open\r\n\t\t\t\t\t\t\t\t\t? albumDetail.description.split(\"\\n\\n\").join(\"\\n\")\r\n\t\t\t\t\t\t\t\t\t: albumDetail.description\r\n\t\t\t\t\t\t\t\t\t\t.split(\"\\n\\n\")\r\n\t\t\t\t\t\t\t\t\t\t.join(\"\\n\")\r\n\t\t\t\t\t\t\t\t\t\t.split(\"\\n\")\r\n\t\t\t\t\t\t\t\t\t\t.splice(0, 5)\r\n\t\t\t\t\t\t\t\t\t\t.join(\"\\n\") + \"...\"}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"arrow\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetOpen(!open);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<span className=\"text\">{open ? \"收起\" : \"展开\"}</span>\r\n\t\t\t\t\t\t\t\t{open ? <IconChevronUp /> : <IconChevronDown />}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t: null}\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<Empty\r\n\t\t\t\t\timage={\r\n\t\t\t\t\t\t<IllustrationConstruction style={{ width: 150, height: 150 }} />\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdarkModeImage={\r\n\t\t\t\t\t\t<IllustrationConstructionDark style={{ width: 150, height: 150 }} />\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdescription={\"信息丢失\"}\r\n\t\t\t\t\tstyle={{ padding: 30 }}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<div className=\"music-list\">\r\n\t\t\t\t<div className=\"list-header\">\r\n\t\t\t\t\t<h3 className=\"title\">歌曲列表</h3>\r\n\t\t\t\t\t<span className=\"total\">{albumDetail.size}首歌</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul className=\"list-wrap\">\r\n\t\t\t\t\t<li className=\"table-header\">\r\n\t\t\t\t\t\t<div className=\"play-num\"></div>\r\n\t\t\t\t\t\t<div className=\"title bd\">歌曲标题</div>\r\n\t\t\t\t\t\t<div className=\"duration bd\">时长</div>\r\n\t\t\t\t\t\t<div className=\"name bd\">歌手</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t{songs.map((t, i) => (\r\n\t\t\t\t\t\t<TableItem key={t.id} index={i + 1} item={t} />\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<Commit commitNum={total} commit={albumCommit} commitLength={140} />\r\n\t\t\t<CommitList total={total} comments={comments} hotComments={hotComments} />\r\n\t\t\t{total > 0 ? (\r\n\t\t\t\t<div className=\"pagination-wrapper\">\r\n\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\ttotal={total}\r\n\t\t\t\t\t\tcurrentPage={page}\r\n\t\t\t\t\t\tonPageChange={handlePageChange}\r\n\t\t\t\t\t\tshowSizeChanger\r\n\t\t\t\t\t\tpageSize={limit}\r\n\t\t\t\t\t\tpageSizeOpts={[20, 30, 50]}\r\n\t\t\t\t\t\tonPageSizeChange={handleLimitChange}\r\n\t\t\t\t\t></Pagination>\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t\t<Spin\r\n\t\t\t\tspinning={loading}\r\n\t\t\t\ttip=\"loading...\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\ttop: \"50%\",\r\n\t\t\t\t\tleft: \"50%\",\r\n\t\t\t\t\ttransform: \"translate(-50%, -50%)\",\r\n\t\t\t\t\tzIndex: \"9999\",\r\n\t\t\t\t}}\r\n\t\t\t></Spin>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DetailLeft;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport style from \"./detailRight.module.less\";\r\nimport { getArtistAlbums, getAlbum } from \"../../../services/apis\";\r\nimport { Link } from \"react-router-dom\";\r\nimport utils from \"../../../utils\";\r\n\r\nexport default function DetailRight(props) {\r\n  const { id, artistId } = props;\r\n  const [hotAlbums, setHotAlbums] = useState([]);\r\n  // 获取歌手的其他热门专辑\r\n  useEffect(() => {\r\n    (async () => {\r\n      const res = await getArtistAlbums({ id: artistId });\r\n      if (res.code === 200) {\r\n        setHotAlbums(res.hotAlbums.splice(0, 5));\r\n      }\r\n    })();\r\n    return () => {};\r\n  }, [artistId]);\r\n  return (\r\n    <div className={style[\"detail-right\"]}>\r\n      <div className=\"play-hot\">\r\n        <div className=\"header\">\r\n          <h3 className=\"title\">Ta的其他热门专辑</h3>\r\n          <Link className=\"toPage\" to={'/find/artist?id=' + artistId}>全部&gt;</Link>\r\n        </div>\r\n        <div className=\"hot-content\">\r\n          {hotAlbums && hotAlbums.length\r\n            ? hotAlbums.map((l) => (\r\n                <div key={l.id} className=\"hot-item\">\r\n                  <Link to={\"/find/album?id=\" + l.id}>\r\n                    <img src={l.picUrl} alt=\"\" />\r\n                  </Link>\r\n                  <div className=\"desc\">\r\n                    <Link\r\n                      to={\"/find/album?id=\" + l.id}\r\n                      className=\"sub-title\"\r\n                    >\r\n                      {l.name}\r\n                    </Link>\r\n                    <span className=\"text\">\r\n                      {utils.formatDate(l.publishTime)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            : null}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport style from \"./index.module.less\";\r\nimport DetailLeft from \"./DetailLeft\";\r\nimport DetailRight from \"./DetailRight\";\r\nimport qs from \"query-string\";\r\nimport { getAlbum } from \"../../../services/apis\";\r\n\r\nexport default function AlbumDetail() {\r\n  const location = useLocation();\r\n  const id = qs.parse(location.search).id; // 专辑id\r\n  const [songs, setSongs] = useState([]);\r\n  const [albumDetail, setAlbumDetail] = useState(null);\r\n  // 获取专辑相关内容\r\n  useEffect(() => {\r\n    (async () => {\r\n      const res = await getAlbum({ id });\r\n      if (res.code === 200) {\r\n        setAlbumDetail(res.album);\r\n        setSongs(res.songs);\r\n      }\r\n    })();\r\n    return () => {};\r\n  }, [id]);\r\n\r\n  return (\r\n    <>\r\n      {albumDetail ? (\r\n        <div className={style[\"album-detail\"]}>\r\n          <div className=\"left\">\r\n            <DetailLeft songs={songs} albumDetail={albumDetail} id={id} />\r\n          </div>\r\n          <div className=\"right\">\r\n            <DetailRight id={id} artistId={albumDetail.artist.id} />\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}