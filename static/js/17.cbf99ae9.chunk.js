(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[17],{1032:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var c=[{text:"\u5355\u66f2",key:"1"},{text:"\u6b4c\u624b",key:"100"},{text:"\u4e13\u8f91",key:"10"},{text:"\u89c6\u9891",key:"1014"},{text:"\u6b4c\u8bcd",key:"1006"},{text:"\u6b4c\u5355",key:"1000"},{text:"\u58f0\u97f3\u4e3b\u64ad",key:"1009"},{text:"\u7528\u6237",key:"1002"}],a=[{text:"\u70ed\u95e8\u4f5c\u54c1",key:"song"},{text:"\u6240\u6709\u4e13\u8f91",key:"album"},{text:"\u76f8\u5173MV",key:"mv"},{text:"\u827a\u4eba\u4ecb\u7ecd",key:"desc"}]},1100:function(e,t,n){e.exports={"artist-detail":"index_artist-detail__VKV5c"}},1101:function(e,t,n){e.exports={"detail-left":"detailLeft_detail-left__LwWge"}},1102:function(e,t,n){e.exports={"desc-wrap":"desc_desc-wrap__X2kEF"}},1103:function(e,t,n){e.exports={"songs-wrap":"songs_songs-wrap__j3XHZ"}},1104:function(e,t,n){e.exports={"mvs-wrap":"mvs_mvs-wrap__2s_zE"}},1105:function(e,t,n){e.exports={"albums-wrap":"albums_albums-wrap__ALtzc"}},1106:function(e,t,n){e.exports={"detail-right":"detailRight_detail-right__3G53a"}},1152:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));var c=n(1),a=n(1100),s=n.n(a),i=n(50),r=n(1e3),d=n.n(r),l=n(15),j=n.n(l),o=n(23),u=n(19),b=n(1101),m=n.n(b),O=n(27),x=n(1032),h=n(104),f=n(1102),p=n.n(f),v=n(1026),g=n(5);function N(e){var t=e.desc,n=e.intro,c=e.name;return Object(g.jsx)(g.Fragment,{children:t?Object(g.jsxs)("div",{className:p.a["desc-wrap"],children:[Object(g.jsxs)("h2",{children:[Object(g.jsx)("i",{}),c,"\u7b80\u4ecb"]}),Object(g.jsx)("p",{className:"desc",children:t}),n.map((function(e,t){return Object(g.jsxs)("div",{className:"intro-item",children:[Object(g.jsx)("h2",{children:e.ti}),Object(g.jsx)("p",{className:"txt desc",children:e.txt})]},t)}))]}):Object(g.jsx)(O.f,{image:Object(g.jsx)(v.a,{style:{width:150,height:150}}),darkModeImage:Object(g.jsx)(v.b,{style:{width:150,height:150}}),description:"\u6682\u65f6\u6ca1\u6709\u54e6",style:{padding:30}})})}var w=n(1103),y=n.n(w),k=n(14),S=n(90),_=n(42),C=n(105),z=n(106),I=n(165),E=[{value:"1",label:"\u70ed\u95e8\u5355\u66f2",otherKey:0},{value:"2",label:"\u4f5c\u8bcd\u4f5c\u54c1",disabled:!0,otherKey:1},{value:"3",label:"\u4f5c\u66f2\u4f5c\u54c1",disabled:!0,otherKey:2}];var P=Object(C.b)((function(e){return{song:e.song}}),(function(e){return{addSong:function(){return e(z.e.apply(void 0,arguments))},setCurSongId:function(){return e(I.b.apply(void 0,arguments))}}}))((function(e){var t=e.songs,n=e.addSong,c=e.setCurSongId,a=function(){var e=Object(o.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.m)({id:t});case 2:a=e.sent,c(t),200===a.code&&a.data[0].url&&n(a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:y.a["songs-wrap"],children:[Object(g.jsxs)("div",{className:"songs-header",children:[Object(g.jsx)("div",{className:"btns",children:Object(g.jsxs)(O.s,{children:[Object(g.jsx)(O.c,{icon:Object(g.jsx)(k.N,{}),children:"\u64ad\u653e"}),Object(g.jsx)(O.c,{icon:Object(g.jsx)(k.O,{})}),Object(g.jsxs)(O.c,{type:"tertiary",icon:Object(g.jsx)(k.t,{}),children:["\u6536\u85cf\u70ed\u95e8",t.length]})]})}),Object(g.jsx)("div",{className:"select",children:Object(g.jsx)(O.r,{placeholder:"\u8bf7\u9009\u62e9",defaultValue:"1",style:{width:102,fontSize:"12px"},optionList:E})})]}),Object(g.jsx)("ul",{className:"songs-list",children:t.map((function(e,t){return Object(g.jsxs)("li",{className:S.a.isEven(t)?"item even":"item",children:[Object(g.jsxs)("div",{className:"li-index",children:[Object(g.jsx)("span",{className:"index",children:t+1}),Object(g.jsx)("i",{className:"icon-play",onClick:function(){a(e.id)}})]}),Object(g.jsxs)("div",{className:"name",children:[Object(g.jsx)(_.b,{to:"/find/song?id="+e.id,className:"singer-name",children:e.name}),e.alia&&e.alia.length?Object(g.jsxs)("span",{className:"mv-name",children:["-",e.alia.map((function(e){return e}))]}):null,e.mv?Object(g.jsx)(_.b,{className:"icon-mv",to:"/find/mv?id="+e.mv}):null]}),Object(g.jsxs)("div",{className:"option",children:[Object(g.jsx)("span",{className:"dt",children:S.a.formatTime(e.dt)}),Object(g.jsxs)("div",{className:"btns",children:[Object(g.jsx)("i",{className:"icon icon-add"}),Object(g.jsx)("i",{className:"icon icon-fav"}),Object(g.jsx)("i",{className:"icon icon-share"}),Object(g.jsx)("i",{className:"icon icon-down"})]})]}),Object(g.jsx)(_.b,{to:"/find/album?id="+e.al.id,className:"album",children:e.al.name})]},e.id)}))})]})})),F=n(1104),K=n.n(F),L=n(997),V=n.n(L),M=n(999);function U(e){var t=e.total,n=e.id,a=Object(c.useState)(12),s=Object(u.a)(a,2),i=s[0],r=s[1],d=Object(c.useState)(1),l=Object(u.a)(d,2),b=l[0],m=l[1],x=Object(c.useState)([]),f=Object(u.a)(x,2),p=f[0],v=f[1],N=function(){var e=Object(o.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.g)({id:n,limit:i,offset:(b-1)*i});case 2:200===(t=e.sent).code&&v(t.mvs);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){return Object(o.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:case"end":return e.stop()}}),e)})))(),function(){}}),[n,i,b]);return Object(g.jsx)(g.Fragment,{children:p?Object(g.jsxs)("div",{className:K.a["mvs-wrap"],children:[Object(g.jsx)("div",{className:"mv-content",children:p.map((function(e){return Object(g.jsxs)("div",{className:"mv-item",children:[Object(g.jsxs)("div",{className:"img-wrap",children:[Object(g.jsx)(V.a,{height:120,debounce:500,placeholder:Object(g.jsx)("img",{src:M.a,width:"100%",height:"100%"}),children:Object(g.jsx)("img",{src:e.imgurl,alt:""})}),Object(g.jsx)(_.b,{className:"mask",to:"/find/mv?id="+e.id}),Object(g.jsx)(_.b,{className:"icon-play",to:"/find/mv?id="+e.id})]}),Object(g.jsx)(_.b,{to:"/find/mv?id="+e.id,className:"name",children:e.name})]},e.id)}))}),Object(g.jsx)("div",{className:"pagination-ontainer",children:Object(g.jsx)(O.k,{total:t,currentPage:b,onPageChange:function(e){m(e)},pageSize:i,onPageSizeChange:function(e){r(e)}})})]}):null})}var A=n(1105),D=n.n(A);var J=Object(C.b)((function(e){return{curSongId:e.curSongId}}),(function(e){return{setCurSongId:function(){return e(I.b.apply(void 0,arguments))},addSongs:function(){return e(z.f.apply(void 0,arguments))}}}))((function(e){var t=e.total,n=e.id,a=e.setCurSongId,s=e.addSongs,i=Object(c.useState)([]),r=Object(u.a)(i,2),d=r[0],l=r[1],b=Object(c.useState)(12),m=Object(u.a)(b,2),x=m[0],f=m[1],p=Object(c.useState)(1),v=Object(u.a)(p,2),N=v[0],w=v[1],y=function(){var e=Object(o.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.e)({id:n,limit:x,offset:(N-1)*x});case 2:200===(t=e.sent).code&&l(t.hotAlbums);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){return Object(o.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:case"end":return e.stop()}}),e)})))(),function(){}}),[n,x,N]);var k=function(e){Object(h.b)({id:e}).then((function(e){if(200===e.code){O.y.success({content:"\u6210\u529f\u6dfb\u52a0\u65b0\u789f\u5230\u64ad\u653e\u5217\u8868",duration:2});var t=e.songs.map((function(e){return{id:e.id,url:"https://music.163.com/song/media/outer/url?id="+e.id+".mp3",song:e}}));s(t),a(t[0].id)}}))};return Object(g.jsx)(g.Fragment,{children:d?Object(g.jsxs)("div",{className:D.a["albums-wrap"],children:[Object(g.jsx)("div",{className:"album-content",children:d.map((function(e){return Object(g.jsxs)("div",{className:"album-item",children:[Object(g.jsxs)("div",{className:"img-wrap",children:[Object(g.jsxs)(V.a,{height:120,debounce:500,placeholder:Object(g.jsx)("img",{src:M.a,width:"100%",height:"100%"}),children:[Object(g.jsx)("img",{src:e.picUrl,alt:""}),Object(g.jsx)(_.b,{className:"mask",to:"/find/album?id="+e.id})]}),Object(g.jsx)("i",{className:"icon-play",onClick:k.bind(null,e.id)})]}),Object(g.jsx)(_.b,{to:"/find/album?id="+e.id,className:"name",children:e.name}),Object(g.jsx)("div",{className:"time",children:S.a.formatDate(e.publishTime)})]},e.id)}))}),Object(g.jsx)("div",{className:"pagination-ontainer",children:Object(g.jsx)(O.k,{total:t,currentPage:N,onPageChange:function(e){w(e)},pageSize:x,onPageSizeChange:function(e){f(e)}})})]}):"\u7a7a"})}));function T(e){var t=e.id,n=Object(c.useState)("song"),a=Object(u.a)(n,2),s=a[0],i=a[1],r=Object(c.useState)(null),d=Object(u.a)(r,2),l=d[0],b=d[1],f=Object(c.useState)([]),p=Object(u.a)(f,2),w=p[0],y=p[1],k=Object(c.useState)(""),S=Object(u.a)(k,2),_=S[0],C=S[1],z=Object(c.useState)([]),I=Object(u.a)(z,2),E=I[0],F=I[1],K=function(){var e=Object(o.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.h)({id:t});case 2:200===(n=e.sent).code&&(b(n.artist),y(n.hotSongs));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(o.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.f)({id:t});case 2:200===(n=e.sent).code&&(C(n.briefDesc),F(n.introduction));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){return Object(o.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:e.t0=s,e.next="desc"===e.t0?5:8;break;case 5:return e.next=7,L();case 7:case 8:return e.abrupt("break",9);case 9:case"end":return e.stop()}}),e)})))(),function(){}}),[s,t]);var V=x.a.map((function(e){return Object(g.jsx)(O.u,{tab:e.text,itemKey:e.key},e.key)}));return Object(g.jsx)(g.Fragment,{children:l?Object(g.jsxs)("div",{className:m.a["detail-left"],children:[Object(g.jsxs)("div",{className:"detail-header",children:[Object(g.jsx)("h2",{className:"name",children:l.name}),Object(g.jsx)("h3",{className:"alias",children:l.alias.map((function(e){return e}))}),Object(g.jsxs)("div",{className:"nav-wrap",children:[Object(g.jsx)("div",{className:"img-wrap",children:Object(g.jsx)("img",{src:l.picUrl,alt:""})}),Object(g.jsx)("div",{className:"artist-tabs",children:Object(g.jsx)(O.v,{type:"card",onChange:function(e){i(e)},children:V})})]})]}),Object(g.jsxs)("div",{className:"detail-content",children:["desc"===s?Object(g.jsx)(N,{desc:_,intro:E,name:l.name}):null,"song"===s?Object(g.jsx)(P,{songs:w}):null,"mv"===s?Object(g.jsx)(U,{total:l.mvSize,id:t}):null,"album"===s?Object(g.jsx)(J,{total:l.albumSize,id:t}):null]})]}):Object(g.jsx)(O.f,{image:Object(g.jsx)(v.a,{style:{width:150,height:150}}),darkModeImage:Object(g.jsx)(v.b,{style:{width:150,height:150}}),description:"\u4fe1\u606f\u4e22\u5931",style:{padding:30}})})}var X=n(1106),G=n.n(X);function H(e){var t=e.id,n=Object(c.useState)([]),a=Object(u.a)(n,2),s=a[0],i=a[1];return Object(c.useEffect)((function(){return Object(o.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.s)({id:t});case 2:200===(n=e.sent).code&&i(n.artists.splice(0,6));case 4:case"end":return e.stop()}}),e)})))(),function(){}}),[t]),Object(g.jsx)("div",{className:G.a["detail-right"],children:Object(g.jsxs)("div",{className:"artist-simi",children:[Object(g.jsx)("h3",{className:"title",children:"\u76f8\u4f3c\u6b4c\u624b"}),Object(g.jsx)("div",{className:"artist-content",children:s?s.map((function(e){return Object(g.jsxs)("div",{className:"artist-item",children:[Object(g.jsx)(_.b,{to:"/find/artist?id="+e.id,children:Object(g.jsx)("img",{src:e.picUrl,alt:""})}),Object(g.jsx)(_.b,{to:"/find/artist?id="+e.id,className:"name",children:e.name})]},e.id)})):null})]})})}function R(){var e=Object(i.h)(),t=d.a.parse(e.search).id;return Object(g.jsxs)("div",{className:s.a["artist-detail"],children:[Object(g.jsx)("div",{className:"left",children:Object(g.jsx)(T,{id:t})}),Object(g.jsx)("div",{className:"right",children:Object(g.jsx)(H,{id:t})})]})}},999:function(e,t,n){"use strict";t.a=n.p+"static/media/loading.4c0ea1e7.svg"}}]);
//# sourceMappingURL=17.cbf99ae9.chunk.js.map