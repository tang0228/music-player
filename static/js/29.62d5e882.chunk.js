(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[29],{1212:function(e,t,a){"use strict";t.a=a.p+"static/media/loading.4c0ea1e7.svg"},1358:function(e,t,a){e.exports={"album-list":"index_album-list__6OFJv"}},1359:function(e,t,a){e.exports={"album-item":"item_album-item__3e6iz"}},1387:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return z}));var n=a(215),c=a(30),s=a(1),i=a(1358),r=a.n(i),l=a(32),u=a(19),b=a.n(u),j=a(36);function o(){return(o=Object(l.a)(b.a.mark((function e(t){var a,n,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,n=t.offset,c=t.area,e.next=3,j.a.get("/album/new",{params:{limit:a,offset:n,area:c}});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=a(174),m=a(59),O=a(90),f=a(40),x=a(1210),p=a.n(x),h=a(18),g=a(1359),v=a.n(g),N=a(1212),w=a(15);function y(e){return Object(w.jsxs)("div",{className:v.a["album-item"],children:[Object(w.jsxs)("div",{className:"album-img",children:[Object(w.jsxs)(O.b,{to:"/find/album?id="+e.id,children:[Object(w.jsx)(p.a,{height:130,debounce:500,placeholder:Object(w.jsx)("img",{width:"100%",height:"100%",src:N.a}),children:Object(w.jsx)("img",{src:e.blurPicUrl,alt:""})}),Object(w.jsx)("span",{className:"al-mask"})]}),Object(w.jsx)(h.R,{size:"large",style:{color:"#eee"}})]}),Object(w.jsx)(O.b,{to:"/find/album?id="+e.id,className:"album-name",children:e.name}),Object(w.jsx)(O.b,{to:"/find/artist?id="+e.artist.id,className:"singer-name",children:e.artist.name})]},e.id)}var S=a(1213),_=a.n(S),k=[{text:"\u5168\u90e8",target:"ALL"},{text:"\u534e\u8bed",target:"ZH"},{text:"\u6b27\u7f8e",target:"EA"},{text:"\u97e9\u56fd",target:"KR"},{text:"\u65e5\u672c",target:"JP"}];function z(){var e=Object(s.useState)([]),t=Object(c.a)(e,2),a=t[0],i=t[1],l=Object(s.useState)(0),u=Object(c.a)(l,2),b=u[0],j=u[1],x=Object(s.useState)([]),p=Object(c.a)(x,2),h=p[0],g=p[1],v=Object(s.useState)(!1),N=Object(c.a)(v,2),S=N[0],z=N[1],J=Object(s.useState)(1),L=Object(c.a)(J,2),P=L[0],A=L[1],E=Object(m.h)(),R=_.a.parse(E.search).area||"ALL";Object(s.useEffect)((function(){return Object(d.d)().then((function(e){200===e.code&&i(e.albums.splice(0,10))}),(function(e){console.log(e,123),f.x.error({content:e,duration:2})})),function(){}}),[]),Object(s.useEffect)((function(){return z(!0),function(e){return o.apply(this,arguments)}({limit:35,offset:35*(P-1),area:R}).then((function(e){200===e.code&&(j(e.total),g(e.albums),z(!1))}),(function(e){z(!1),f.x.error({content:e,duration:2})})),function(){}}),[P,R]);return Object(w.jsxs)("div",{className:r.a["album-list"],children:[Object(w.jsx)("div",{className:"header",children:Object(w.jsx)("div",{className:"title",children:"\u70ed\u95e8\u65b0\u789f"})}),Object(w.jsx)("div",{className:"album-wrapper",children:a?a.map((function(e){return Object(w.jsx)(y,Object(n.a)({},e),e.id)})):null}),Object(w.jsxs)("div",{className:"header",children:[Object(w.jsx)("div",{className:"title",children:"\u5168\u90e8\u65b0\u789f"}),Object(w.jsx)("div",{className:"cat-nav",children:k.map((function(e,t){return Object(w.jsxs)(O.b,{to:"/find/album/list?area="+e.target,className:"item",children:[e.text," ",t<4?Object(w.jsx)("span",{className:"line",children:"|"}):""]},e.target)}))})]}),Object(w.jsx)("div",{className:"album-wrapper",children:h?h.map((function(e){return Object(w.jsx)(y,Object(n.a)({},e),e.id)})):null}),b>0?Object(w.jsx)("div",{className:"pagination-wrapper",children:Object(w.jsx)(f.k,{total:b,currentPage:P,onPageChange:function(e){A(e)},pageSize:35})}):null,Object(w.jsx)(f.s,{spinning:S,tip:"loading...",size:"large",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:"9999"}})]})}}}]);
//# sourceMappingURL=29.62d5e882.chunk.js.map