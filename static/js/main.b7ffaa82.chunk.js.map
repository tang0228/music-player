{"version":3,"sources":["services/apis.js","store/actions/song.js","store/actions/user.js","store/actions/curSongId.js","services/search.js","services/request.js","components/Login/index.jsx","components/CommonHeader/suggest.module.less","components/SongPlay/index.module.less","components/SongPlay/songList.module.less","pages/Find/index.module.less","utils/index.js","Hoc/RouterGuard.jsx","common/navList.js","common/subNav.js","components/SubNav/index.jsx","components/CommonHeader/SearchSuggest.jsx","components/CommonHeader/index.jsx","components/CommonFooter/index.jsx","store/actions/volumn.js","components/SongPlay/SongList.jsx","components/SongPlay/index.jsx","pages/Find/index.jsx","pages/User/index.jsx","components/Spinner/index.jsx","common/white.js","App.js","store/reducers/user.js","store/reducers/song.js","store/reducers/curSong.js","store/reducers/volumn.js","store/index.js","index.js"],"names":["phoneLogin","a","phone","password","ins","get","params","res","logout","getPlaylist","cat","limit","offset","order","getPlayListCat","getUserDetail","uid","timestamp","Date","now","getUserRecord","type","getUserPlayList","updateUserInfo","gender","birthday","nickname","province","city","signature","getMusicPlayUrl","id","getSongDetail","ids","code","song","songs","data","url","checkSong","getSongUrl","getPlayListDetail","getHotPlayList","getPlayListCommit","getLyric","getSimiPlayList","getSimiSong","getSongComment","getSimiArtist","getArtistSongs","getArtistAlbums","getArtistMv","getArtistDesc","getAlbum","getAlbumCommit","getBanner","getPersonalized","getDayPlsyList","getAlbumNewest","userSignIn","getTop","ADDSONG","Symbol","DELETEALLSONG","DELETEONESONG","ADDSONGLIST","addSongAction","payload","addSongListAction","deleteAllSongAction","deleteOneSongAction","ADDUSER","DELUSER","addUserAction","user","delUserAction","SETSONGID","setCurSongIdAction","search","keywords","searchSuggest","axios","create","baseURL","withCredentials","interceptors","response","use","status","Promise","resolve","reject","error","connect","state","dispatch","addUser","props","useState","setPhone","setPassword","closeModal","handleOk","Toast","success","content","profile","duration","localStorage","setItem","JSON","stringify","utils","setCookie","token","msg","title","visible","onOk","onCancel","centered","bodyStyle","height","footer","onClick","Input","field","label","trigger","onChange","val","rules","required","message","mode","module","exports","isEven","num","paddingLeft","formatTime","mss","h","parseInt","m","s","this","unique","arr","Map","filter","has","set","getTextByType","key","value","Cookie","getCookie","formatDate","time","day","format","goAnchor","selector","top","document","querySelector","offsetTop","window","scrollTo","min","max","Math","floor","random","callback","delay","lastTime","args","arguments","apply","prevLocation","curLocation","action","_Helper","history","useHistory","useLocation","useEffect","block","location","ac","RouterGuard","getUserConfirmation","cb","onBeforeRouter","children","withRouter","navList","text","hot","subNavList","SubNav","lis","map","nav","exact","to","className","SearchSuggest","style","name","artists","albums","playlists","p","delUser","showSubNav","pathname","startsWith","keyword","setKeyword","setVisible","suggest","setSuggest","showSS","setShowSS","addEventListener","handleClick","removeEventListener","e","getSearchSuggest","then","result","searchMusic","warning","push","handleLogout","removeItem","stopPropagation","background","outline","onEnterPress","placeholder","prefix","onFocus","showClear","position","render","Menu","Item","icon","userId","src","avatarUrl","marginLeft","cursor","Login","CommonFooter","href","target","SETVOLUMNANDTYPE","setVolumnAndTypeAction","obj","SongList","lyric","setLyric","curSongId","curSong","lrc","replace","length","preventDefault","deleteAllSong","onClose","tagName","deleteOneSong","itemClickPlay","ar","i","dt","flag","volAndType","setCurSongId","setVolAndType","delOneSong","delAllSong","isPlay","setIsPlay","showVoiceControl","setShowVoiceControl","curHeight","setCurHeight","dragTop","setDragTop","curWidth","setCurWidth","curTime","setCurTime","showList","setShowList","playType","setPlayType","playIngSong","find","audio","getElementById","rect","getBoundingClientRect","vol","volume","console","log","next","curIndex","findIndex","nextIndex","autoplay","prevIndex","pause","play","al","picUrl","alt","mv","clickX","clientX","curLeft","left","width","endCurWidth","currentTime","dragSetCurTime","visibility","clickY","clientY","endCurHeignt","getPlayTypeText","delIndex","nenxtId","loop","onTimeUpdate","onEnded","index","getRandomIntNumber","Find","NProgress","start","done","white","Index","lazy","Search","PlayList","Friend","UserHome","UserUpdate","UserEvent","PlaylistDetail","SongDetail","ArtistDetail","AlbumDetail","MvDetail","TopList","Dj","CatDetail","DJRank","DJRecommend","Program","DjDetail","AlbumList","SingerCat","Download","Mall","Musician","MyMusic","NotFound","App","Header","Layout","Footer","Content","prev","cur","parse","getItem","includes","fallback","path","component","bottom","initialState","rootReducer","combineReducers","list","store","createStore","ReactDOM"],"mappings":"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","file":"static/js/main.b7ffaa82.chunk.js","sourcesContent":["import ins from \"./request\";\r\n\r\n/**\r\n * 接口统一规范，通过对象的方式传入\r\n */\r\n\r\n// 手机号登录\r\nexport async function phoneLogin({ phone, password }) {\r\n    const res = await ins.get(\"/login/cellphone\", {\r\n        params: {\r\n            phone,\r\n            password\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 退出登录\r\nexport async function logout() {\r\n    const res = await ins.get(\"/logout\");\r\n    return res;\r\n}\r\n\r\n/**\r\n * offset, 第二页的话，offset是 1 * limit\r\n * @param {cat} param0 分类\r\n * @returns \r\n */\r\nexport async function getPlaylist({ cat = \"\", limit = 20, offset, order = \"hot\" }) {\r\n    const res = await ins.get(\"/top/playlist\", {\r\n        params: {\r\n            cat,\r\n            limit,\r\n            offset,\r\n            order,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n/**\r\n * 朋友\r\n * offset, 第二页的话，offset是 1 * limit\r\n * limit 页容量\r\n */\r\nexport async function getFriend({ offset = 0, limit = 20, timestamp = Date.now() }) {\r\n    const res = await ins.get(\"/event/list\", {\r\n        params: {\r\n            offset,\r\n            limit,\r\n            timestamp\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n/**\r\n * 网友 歌单类型列表\r\n */\r\nexport async function getPlayListCat() {\r\n    const res = await ins.get(\"/playlist/catlist\",);\r\n    return res;\r\n};\r\n\r\n// 获取用户信息,传userId\r\nexport async function getUserDetail({ uid, timestamp = Date.now() }) {\r\n    const res = await ins.get('/user/detail', {\r\n        params: {\r\n            uid,\r\n            timestamp,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 可以获取用户等级信息,包含当前登录天数,听歌次数,下一等级需要的登录天数和听歌次数,\r\nexport async function getUserLevel() {\r\n    const res = await ins.get(\"/user/level\", {\r\n        params: {\r\n\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取用户的播放记录 type = 1 weekData, type = 2 allData\r\nexport async function getUserRecord({ uid, type = 1 }) {\r\n    const res = await ins.get(\"/user/record\", {\r\n        params: {\r\n            uid,\r\n            type,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n//获取用户歌单\r\nexport async function getUserPlayList({ uid, offset = 0, limit = 30, timestamp = Date.now() }) {\r\n    const res = await ins.get(\"/user/playlist\", {\r\n        params: {\r\n            uid,\r\n            limit,\r\n            offset,\r\n            timestamp,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n/**\r\n * gender: 性别 0:保密 1:男性 2:女性\r\n * birthday: 出生日期,时间戳 unix timestamp\r\n * nickname: 用户昵称\r\n * province: 省份id\r\n * city: 城市id\r\n * signature：用户签名\r\n */\r\nexport async function updateUserInfo({ gender, birthday, nickname, province, city, signature }) {\r\n    const res = await ins.get(\"/user/update\", {\r\n        params: {\r\n            gender, birthday, nickname, province, city, signature\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 刷新登录\r\nexport async function loginRefresh() {\r\n    const res = await ins.get(\"/login/refresh\");\r\n    return res;\r\n};\r\n\r\n// 获取用户绑定信息\r\nexport async function getUserBindInfo({ uid }) {\r\n    const res = await ins.get(\"/user/binding\", {\r\n        params: {\r\n            uid\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌曲播放链接\r\nexport async function getMusicPlayUrl({ id }) {\r\n    const res = await getSongDetail({ ids: id });\r\n    let song;\r\n    if (res.code === 200) {\r\n        song = res.songs[0];\r\n    }\r\n\r\n    let url = \"https://music.163.com/song/media/outer/url?id=\"\r\n    return { code: 200, data: [{ id, url: `${url}${id}.mp3`, song }] };\r\n};\r\n\r\n// 检查歌曲是否可用\r\nexport async function checkSong({ id }) {\r\n    const res = await ins.get(\"/check/music\", {\r\n        params: {\r\n            id\r\n        }\r\n    });\r\n    return res;\r\n}\r\n\r\n// 获取歌曲下载url\r\nexport async function getSongUrl({ id }) {\r\n    const res = await ins.get(\"/song/download/url\", {\r\n        params: { id }\r\n    });\r\n    return res;\r\n}\r\n\r\n// 获取歌单详情\r\nexport async function getPlayListDetail({ id }) {\r\n    const res = await ins.get(\"/playlist/detail\", {\r\n        params: {\r\n            id\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n//  获取热门歌单\r\nexport async function getHotPlayList() {\r\n    const res = await ins.get(\"/playlist/hot\");\r\n    return res;\r\n};\r\n\r\n// 歌单评论列表\r\nexport async function getPlayListCommit({ id, limit, offset, timestamp }) {\r\n    const res = await ins.get(\"/comment/playlist\", {\r\n        params: {\r\n            id, limit, offset, timestamp\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌曲详情\r\nexport async function getSongDetail({ ids }) {\r\n    const res = await ins.get(\"/song/detail\", {\r\n        params: { ids }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌词\r\nexport async function getLyric({ id }) {\r\n    const res = await ins.get(\"/lyric\", {\r\n        params: {\r\n            id\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取相似歌单（包含此歌曲的歌单)\r\nexport async function getSimiPlayList({ id }) {\r\n    const res = await ins.get(\"/simi/playlist\", {\r\n        params: {\r\n            id\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取相似音乐\r\nexport async function getSimiSong({ id }) {\r\n    const res = await ins.get(\"/simi/song\", {\r\n        params: {\r\n            id,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌曲评论\r\nexport async function getSongComment({ id, limit, offset, timestamp }) {\r\n    const res = await ins.get(\"/comment/music\", {\r\n        params: {\r\n            id, limit, offset, timestamp\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌手详情\r\nexport async function getArtistDetail({ id }) {\r\n    const res = await ins.get(\"/artist/detail\", {\r\n        params: {\r\n            id,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取相似歌手\r\nexport async function getSimiArtist({ id }) {\r\n    const res = await ins.get(\"/simi/artist\", {\r\n        params: {\r\n            id,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌手热门作品已经歌手部分信息\r\nexport async function getArtistSongs({ id }) {\r\n    const res = await ins.get(\"/artists\", {\r\n        params: { id }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌手专辑\r\nexport async function getArtistAlbums({ id, limit, offset }) {\r\n    const res = await ins.get(\"/artist/album\", {\r\n        params: { id, limit, offset }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌手mv\r\nexport async function getArtistMv({ id, limit, offset }) {\r\n    const res = await ins.get(\"/artist/mv\", {\r\n        params: {\r\n            id, limit, offset\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌手描述\r\nexport async function getArtistDesc({ id }) {\r\n    const res = await ins.get(\"/artist/desc\", {\r\n        params: { id }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取专辑内容\r\nexport async function getAlbum({ id }) {\r\n    const res = await ins.get(\"/album\", {\r\n        params: { id }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取专辑评论\r\nexport async function getAlbumCommit({ id, limit, offset, timestamp }) {\r\n    const res = await ins.get(\"/comment/album\", {\r\n        params: { id, limit, offset, timestamp }\r\n    });\r\n    return res;\r\n};\r\n\r\n// \r\nexport async function getAlbumDynamic({ id }) {\r\n    const res = await ins.get(\"/album/detail/dynamic\", {\r\n        params: { id }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取banner数据\r\nexport async function getBanner() {\r\n    const res = await ins.get(\"/banner\");\r\n    return res;\r\n};\r\n\r\n// 获取推荐歌单\r\nexport async function getPersonalized({ limit }) {\r\n    const res = await ins.get(\"/personalized\", {\r\n        params: { limit }\r\n    });\r\n    return res;\r\n}\r\n\r\n// 获取每日推荐歌单\r\nexport async function getDayPlsyList() {\r\n    const res = await ins.get(\"/recommend/resource\");\r\n    return res;\r\n};\r\n\r\n// 获取首页新碟上架数据\r\nexport async function getAlbumNewest() {\r\n    const res = await ins.get(\"/album/newest\");\r\n    return res;\r\n};\r\n\r\n// 签到\r\nexport async function userSignIn({ type }) {\r\n    const res = await ins.get(\"/daily_signin\", {\r\n        params: {\r\n            type\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取榜单内容摘要\r\nexport async function getTop() {\r\n    const res = await ins.get(\"/toplist/detail\");\r\n    return res;\r\n};\r\n\r\n","export const ADDSONG = Symbol(\"add-song\");\r\nexport const DELETEALLSONG = Symbol(\"delete-all-song\");\r\nexport const DELETEONESONG = Symbol(\"delete-one-song\");\r\nexport const ADDSONGLIST = Symbol(\"add-song-list\");\r\n\r\n// 添加一首歌播放\r\nexport function addSongAction(song) {\r\n    return {\r\n        type: ADDSONG,\r\n        payload: song\r\n    }\r\n}\r\n\r\n// 添加歌单播放\r\nexport function addSongListAction(songs) {\r\n    return {\r\n        type: ADDSONGLIST,\r\n        payload: songs\r\n    }\r\n}\r\n\r\n// 删除播放列表所有歌曲\r\nexport function deleteAllSongAction() {\r\n    return {\r\n        type: DELETEALLSONG,\r\n    }\r\n}\r\n\r\n// 删除一首歌曲, 传歌曲ID\r\nexport function deleteOneSongAction(id) {\r\n    return {\r\n        type: DELETEONESONG,\r\n        payload: id\r\n    }\r\n}\r\n","export const ADDUSER = Symbol(\"add-user\");\r\nexport const DELUSER = Symbol(\"del-user\");\r\n\r\n// 刷线用户信息\r\nexport function addUserAction(user) {\r\n    return {\r\n        type: ADDUSER,\r\n        payload: user\r\n    }\r\n};\r\n\r\n// 删除用户信息\r\nexport function delUserAction() {\r\n    return {\r\n        type: DELUSER\r\n    }\r\n}","export const SETSONGID = Symbol(\"set-song-id\");\r\n\r\n// 添加一首歌播放\r\nexport function setCurSongIdAction(id) {\r\n    return {\r\n        type: SETSONGID,\r\n        payload: id\r\n    }\r\n}\r\n\r\n","import ins from \"./request\";\r\n\r\n// 搜索\r\nexport async function search({ keywords = \"\", type = 1, limit = 20, offset = 0 }) {\r\n    const res = await ins.get(\"/search\", {\r\n        params: {\r\n            keywords,\r\n            type,\r\n            limit,\r\n            offset\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 搜索建议\r\nexport async function searchSuggest({ keywords }) {\r\n    const res = await ins.get(\"/search/suggest\", {\r\n        params: {\r\n            keywords\r\n        }\r\n    });\r\n    return res;\r\n}","import axios from \"axios\";\r\n\r\nconst ins = axios.create({\r\n    baseURL: \"https://music-2903474904-qqcom.vercel.app/\",\r\n    withCredentials: true,\r\n    // timeout: 6000, // 毫秒\r\n});\r\n\r\nins.interceptors.response.use(res => {\r\n    if(res.status === 200) {\r\n        return Promise.resolve(res.data);\r\n    } else {\r\n        return Promise.reject(res);\r\n    }\r\n}, error => {\r\n    return Promise.reject(error);\r\n})\r\n\r\nexport default ins;","import React, { useState } from 'react';\r\nimport { Modal, Button, Form, Row, Toast } from '@douyinfe/semi-ui';\r\nimport { phoneLogin } from \"../../services/apis\"\r\nimport { connect } from \"react-redux\";\r\nimport { addUserAction } from \"../../store/actions/user\";\r\nimport utils from '../../utils';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addUser: (...args) => dispatch(addUserAction(...args)),\r\n    }\r\n}\r\nfunction Login(props) {\r\n    const { addUser } = props;\r\n    const [phone, setPhone] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const closeModal = () => {\r\n        props.closeModal && props.closeModal(false);\r\n    };\r\n\r\n    const handleOk = async () => {\r\n        if (!phone || !password) {\r\n            return false;\r\n        }\r\n        const res = await phoneLogin({\r\n            phone,\r\n            password\r\n        });\r\n        if (res.code === 200) {\r\n            Toast.success({\r\n                content: `欢迎${res.profile.nickname}回家`,\r\n                duration: 2,\r\n            })\r\n            closeModal();\r\n            addUser(res.profile);\r\n            localStorage.setItem('user', JSON.stringify(res.profile));\r\n            utils.setCookie('token', JSON.stringify(res.token));\r\n        } else {\r\n            Toast.error({\r\n                content: res.msg,\r\n                duration: 2\r\n            });\r\n        }\r\n    };\r\n\r\n    const handlePassChange = (val) => {\r\n        setPassword(val)\r\n    };\r\n\r\n    const handlePhoneChange = (val) => {\r\n        setPhone(val)\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Modal\r\n                title=\"登录\"\r\n                visible={props.visible}\r\n                onOk={handleOk}\r\n                onCancel={closeModal}\r\n                centered\r\n                bodyStyle={{ height: 200 }}\r\n                footer={\r\n                    <>\r\n                        <Button type=\"tertiary\" onClick={closeModal}>取消</Button>\r\n                        <Button type=\"primary\" onClick={handleOk}>登录</Button>\r\n                    </>\r\n                }\r\n            >\r\n                <Form>\r\n                    <Row>\r\n                        <Form.Input\r\n                            field='phone'\r\n                            label=\"手机\"\r\n                            trigger='blur'\r\n                            onChange={handlePhoneChange}\r\n                            rules={[\r\n                                { required: true, message: \"请输入手机号\" },\r\n                            ]}\r\n                        />\r\n                    </Row>\r\n                    <Row>\r\n                        <Form.Input\r\n                            field='password'\r\n                            label=\"密码\"\r\n                            trigger='blur'\r\n                            mode=\"password\"\r\n                            onChange={handlePassChange}\r\n                            rules={[\r\n                                { required: true, message: \"请输入密码\" },\r\n                            ]}\r\n                        />\r\n                    </Row>\r\n                </Form>\r\n            </Modal>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"suggest\":\"suggest_suggest__3s92L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"b-bottom\":\"index_b-bottom__1-1WP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"song-list-wrap\":\"songList_song-list-wrap__2Goc2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"find-container\":\"index_find-container__1myu8\"};","import Cookie from \"js-cookie\";\r\nimport day from \"dayjs\";\r\n\r\nconst utils = {\r\n    /**\r\n     * 判断一个数是否是偶数\r\n     */\r\n    isEven(num) {\r\n        return (num % 2) === 0\r\n    },\r\n    /**\r\n     * 不足10补0\r\n     */\r\n    paddingLeft(num) {\r\n        return num < 10 ? \"0\" + num : num;\r\n    },\r\n    /**\r\n     * 给定毫秒数，转换为时分秒\r\n     */\r\n    formatTime(mss) {\r\n        var h = parseInt((mss / (1000 * 60 * 60)) % 60);\r\n        var m = parseInt((mss / (1000 * 60)) % 60);\r\n        var s = parseInt((mss / 1000) % 60);\r\n        return `${h > 0 ? this.paddingLeft(h) + ':' : ''}${m > 0 ? this.paddingLeft(m) + ':' : \"00:\"}${s > 0 ? this.paddingLeft(s) + '' : \"00\"}`;\r\n    },\r\n    // 对象数组去重\r\n    unique(arr) {\r\n        const res = new Map();\r\n        return arr.filter((arr) => !res.has(arr.id) && res.set(arr.id, 1))\r\n    },\r\n    // 根据type，得到文本类型\r\n    getTextByType(type) {\r\n        switch (type) {\r\n            case \"1\":\r\n                return \"单曲\";\r\n            case \"100\":\r\n                return \"歌手\";\r\n            case \"10\":\r\n                return \"专辑\";\r\n            case \"1014\":\r\n                return \"视频\";\r\n            case \"1006\":\r\n                return \"歌词\";\r\n            case \"1000\":\r\n                return \"歌单\";\r\n            case \"1009\":\r\n                return \"声音主播\";\r\n            case \"1002\":\r\n                return \"用户\";\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n    // 设置cookie\r\n    setCookie(key, value) {\r\n        Cookie.set(key, value);\r\n    },\r\n    // 获取cookie\r\n    getCookie(key) {\r\n        return Cookie.get(key);\r\n    },\r\n    formatDate(time) {\r\n        return day(time).format('YYYY-MM-DD')\r\n    },\r\n\r\n    /**\r\n     * 锚点滚动\r\n     */\r\n    goAnchor(selector) {\r\n        let dom = document.querySelector(selector);\r\n        let top = dom.offsetTop;\r\n        window.scrollTo(0, top);\r\n    },\r\n    // 对象数组去重，根据id\r\n    unique(arr) {\r\n        const res = new Map();\r\n        return arr.filter((arr) => !res.has(arr.id) && res.set(arr.id, 1))\r\n    },\r\n    // 获取给定范围的随机整数\r\n    getRandomIntNumber(min, max) {\r\n        return Math.floor(Math.random() * (max - min + 1) + min);\r\n    },\r\n    throttle(callback, delay) {\r\n        var lastTime = Date.now();\r\n        return function () {\r\n            var content = this\r\n            var args = arguments;\r\n            var now = Date.now();\r\n            if (now - lastTime > delay) {\r\n                callback.apply(content, args);\r\n                lastTime = now;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nexport default utils;","import React, { useEffect } from 'react'\r\nimport { HashRouter as Router, withRouter, useHistory, useLocation } from 'react-router-dom'\r\n\r\nlet prevLocation, curLocation, action, unBlock;\r\n\r\nfunction _Helper() {\r\n    const history = useHistory();\r\n    prevLocation = useLocation();\r\n    useEffect(() => {\r\n        unBlock = history.block((location, ac) => {\r\n            curLocation = location;\r\n            action = ac;\r\n            return \"\";\r\n        })\r\n        \r\n        return () => {\r\n            // unBlock();\r\n        }\r\n    }, [])\r\n\r\n    return null\r\n}\r\n\r\nwithRouter(_Helper);\r\n\r\nexport default function RouterGuard(props) {\r\n\r\n    const handleConfirm = (msg, cb) => {\r\n        props.onBeforeRouter && props.onBeforeRouter(prevLocation, curLocation, action, msg, cb);\r\n    }\r\n    return (\r\n\r\n        <Router getUserConfirmation={handleConfirm}>\r\n            <_Helper></_Helper>\r\n            {props.children}\r\n        </Router>\r\n    )\r\n}\r\n","// 导航信息\r\nconst navList = [\r\n    {text: \"发现音乐\", url: \"/find\", hot: false},\r\n    {text: \"我的音乐\", url: \"/myMusic\", hot: false},\r\n    {text: \"关注\", url: \"/friend\", hot: false},\r\n    {text: \"商城\", url: \"/mall\", hot: false},\r\n    {text: \"音乐人\", url: \"/musician\", hot: false},\r\n    {text: \"下载客户端\", url: \"/download\", hot: false},\r\n];\r\n\r\nexport default navList;","// 次菜单信息\r\nconst subNavList = [\r\n    {text: \"推荐\", url: \"/find\", hot: false},\r\n    {text: \"排行榜\", url: \"/find/toplist\", hot: false},\r\n    {text: \"歌单\", url: \"/find/playlist\", hot: false},\r\n    {text: \"主播电台\", url: \"/find/djradio\", hot: false},\r\n    {text: \"歌手\", url: \"/find/singers/cat?id=1\", hot: false},\r\n    {text: \"新碟上架\", url: \"/find/album/list\", hot: false},\r\n];\r\n\r\nexport default subNavList;","import React from \"react\";\r\nimport subNavList from \"../../common/subNav\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"./index.less\";\r\n\r\nexport default function SubNav() {\r\n  const lis = subNavList.map((nav) => (\r\n    <NavLink key={nav.url} exact to={nav.url} className=\"sub-nav-link\">\r\n      <li className=\"sub-nav-item\"><em>{nav.text}</em></li>\r\n    </NavLink>\r\n  ));\r\n  return <ul className=\"sub-nav-container\">{lis}</ul>;\r\n}\r\n","import React from 'react';\r\nimport style from \"./suggest.module.less\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function SearchSuggest(props) {\r\n    const { data } = props;\r\n    return (\r\n        <div className={style[\"suggest\"]}>\r\n            <div className=\"content\">\r\n                {data.songs ? <div className=\"item\">\r\n                    <h3 className=\"hd\">\r\n                        <i className=\"icon icon-songs\"></i>\r\n                        <em>单曲</em>\r\n                    </h3>\r\n                    <ul className='cb'>\r\n                        {data.songs.map(s => <li key={s.id}><Link to={\"/find/song?id=\" + s.id}>{s.name}-{s.artists[0].name}</Link></li>)}\r\n                    </ul>\r\n                </div> : null}\r\n                {data.artists ? <div className=\"item\">\r\n                    <h3 className=\"hd\">\r\n                        <i className=\"icon icon-artist\"></i>\r\n                        <em>歌手</em>\r\n                    </h3>\r\n                    <ul className='cb bg'>\r\n                        {data.artists.map(a => <li key={a.id}><Link to={\"/find/artist?id=\" + a.id}>{a.name}</Link></li>)}\r\n                    </ul>\r\n                </div> : null}\r\n                {data.albums ? <div className=\"item\">\r\n                    <h3 className=\"hd\">\r\n                        <i className=\"icon icon-album\"></i>\r\n                        <em>专辑</em>\r\n                    </h3>\r\n                    <ul className='cb'>\r\n                        {data.albums.map(a => <li key={a.id}><Link to={\"/find/album?id=\" + a.id}>{a.name}</Link></li>)}\r\n                    </ul>\r\n                </div> : null}\r\n                {data.playlists ? <div className=\"item\">\r\n                    <h3 className=\"hd\">\r\n                        <i className=\"icon icon-list\"></i>\r\n                        <em>歌单</em>\r\n                    </h3>\r\n                    <ul className='cb bg'>\r\n                        {data.playlists.map(p => <li key={p.id}><Link to={\"/find/playlist/detail?id=\" + p.id}>{p.name}</Link></li>)}\r\n                    </ul>\r\n                </div> : null}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { withRouter, useHistory, useLocation } from \"react-router-dom\";\r\nimport navList from \"../../common/navList\";\r\nimport \"./index.less\";\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nimport { Dropdown, Avatar, Input, Toast } from \"@douyinfe/semi-ui\";\r\nimport {\r\n\tIconSearch,\r\n\tIconUser,\r\n\tIconMailStroked1,\r\n\tIconSetting,\r\n\tIconQuit,\r\n\tIconVerify,\r\n\tIconShield,\r\n\tIconCrown,\r\n} from \"@douyinfe/semi-icons\";\r\nimport { delUserAction } from \"../../store/actions/user\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../services/apis\";\r\nimport { searchSuggest } from \"@/services/search\";\r\nimport Login from \"../Login\";\r\nimport SubNav from \"../SubNav\";\r\nimport SearchSuggest from \"./SearchSuggest\";\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tdelUser: (...args) => dispatch(delUserAction(...args)),\r\n\t};\r\n};\r\n\r\nfunction CommonHeader(props) {\r\n\tconst { user, delUser } = props;\r\n\tconst history = useHistory();\r\n\tconst location = useLocation();\r\n\tlet showSubNav = location.pathname.startsWith('/find'); // 路径是否以 /find 开头\r\n\tconst [keyword, setKeyword] = useState(\"\"); // 搜索的关键词\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst [suggest, setSuggest] = useState(null);\r\n\tconst [showSS, setShowSS] = useState(false);\r\n\r\n\t// 点击文档下拉搜索推荐隐藏\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener('click', handleClick)\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('click', handleClick)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst handleClick = e => {\r\n\t\tsetShowSS(false);\r\n\t}\r\n\r\n\t// 搜索框内容变化时\r\n\tconst keywordChange = (val) => {\r\n\t\tif (!val) {\r\n\t\t\tsetShowSS(false);\r\n\t\t\tsetKeyword(val);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetShowSS(true);\r\n\t\tsetKeyword(val);\r\n\t\tgetSearchSuggest(val);\r\n\t};\r\n\r\n\t// 获取搜索建议\r\n\tconst getSearchSuggest = (keywords) => {\r\n\t\tsearchSuggest({ keywords }).then(res => {\r\n\t\t\tif (res.code === 200) {\r\n\t\t\t\tsetSuggest(res.result);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleFocus = () => {\r\n\t\tif (keyword) {\r\n\t\t\tsetShowSS(true);\r\n\t\t}\r\n\t}\r\n\r\n\tconst searchMusic = async () => {\r\n\t\tif (!keyword) {\r\n\t\t\tToast.warning({\r\n\t\t\t\tcontent: \"请输入 音乐/视频/电台/用户 等关键字\",\r\n\t\t\t\tduration: 2,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\thistory.push(`/search?keywords=${keyword}`);\r\n\t};\r\n\t//   退出登录\r\n\tconst handleLogout = async () => {\r\n\t\tconst res = await logout();\r\n\t\tif (res.code === 200) {\r\n\t\t\thistory.push(\"/find\"); // 退出登录回到首页\r\n\t\t\tdelUser();\r\n\t\t\tlocalStorage.removeItem(\"user\");\r\n\t\t\tToast.success({\r\n\t\t\t\tcontent: \"退出登录成功，欢迎下次再来\",\r\n\t\t\t\tduration: 2,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tToast.error({\r\n\t\t\t\tcontent: \"操作失败\",\r\n\t\t\t\tduration: 2,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst lis = navList.map((nav) => (\r\n\t\t<NavLink to={nav.url} key={nav.url} className=\"nav-link\">\r\n\t\t\t<li className=\"nav-item\">{nav.text}</li>\r\n\t\t</NavLink>\r\n\t));\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"nav-wrapper\">\r\n\t\t\t\t<div className=\"nav-logo\">\r\n\t\t\t\t\t<Link className=\"logo-text\" to=\"/find\">\r\n\t\t\t\t\t\tMusic-Player\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul className=\"nav-list\">{lis}</ul>\r\n\t\t\t\t<div className=\"nav-search\">\r\n\t\t\t\t\t<div onClick={e => {\r\n\t\t\t\t\t\te.stopPropagation()\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground: \"#fff\",\r\n\t\t\t\t\t\t\t\toutline: \"none\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEnterPress={searchMusic}\r\n\t\t\t\t\t\t\tplaceholder=\"音乐/视频/电台/用户\"\r\n\t\t\t\t\t\t\tprefix={<IconSearch />}\r\n\t\t\t\t\t\t\tvalue={keyword}\r\n\t\t\t\t\t\t\tonChange={keywordChange}\r\n\t\t\t\t\t\t\tonFocus={handleFocus}\r\n\t\t\t\t\t\t\tshowClear\r\n\t\t\t\t\t\t></Input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{showSS && suggest ? <div className=\"search-suggest\">\r\n\t\t\t\t\t\t<SearchSuggest data={suggest} />\r\n\t\t\t\t\t</div> : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t{user ? (\r\n\t\t\t\t\t<div className=\"nav-user\">\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttrigger={\"hover\"}\r\n\t\t\t\t\t\t\tposition={\"bottom\"}\r\n\t\t\t\t\t\t\trender={\r\n\t\t\t\t\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconUser />}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/user/home?uid=${user.userId}`}>我的主页</Link>\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconMailStroked1 />}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/user/event`}>我的消息</Link>\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconCrown />}>\r\n\t\t\t\t\t\t\t\t\t\t我的等级\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconShield />}>\r\n\t\t\t\t\t\t\t\t\t\tVIP会员\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconSetting />}>\r\n\t\t\t\t\t\t\t\t\t\t个人设置\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconVerify />}>\r\n\t\t\t\t\t\t\t\t\t\t实名认证\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconQuit />} onClick={handleLogout}>\r\n\t\t\t\t\t\t\t\t\t\t退出\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Avatar src={user.avatarUrl} />\r\n\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div style={{\r\n\t\t\t\t\t\tmarginLeft: 30,\r\n\t\t\t\t\t\tcursor: 'pointer'\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetVisible(true);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t登录\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t{showSubNav ? <SubNav /> : <div className=\"sub-nav\"></div>}\r\n\t\t\t<Login\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tcloseModal={() => {\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t}}\r\n\t\t\t></Login>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withRouter(CommonHeader));\r\n","import React from 'react';\r\nimport \"./index.less\";\r\n\r\nexport default function CommonFooter() {\r\n    return (\r\n        <div className=\"footer-container\">\r\n            <div className=\"footer\">\r\n                <div className=\"copy\">\r\n                    <p className=\"link\">\r\n                        <a href=\"https://st.music.163.com/official-terms/service\" target=\"_blank\">服务条款</a>\r\n                        <span className=\"line\">|</span>\r\n                        <a href=\"https://st.music.163.com/official-terms/privacy\" target=\"_blank\">隐私政策</a>\r\n                        <span className=\"line\">|</span>\r\n                        <a href=\"https://st.music.163.com/official-terms/children\" target=\"_blank\">儿童隐私政策</a>\r\n                        <span className=\"line\">|</span>\r\n                        <a href=\"https://music.163.com/st/staticdeal/complaints.html\" target=\"_blank\">版权投诉指引</a>\r\n                        <span className=\"line\">|</span>\r\n                        <a href=\"https://st.music.163.com/official-terms/service\" target=\"_blank\">意见反馈</a>\r\n                        <span className=\"line\">|</span>\r\n                        <a href=\"https://st.music.163.com/official-terms/service\" target=\"_blank\">广告合作</a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const SETVOLUMNANDTYPE = Symbol(\"set-volumn-type\");\r\n\r\n// 设置音量\r\nexport function setVolumnAndTypeAction(obj) {\r\n    return {\r\n        type: SETVOLUMNANDTYPE,\r\n        payload: obj\r\n    }\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport style from \"./songList.module.less\";\r\nimport { Link } from \"react-router-dom\";\r\nimport utils from '../../utils';\r\nimport { getLyric } from \"@/services/apis\";\r\n\r\nexport default function SongList(props) {\r\n    const [lyric, setLyric] = useState(\"\");\r\n    const { songs, curSongId, curSong } = props;\r\n\r\n    // 获取当前播放歌曲的歌词\r\n    useEffect(() => {\r\n        getLyric({ id: curSongId }).then(res => {\r\n            if (res.code === 200) {\r\n                setLyric(res.lrc.lyric.replace(/\\[.*?\\]|\\x20/g, ''));\r\n            }\r\n        })\r\n        return () => {\r\n        }\r\n    }, [curSongId])\r\n\r\n    return (\r\n        <div className={style['song-list-wrap']} onClick={(e) => {\r\n            props.onClick && props.onClick(e);\r\n        }}>\r\n            <div className=\"list-header\">\r\n                <h4 className='title'>播放列表({songs.length})</h4>\r\n                <span onClick={e => e.preventDefault()} className='add-all'>\r\n                    <i className=\"icon-add\"></i>\r\n                    <span>收藏全部</span>\r\n                </span>\r\n                <span className=\"line\"></span>\r\n                <span className='del' onClick={(e) => {\r\n                    e.preventDefault();\r\n                    props.deleteAllSong();\r\n                }}>\r\n                    <i className=\"icon-del\"></i>\r\n                    <span>清除</span>\r\n                </span>\r\n                <p className=\"name\">{curSong ? curSong.song.name : null}</p>\r\n                <i className=\"icon-close\" onClick={() => {\r\n                    props.onClose();\r\n                }}>close</i>\r\n            </div>\r\n            <div className=\"list-content\">\r\n                <div className=\"list-wrap\">\r\n                    <ul className='list'>\r\n                        {songs && songs.map(s => <li className='list-item' key={s.id} onClick={(e) => {\r\n                            let tagName = e.target.tagName, id = e.target.id;\r\n                            if (tagName === 'I' && id === 'del') {\r\n                                props.deleteOneSong(s.id);\r\n                            } else {\r\n                                props.itemClickPlay(s.id);\r\n                            }\r\n                        }}>\r\n                            <i id=\"playing\" className={curSongId == s.id ? \"icon-p icon-playing\" : \"icon-p\"}></i>\r\n                            <span className=\"name pdl10\">{s.song.name}</span>\r\n                            <i id=\"del\" className=\"icon-del\"></i>\r\n                            <span className=\"artist pdl10\">\r\n                                {s.song.ar.map((a, i) => <Link key={a.id} to={\"/find/artist?id=\" + a.id}>\r\n                                    {i === 0 ? null : '/'}{a.name}\r\n                                </Link>)}\r\n                            </span>\r\n                            <span className=\"dt pdl10\">{utils.formatTime(s.song.dt)}</span>\r\n                        </li>)}\r\n                    </ul>\r\n                </div>\r\n                <div className=\"middle\"></div>\r\n                <div className=\"word-wrap\">\r\n                    <div className=\"lyric\">\r\n                        {lyric}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport style from \"./index.module.less\";\r\nimport { Link } from \"react-router-dom\";\r\nimport utils from '../../utils';\r\nimport { setCurSongIdAction } from \"@/store/actions/curSongId\";\r\nimport { deleteOneSongAction, deleteAllSongAction } from '../../store/actions/song';\r\nimport { setVolumnAndTypeAction } from '../../store/actions/volumn';\r\nimport SongList from \"./SongList\";\r\nimport { checkSong } from \"@/services/apis\"\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tsongs: state.songs,\r\n\t\tcurSongId: state.curSongId,\r\n\t\tvolAndType: state.volAndType\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsetCurSongId: (...args) => dispatch(setCurSongIdAction(...args)),\r\n\t\tsetVolAndType: (...args) => dispatch(setVolumnAndTypeAction(...args)),\r\n\t\tdelOneSong: (...args) => dispatch(deleteOneSongAction(...args)),\r\n\t\tdelAllSong: (...args) => dispatch(deleteAllSongAction(...args)),\r\n\t};\r\n};\r\n\r\nlet flag = 1;\r\n\r\nfunction SongPlay(props) {\r\n\tconst { songs, curSongId, setCurSongId, volAndType, setVolAndType, delOneSong, delAllSong } = props;\r\n\tconst [isPlay, setIsPlay] = useState(false); // 是否正在播放音乐\r\n\tconst [showVoiceControl, setShowVoiceControl] = useState(false); // 是否显示控制音量\r\n\tconst [curHeight, setCurHeight] = useState(93);\r\n\tconst [dragTop, setDragTop] = useState(0);\r\n\tconst [curWidth, setCurWidth] = useState(0);\r\n\tconst [curTime, setCurTime] = useState(0); // 歌曲当前播放的时间\r\n\tconst [showList, setShowList] = useState(false);\r\n\tlet [playType, setPlayType] = useState(0); // 0:单曲循环；1：随机播放；2：顺序播放\r\n\r\n\tconst playIngSong = songs.find(s => s.id == curSongId) || songs[0];\r\n\tuseEffect(() => {\r\n\t\tif (!songs.length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst audio = document.getElementById(\"my-audio\");\r\n\t\tlet rect = document.querySelector('.vbg').getBoundingClientRect();\r\n\t\tsetCurHeight(parseInt(rect.height * volAndType.vol) > 93 ? 93 : parseInt(rect.height * volAndType.vol));\r\n\t\tsetDragTop(93 - parseInt(rect.height * volAndType.vol));\r\n\t\taudio.volume = volAndType.vol;\r\n\t\tsetPlayType(volAndType.type);\r\n\t\treturn () => {\r\n\t\t}\r\n\t}, [volAndType, showVoiceControl])\r\n\r\n\tuseEffect(() => {\r\n\t\t++flag;\r\n\t\tif (flag === 2) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetIsPlay(true);\r\n\t\treturn () => {\r\n\t\t}\r\n\t}, [curSongId])\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckSong({id: curSongId}).then(res => {\r\n\t\t\tconsole.log(res)\r\n\t\t})\r\n\t\t\r\n\t}, [curSongId])\r\n\r\n\r\n\r\n\r\n\t// 播放音乐\r\n\tconst play = () => {\r\n\t\tif (!playIngSong) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetIsPlay(!isPlay);\r\n\t\tconst audio = document.getElementById(\"my-audio\");\r\n\t\t// audio.autoplay = false;\r\n\t\tif (isPlay) {\r\n\t\t\taudio.pause();\r\n\t\t} else {\r\n\t\t\taudio.play();\r\n\t\t}\r\n\t}\r\n\r\n\t// 点击进度条\r\n\tconst dragSetCurTime = (width) => {\r\n\t\tif (!playIngSong) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst audio = document.getElementById(\"my-audio\");\r\n\t\taudio.currentTime = width / 100 * audio.duration;\r\n\t}\r\n\r\n\t// 调节音量\r\n\tconst setVoice = (height) => {\r\n\t\tlet volume = (height / 93) > 1 ? 1 : (height / 93) < 0 ? 0 : (height / 93);\r\n\t\tsetVolAndType({\r\n\t\t\tvol: volume,\r\n\t\t})\r\n\t}\r\n\r\n\t// 歌曲播放完\r\n\tconst songEnded = () => {\r\n\t\tif (playType === 0) { // 单曲播放\r\n\t\t} else if (playType === 1) { // 随机播放\r\n\t\t\tlet index = utils.getRandomIntNumber(0, songs.length - 1);\r\n\t\t\tsetCurSongId(songs[index].id);\r\n\t\t} else { // 顺序播放\r\n\t\t\tnext();\r\n\t\t}\r\n\t}\r\n\r\n\t// 上一首\r\n\tconst prev = () => {\r\n\t\tif (songs.length === 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst curIndex = songs && songs.findIndex(s => s.id === playIngSong.id);\r\n\t\tlet prevIndex = curIndex - 1 < 0 ? songs.length - 1 : curIndex - 1;\r\n\t\tsetCurWidth(0); // 进度条重置为0\r\n\t\tsetCurSongId(songs[prevIndex].id);\r\n\t\tif (isPlay) {\r\n\t\t\tconst audio = document.getElementById(\"my-audio\");\r\n\t\t\taudio.autoplay = true;\r\n\t\t}\r\n\t}\r\n\t// 下一首\r\n\tconst next = () => {\r\n\t\tif (songs.length === 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst curIndex = songs && songs.findIndex(s => s.id === playIngSong.id);\r\n\t\tlet nextIndex = curIndex + 1 > songs.length - 1 ? 0 : curIndex + 1;\r\n\t\tsetCurWidth(0);\r\n\t\tsetCurSongId(songs[nextIndex].id);\r\n\t\tif (isPlay) {\r\n\t\t\tconst audio = document.getElementById(\"my-audio\");\r\n\t\t\taudio.autoplay = true;\r\n\t\t}\r\n\t}\r\n\t// 播放类型的文本\r\n\tconst getPlayTypeText = (val) => {\r\n\t\tswitch (val) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn \"单曲循环\"\r\n\t\t\tcase 1:\r\n\t\t\t\treturn \"随机\"\r\n\t\t\tcase 2:\r\n\t\t\t\treturn \"循环\"\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t// 点击文档音量和播放列表隐藏\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener('click', handleClick)\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('click', handleClick)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetShowList(false);\r\n\t\tsetShowVoiceControl(false);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={style[\"b-bottom\"]}>\r\n\t\t\t<div className='song-play'>\r\n\t\t\t\t{/* <div className=\"song-lock\">\r\n\t\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t\t<i className=\"icon-lock\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"right\"></div>\r\n\t\t\t\t</div> */}\r\n\t\t\t\t<div className=\"bg\"></div>\r\n\t\t\t\t{/* <div className=\"hand\"></div> */}\r\n\t\t\t\t<div className=\"song-content\">\r\n\t\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t\t<i className='icon icon-prev' title='上一首' onClick={prev}>下一首</i>\r\n\t\t\t\t\t\t<i className={isPlay ? 'icon icon-play' : 'icon icon-pause'} title='暂停或播放' onClick={play}>暂停或播放</i>\r\n\t\t\t\t\t\t<i className=\"icon icon-next\" title='下一首' onClick={next}>下一首</i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"center\">\r\n\t\t\t\t\t\t<div className=\"song-info\">\r\n\t\t\t\t\t\t\t<div className=\"img-wrap\">\r\n\t\t\t\t\t\t\t\t<img src={playIngSong ? playIngSong.song.al.picUrl : 'https://s4.music.126.net/style/web2/img/default/default_album.jpg'} alt=\"\" />\r\n\t\t\t\t\t\t\t\t<Link to={\"/find/song?id=\" + curSongId} className=\"mask\"></Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"song-detail\">\r\n\t\t\t\t\t\t\t\t{playIngSong ? <>\r\n\t\t\t\t\t\t\t\t\t<Link to={\"/find/song?id=\" + curSongId} className=\"song-name\">{songs.length && playIngSong.song.name}</Link>\r\n\t\t\t\t\t\t\t\t\t{playIngSong.song.mv ? <Link to={\"/find/mv?id=\" + playIngSong.song.mv} className='icon-mv'></Link> : null}\r\n\t\t\t\t\t\t\t\t\t<span className=\"song-artist\">\r\n\t\t\t\t\t\t\t\t\t\t{playIngSong && playIngSong.song.ar.map((a, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Link key={a.id} to={\"/find/artist?id=\" + a.id}>{i === 0 ? '' : '/'}{a.name}</Link>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</> :\r\n\t\t\t\t\t\t\t\t\t<><Link to=\"/\" className=\"song-name\"></Link>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/\" className=\"song-artist\"></Link></>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<div className=\"progress\" onClick={(e) => {\r\n\t\t\t\t\t\t\t\t\tlet clickX = e.clientX;\r\n\t\t\t\t\t\t\t\t\tlet rect = document.querySelector('.song-detail .progress').getBoundingClientRect();\r\n\t\t\t\t\t\t\t\t\tlet curLeft = rect.left;\r\n\t\t\t\t\t\t\t\t\tlet width = rect.width;\r\n\t\t\t\t\t\t\t\t\tlet endCurWidth = (clickX - curLeft) / width * 100 > 100 ? 100 : (clickX - curLeft) / width * 100;\r\n\t\t\t\t\t\t\t\t\tsetCurWidth(endCurWidth);\r\n\t\t\t\t\t\t\t\t\tdragSetCurTime(endCurWidth);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"rdy\"></div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"cur\" style={{ width: `${curWidth}%` }}>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"icon-drag\"></span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{playIngSong ? <div className=\"song-time\">\r\n\t\t\t\t\t\t\t\t<em>{utils.formatTime(Math.floor(curTime) * 1000)}</em>\r\n\t\t\t\t\t\t\t\t/ {songs.length && utils.formatTime(playIngSong.song.dt)}\r\n\t\t\t\t\t\t\t</div> : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"right\">\r\n\t\t\t\t\t\t<i className=\"icon icon-draw\" title='画中画歌词'>画中画歌词</i>\r\n\t\t\t\t\t\t<i className=\"icon icon-fold\" title=\"收藏\">收藏</i>\r\n\t\t\t\t\t\t<i className=\"icon icon-share\" title=\"分享\">分享</i>\r\n\t\t\t\t\t\t<div className=\"bar\" onClick={e => {\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<div className=\"voice-control\" style={{\r\n\t\t\t\t\t\t\t\tvisibility: showVoiceControl ? 'visible' : 'hidden'\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<div className=\"bg\"></div>\r\n\t\t\t\t\t\t\t\t<div className=\"vbg\" onClick={(e) => {\r\n\t\t\t\t\t\t\t\t\tlet clickY = e.clientY;\r\n\t\t\t\t\t\t\t\t\tlet rect = document.querySelector('.vbg').getBoundingClientRect();\r\n\t\t\t\t\t\t\t\t\tlet curTop = rect.top;\r\n\t\t\t\t\t\t\t\t\tlet endCurHeignt = curTop + rect.height - clickY - 4;\r\n\t\t\t\t\t\t\t\t\tsetCurHeight(endCurHeignt > 93 ? 93 : endCurHeignt);\r\n\t\t\t\t\t\t\t\t\tsetDragTop(93 - endCurHeignt < 0 ? 0 : 93 - endCurHeignt > 85 ? 85 : 93 - endCurHeignt);\r\n\t\t\t\t\t\t\t\t\tsetVoice(endCurHeignt);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"voice-cur\" style={{ height: curHeight }}></div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"voice-drag\" style={{ top: dragTop }}></div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<i className=\"icon icon-voice\" onClick={() => {\r\n\t\t\t\t\t\t\t\tsetShowVoiceControl(!showVoiceControl)\r\n\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t\t\t<i title={getPlayTypeText(playType)} className={playType === 0 ? \"icon icon-one\" : playType === 1 ? \"icon icon-random\" : \"icon icon-loop\"} onClick={() => {\r\n\t\t\t\t\t\t\t\tsetVolAndType({\r\n\t\t\t\t\t\t\t\t\ttype: ++playType % 3,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t\t\t<i title='播放列表' className=\"icon icon-list\" onClick={() => {\r\n\t\t\t\t\t\t\t\tsetShowList(!showList)\r\n\t\t\t\t\t\t\t}}>{songs.length}</i>\r\n\t\t\t\t\t\t\t{showList ? <SongList onClose={() => {\r\n\t\t\t\t\t\t\t\tsetShowList(false);\r\n\t\t\t\t\t\t\t}} songs={songs} curSong={playIngSong} curSongId={curSongId} itemClickPlay={(id) => {\r\n\t\t\t\t\t\t\t\tsetCurSongId(id);\r\n\t\t\t\t\t\t\t}} deleteOneSong={(id) => {\r\n\t\t\t\t\t\t\t\tif (curSongId === id) {\r\n\t\t\t\t\t\t\t\t\tlet delIndex = songs.findIndex(s => s.id === id);\r\n\t\t\t\t\t\t\t\t\tlet nenxtId = songs[++delIndex % songs.length].id;\r\n\t\t\t\t\t\t\t\t\tsetCurSongId(nenxtId);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdelOneSong(id);\r\n\t\t\t\t\t\t\t}} deleteAllSong={() => {\r\n\t\t\t\t\t\t\t\tdelAllSong();\r\n\t\t\t\t\t\t\t}} onClick={(e) => {\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t}} /> : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{songs.length ? <audio id=\"my-audio\" src={playIngSong.url} loop={volAndType.type === 0} onTimeUpdate={() => {\r\n\t\t\t\t\tconst audio = document.getElementById('my-audio');\r\n\t\t\t\t\tsetCurTime(audio.currentTime);\r\n\t\t\t\t\tsetCurWidth(audio.currentTime / audio.duration * 100);\r\n\t\t\t\t}} onEnded={songEnded}></audio> : null}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SongPlay);","import React from 'react';\r\nimport style from \"./index.module.less\";\r\n\r\nexport default function Find(props) {\r\n    return (\r\n        <div className={style['find-container']}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport \"./index.less\";\r\n\r\nexport default function index(props) {\r\n    return (\r\n        <div className=\"user-container\">\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n","import { useEffect } from 'react';\r\nimport NProgress from 'nprogress';\r\nimport 'nprogress/nprogress.css';\r\nimport \"./index.less\";\r\n\r\n/**\r\n * 路由跳转的进度条\r\n * @returns \r\n */\r\nexport default function index() {\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0); // 滚动到顶部\r\n        NProgress.start();\r\n        return () => {\r\n            NProgress.done();\r\n        }\r\n    }, [])\r\n\r\n    return null;\r\n}\r\n","const white = ['/myMusic', '/friend', '/user/home', '/user/update'];\r\n\r\nexport default white;","import React, { lazy, Suspense } from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\"\r\nimport RouterGuard from \"./Hoc/RouterGuard\";\r\nimport \"./app.less\";\r\nimport { Layout, BackTop } from '@douyinfe/semi-ui';\r\nimport CommonHeader from \"./components/CommonHeader\";\r\nimport CommonFooter from \"./components/CommonFooter\";\r\nimport SongPlay from \"./components/SongPlay\";\r\nimport Find from \"./pages/Find\";\r\nimport User from \"./pages/User\"\r\nimport Spinner from \"@/components/Spinner\";\r\n\r\nconst Index = lazy(() => import(\"./pages/Index\"));\r\nconst Search = lazy(() => import(\"./pages/Search\"));\r\nconst PlayList = lazy(() => import(\"./pages/Find/modules/PlayList\"));\r\nconst Friend = lazy(() => import(\"./pages/Friend\"));\r\n\r\nconst UserHome = lazy(() => import(\"./pages/User/modules/user-home/UserHome\"));\r\nconst UserUpdate = lazy(() => import(\"./pages/User/modules/user-update/UserUpdate\"));\r\nconst UserEvent = lazy(() => import(\"./pages/User/modules/user-event/UserEvent\"));\r\n\r\nconst PlaylistDetail = lazy(() => import(\"./pages/Find/modules/playListDetail/PlaylistDetail.jsx\"));\r\nconst SongDetail = lazy(() => import(\"./pages/Song/SongDetail\"));\r\nconst ArtistDetail = lazy(() => import(\"./pages/Artist/ArtistDetail\"));\r\nconst AlbumDetail = lazy(() => import(\"./pages/Album/AlbumDetail\"));\r\nconst MvDetail = lazy(() => import(\"./pages/Mv/MvDetail\"));\r\nconst TopList = lazy(() => import(\"./pages/Find/modules/topList/TopList\"));\r\nconst Dj = lazy(() => import(\"./pages/Find/modules/Dj/DjRadio/Dj\"));\r\nconst CatDetail = lazy(() => import(\"./pages/Find/modules/Dj/CatDetail/CatDetail\"));\r\nconst DJRank = lazy(() => import(\"./pages/Find/modules/Dj/DjRank/DJRank\"));\r\nconst DJRecommend = lazy(() => import(\"./pages/Find/modules/Dj/DjRecommend/DJRecommend\"));\r\nconst Program = lazy(() => import(\"./pages/Find/modules/Dj/Program/Program\"));\r\nconst DjDetail = lazy(() => import(\"./pages/Find/modules/Dj/DjDetail/DjDetail\"));\r\nconst AlbumList = lazy(() => import(\"./pages/Album/AlbumList\"));\r\nconst SingerCat = lazy(() => import(\"./pages/Find/modules/Singers/SingerCat\"));\r\nconst Download = lazy(() => import(\"./pages/Other/Download\"));\r\nconst Mall = lazy(() => import(\"./pages/Other/Mall\"));\r\nconst Musician = lazy(() => import(\"./pages/Other/Musician\"));\r\nconst MyMusic = lazy(() => import(\"./pages/MyMusic/MyMusic\"));\r\nconst NotFound = lazy(() => import(\"./pages/NotFound\"));\r\n\r\nimport white from \"@/common/white\"\r\nimport { Toast } from \"@douyinfe/semi-ui\"\r\n\r\nfunction App() {\r\n    const { Header, Footer, Content } = Layout;\r\n    return (\r\n        <RouterGuard onBeforeRouter={(prev, cur, action, msg, cb) => {\r\n            const user = JSON.parse(localStorage.getItem('user')) || \"\";\r\n            if(white.includes(cur.pathname) && !user) {\r\n                Toast.warning(\"你还没有登录哦！\");\r\n                cb(false);\r\n            } else {\r\n                cb(true);\r\n            }\r\n        }}>\r\n            <Suspense fallback={<Spinner />}>\r\n                <Layout className=\"components-layout-demo\">\r\n                    <Header>\r\n                        <CommonHeader />\r\n                    </Header>\r\n                    <Content>\r\n                        <Switch>\r\n                            <Route exact path=\"/\">\r\n                                <Redirect to=\"/find\" />\r\n                            </Route>\r\n                            <Route path=\"/find\" render={() => (\r\n                                <Find>\r\n                                    <Route exact path=\"/find\" component={Index}></Route>\r\n                                    <Route exact path=\"/find/playlist\" component={PlayList}></Route>\r\n                                    <Route exact path=\"/find/playlist/detail\" component={PlaylistDetail}></Route>\r\n                                    <Route exact path=\"/find/toplist\" component={TopList}></Route>\r\n                                    <Route path=\"/find/djradio\" render={() => (\r\n                                        <>\r\n                                            <Route exact path=\"/find/djradio\" component={Dj}></Route>\r\n                                            <Route exact path=\"/find/djradio/category\" component={CatDetail}></Route>\r\n                                            <Route exact path=\"/find/djradio/recommend\" component={DJRecommend}></Route>\r\n                                            <Route exact path=\"/find/djradio/rank\" component={DJRank}></Route>\r\n                                            <Route exact path=\"/find/djradio/program\" component={Program}></Route>\r\n                                            <Route exact path=\"/find/djradio/detail\" component={DjDetail}></Route>\r\n                                        </>\r\n                                    )}></Route>\r\n                                    <Route exact path=\"/find/song\" component={SongDetail}></Route>\r\n                                    <Route exact path=\"/find/artist\" component={ArtistDetail}></Route>\r\n                                    <Route exact path=\"/find/album\" component={AlbumDetail}></Route>\r\n                                    <Route exact path=\"/find/album/list\" component={AlbumList}></Route>\r\n                                    <Route exact path=\"/find/mv\" component={MvDetail}></Route>\r\n                                    <Route exact path=\"/find/singers/cat\" component={SingerCat}></Route>\r\n                                </Find>\r\n                            )}>\r\n                            </Route>\r\n                            <Route exact path=\"/mymusic\" component={MyMusic}></Route>\r\n                            <Route exact path=\"/friend\" component={Friend}></Route>\r\n                            <Route exact path=\"/mall\" component={Mall}></Route>\r\n                            <Route exact path=\"/musician\" component={Musician}></Route>\r\n                            <Route exact path=\"/download\" component={Download}></Route>\r\n                            <Route exact path=\"/search\" component={Search}></Route>\r\n                            <Route path=\"/user\" render={() => (\r\n                                <User>\r\n                                    <Route exact path=\"/user/home\" component={UserHome} ></Route>\r\n                                    <Route exact path=\"/user/update\" component={UserUpdate} ></Route>\r\n                                    <Route exact path=\"/user/event\" component={UserEvent} ></Route>\r\n                                </User>\r\n                            )}></Route>\r\n                            <Route component={NotFound}></Route>\r\n                        </Switch>\r\n                    </Content>\r\n                    <Footer><CommonFooter /></Footer>\r\n                    <BackTop style={{ bottom: 100 }} />\r\n                    <SongPlay />\r\n                </Layout>\r\n            </Suspense>\r\n        </RouterGuard>\r\n    );\r\n}\r\n\r\nexport default App;\r\n\r\n","import { ADDUSER, DELUSER } from \"../actions/user\";\r\n\r\nconst user = JSON.parse(localStorage.getItem('user')) || null;\r\nconst initialState = user;\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = initialState, { type, payload }) => {\r\n    switch (type) {\r\n    case ADDUSER:\r\n        return payload;\r\n    case DELUSER:\r\n        return null;\r\n    default:\r\n        return state\r\n    }\r\n}\r\n","import { ADDSONG, DELETEALLSONG, DELETEONESONG, ADDSONGLIST } from \"../actions/song\";\r\nimport utils from \"@/utils\";\r\nconst song = JSON.parse(localStorage.getItem(\"songs\")) || [];\r\nconst initialState = song;\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = initialState, { type, payload }) => {\r\n    switch (type) {\r\n        case ADDSONG:\r\n            let songs = utils.unique([...state, ...payload]);\r\n            localStorage.setItem(\"songs\", JSON.stringify(songs));\r\n            return songs;\r\n        case ADDSONGLIST:\r\n            localStorage.setItem(\"songs\", JSON.stringify(payload));\r\n            return payload;\r\n        case DELETEONESONG:\r\n            let list = state.filter(song => song.id !== payload)\r\n            localStorage.setItem(\"songs\", JSON.stringify(list));\r\n            return list;\r\n        case DELETEALLSONG:\r\n            localStorage.setItem(\"songs\", JSON.stringify([]));\r\n            return [];\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import { SETSONGID } from \"../actions/curSongId\";\r\n\r\n\r\nconst curSongId = JSON.parse(localStorage.getItem('cur-song-id')) || null;\r\nconst initialState = curSongId;\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = initialState, { type, payload }) => {\r\n    switch (type) {\r\n        case SETSONGID:\r\n            localStorage.setItem('cur-song-id', JSON.stringify(payload));\r\n            const audio = document.getElementById(\"my-audio\");\r\n            if (audio) {\r\n                audio.autoplay = true;\r\n            }\r\n            return payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { SETVOLUMNANDTYPE } from \"../actions/volumn\";\r\n\r\nconst volAndType = JSON.parse(localStorage.getItem('set')) || {\r\n    vol: 1,\r\n    type: 0\r\n};\r\nconst initialState = volAndType;\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = initialState, { type, payload }) => {\r\n    switch (type) {\r\n        case SETVOLUMNANDTYPE:\r\n            let obj = { ...state, ...payload };\r\n            localStorage.setItem(\"set\", JSON.stringify(obj))\r\n            return obj;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { createStore, combineReducers } from \"redux\";\r\n\r\nimport user from \"./reducers/user\";\r\nimport songs from \"./reducers/song\";\r\nimport curSongId from \"./reducers/curSong\";\r\nimport volAndType from \"./reducers/volumn\";\r\n\r\nconst rootReducer = combineReducers({\r\n    user,\r\n    songs,\r\n    curSongId,\r\n    volAndType,\r\n});\r\n\r\nconst store = createStore(rootReducer);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'reset-css';\r\nimport App from './App';\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\n\r\nReactDOM.render(\r\n    //   <React.StrictMode>\r\n    <Provider store={store}><App /></Provider>\r\n    ,\r\n    //   </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}