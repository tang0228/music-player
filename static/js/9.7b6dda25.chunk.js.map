{"version":3,"sources":["assets/loading.svg","common/tabs.js","pages/Search/modules/MusicItem.jsx","pages/Search/modules/SingerItem.jsx","pages/Search/modules/AlbumItem.jsx","pages/Search/modules/VideoItem.jsx","pages/Search/modules/WordsItem.jsx","pages/Search/modules/Words.jsx","pages/Search/modules/PlayList.jsx","pages/Search/modules/DjItem.jsx","pages/Search/modules/UserProfile.jsx","pages/Search/modules/SearchNote.jsx","pages/Search/index.jsx"],"names":["searchTabs","text","key","artistTabs","connect","state","song","dispatch","addSong","addSongAction","setCurSongId","setCurSongIdAction","props","playMusic","id","a","getMusicPlayUrl","res","code","data","url","Toast","error","content","duration","items","songs","map","index","className","utils","isEven","onClick","style","flex","to","name","mvid","artists","item","i","album","formatTime","SingerItem","singLis","singers","s","height","debounce","placeholder","width","src","loadingUrl","img1v1Url","alt","identityIconUrl","curSongId","addSongs","addSongListAction","albums","addSongList","getAlbum","then","success","list","al","blurPicUrl","bind","artist","VideoItem","videos","v","vid","coverUrl","Number","playTime","toFixed","durationms","title","creator","userName","useState","open","setOpen","handleClick","useCallback","play","lyrics","txt","split","slice","join","Words","words","w","playlist","getPlayListDetail","tracks","t","p","coverImgUrl","trackCount","userId","nickname","bookCount","parseInt","playCount","DjItem","djs","d","picUrl","desc","dj","gender","UserProfile","users","u","avatarUrl","signature","type","playlistCount","followeds","SearchNote","keyword","total","typeText","getTextByType","Search","limit","setLimit","page","setPage","setType","loading","setLoading","location","useLocation","history","useHistory","keywords","qs","parse","search","setS","setSongs","setSingers","setAlbums","setVideos","setWords","setPlaylist","setDjs","setUsers","setTotal","handlePageChange","val","handleLimitChange","tabChange","inpSearch","offset","result","songCount","artistCount","albumCount","videoCount","playlists","djRadios","djRadiosCount","userprofiles","userprofileCount","useEffect","tabpanes","tab","itemKey","suffix","color","border","value","size","showClear","onEnterPress","push","warning","onChange","currentPage","onPageChange","showSizeChanger","pageSize","pageSizeOpts","onPageSizeChange","image","darkModeImage","description","spinning","tip","position","top","left","transform","zIndex"],"mappings":"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","file":"static/js/9.7b6dda25.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/loading.4c0ea1e7.svg\";","// 搜索的tabs\r\nexport const searchTabs = [\r\n    {text: \"单曲\", key: \"1\"},\r\n    {text: \"歌手\", key: \"100\"},\r\n    {text: \"专辑\", key: \"10\"},\r\n    {text: \"视频\", key: \"1014\"},\r\n    {text: \"歌词\", key: \"1006\"},\r\n    {text: \"歌单\", key: \"1000\"},\r\n    {text: \"声音主播\", key: \"1009\"},\r\n    {text: \"用户\", key: \"1002\"},\r\n];\r\n\r\nexport const artistTabs = [\r\n    {text: \"热门作品\", key: \"song\"},\r\n    {text: \"所有专辑\", key: \"album\"},\r\n    {text: \"相关MV\", key: \"mv\"},\r\n    {text: \"艺人介绍\", key: \"desc\"},\r\n]\r\n","import React from 'react';\r\nimport { IconDownload, IconFolder, IconPlus, IconForward } from \"@douyinfe/semi-icons\"\r\nimport { Toast } from '@douyinfe/semi-ui';\r\nimport \"./musicItem.less\";\r\nimport utils from '../../../utils';\r\nimport { getMusicPlayUrl } from \"../../../services/apis\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { addSongAction } from '../../../store/actions/song';\r\nimport { setCurSongIdAction } from \"@/store/actions/curSongId\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        song: state.song\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addSong: (...args) => dispatch(addSongAction(...args)),\r\n        setCurSongId: (...args) => dispatch(setCurSongIdAction(...args))\r\n    };\r\n};\r\n\r\nfunction MusicItem(props) {\r\n    const { addSong, setCurSongId } = props;\r\n    const playMusic = async (id) => {\r\n        const res = await getMusicPlayUrl({ id });\r\n        setCurSongId(id);\r\n        if (res.code === 200 && res.data[0].url) {\r\n            addSong(res.data);\r\n        } else {\r\n            Toast.error({\r\n                content: \"无权限\",\r\n                duration: 2\r\n            })\r\n        }\r\n    };\r\n\r\n    const songs = props.songs;\r\n    const items = songs.map((song, index) => (\r\n        <li key={song.id} className={`${utils.isEven(index + 1) ? 'search-item' : 'search-item even'}`}>\r\n            <i className=\"music-play\" onClick={() => {\r\n                playMusic(song.id)\r\n            }}></i>\r\n            <div className='song-wrap' style={{flex: '1'}}>\r\n                <Link to={'/find/song?id=' + song.id} className=\"name\">{song.name}</Link>\r\n                {song.mvid ? <Link to={`/find/mv?id=` + song.mvid} className=\"music-mv\"></Link> : null}\r\n            </div>\r\n            <div className=\"operates\">\r\n                <IconPlus />\r\n                <IconFolder />\r\n                <IconForward />\r\n                <IconDownload />\r\n            </div>\r\n            <div className=\"singers\">\r\n                {song.artists && song.artists.map((item, i) => <Link className=\"singer-name\" to={'/find/artist?id=' + item.id} key={item.id}>{i === 0 ? item.name : `/${item.name}`}</Link>)}\r\n            </div>\r\n            <Link to={'/find/album?id=' + song.album.id} className=\"album\">《{song.album.name}》</Link>\r\n            <div className=\"duration\">{utils.formatTime(song.duration)}</div>\r\n        </li>\r\n    ))\r\n    return (\r\n        <ul className=\"music-container\">\r\n            {items}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MusicItem);\r\n\r\n\r\n","import React from 'react';\r\nimport LazyLoad from 'react-lazyload';\r\nimport \"./singerItem.less\";\r\nimport { Link } from \"react-router-dom\";\r\nimport loadingUrl from \"@/assets/loading.svg\";\r\n\r\nexport default function SingerItem(props) {\r\n    const singers = props.singers;\r\n    const singLis = singers.map(s =>(\r\n        <li key={s.id} className=\"singer-item\">\r\n            <div className=\"singer-img\">\r\n                <Link to={'/find/artist?id=' + s.id}>\r\n                    <LazyLoad height={130} debounce={500} placeholder={<img width=\"100%\" height=\"100%\" src={loadingUrl} />}>\r\n                        <img src={s.img1v1Url} alt=\"\" />\r\n                        <span className=\"mask\"></span>\r\n                    </LazyLoad>\r\n                </Link>\r\n            </div>\r\n            <p className=\"singer-name\">\r\n                <Link to={'/find/artist?id=' + s.id} className=\"name\">{s.name}</Link>\r\n                {s.identityIconUrl ? <img src={s.identityIconUrl} alt=\"\" /> : null}\r\n            </p>\r\n        </li>\r\n    ))\r\n    return (\r\n        <ul className=\"singer-content\">\r\n            {singLis}\r\n        </ul>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport \"./albumItem.less\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport { Link } from \"react-router-dom\";\r\nimport loadingUrl from \"@/assets/loading.svg\";\r\nimport { getAlbum } from '@/services/apis';\r\nimport { Toast } from \"@douyinfe/semi-ui\";\r\nimport { addSongListAction } from \"@/store/actions/song\";\r\nimport { setCurSongIdAction } from \"@/store/actions/curSongId\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        curSongId: state.curSongId,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setCurSongId: (...args) => dispatch(setCurSongIdAction(...args)),\r\n        addSongs: (...args) => dispatch(addSongListAction(...args))\r\n    };\r\n};\r\n\r\nfunction AlbumItem(props) {\r\n    const {albums, setCurSongId, addSongs} = props;\r\n\r\n    const addSongList = id => {\r\n        getAlbum({ id }).then(res => {\r\n            if (res.code === 200) {\r\n                Toast.success({\r\n                    content: \"成功添加新碟到播放列表\",\r\n                    duration: 2,\r\n                });\r\n                const list = res.songs.map(s => ({\r\n                    id: s.id,\r\n                    url: \"https://music.163.com/song/media/outer/url?id=\" + s.id + '.mp3',\r\n                    song: s\r\n                }));\r\n                addSongs(list);\r\n                setCurSongId(list[0].id);\r\n            }\r\n        })\r\n    }\r\n\r\n    const items = albums.map(al => (\r\n        <li key={al.id} className=\"album-item\">\r\n            <div className=\"album-img\">\r\n                <Link to={'/find/album?id=' + al.id}>\r\n                    <LazyLoad height={130} debounce={500} placeholder={<img width=\"100%\" height=\"100%\" src={loadingUrl} />}>\r\n                        <img src={al.blurPicUrl} alt=\"\" />\r\n                        <span className=\"mask\"></span>\r\n                    </LazyLoad>\r\n                </Link>\r\n                <i className=\"album-play\" onClick={addSongList.bind(null, al.id)}></i>\r\n            </div>\r\n            <Link to={'/find/album?id=' + al.id} className=\"album-name\">{al.name}</Link>\r\n            <Link to={'/find/artist?id=' + al.artist.id} className=\"singer-name\">{al.artist.name}</Link>\r\n        </li>\r\n    ))\r\n    return (\r\n        <ul className=\"album-container\">\r\n            {items}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AlbumItem);\r\n","import React from \"react\";\r\nimport \"./videoItem.less\";\r\nimport utils from \"../../../utils\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport { Link } from \"react-router-dom\";\r\nimport loadingUrl from \"@/assets/loading.svg\";\r\n\r\nexport default function VideoItem(props) {\r\n\tconst videos = props.videos;\r\n\tconst items = videos.map((v) => (\r\n\t\t<li key={v.vid} className=\"video-item\">\r\n\t\t\t<Link to={'/find/mv?id=' + v.vid}>\r\n\t\t\t\t<div className=\"video-img\">\r\n\t\t\t\t\t<LazyLoad height={90} debounce={500} placeholder={<img width=\"100%\" height=\"100%\" src={loadingUrl} />}>\r\n\t\t\t\t\t\t<img src={v.coverUrl} alt=\"\" />\r\n\t\t\t\t\t</LazyLoad>\r\n\t\t\t\t\t<div className=\"play-nums\">\r\n\t\t\t\t\t\t<i className=\"icon-video\"></i>\r\n\t\t\t\t\t\t{/* <IconUserCardVideo /> */}\r\n\t\t\t\t\t\t<span className=\"nums\">\r\n\t\t\t\t\t\t\t{Number(v.playTime / 10000).toFixed(1)}万\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span className=\"video-duration\">\r\n\t\t\t\t\t\t{utils.formatTime(v.durationms)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"video-name\">{v.title}</div>\r\n\t\t\t<div className=\"singer-name\">by {v.creator[0].userName}</div>\r\n\t\t</li>\r\n\t));\r\n\treturn <ul className=\"video-container\">{items}</ul>;\r\n}\r\n","import React, { useState, useCallback } from 'react';\r\nimport \"./wordsItem.less\";\r\nimport { Toast } from '@douyinfe/semi-ui';\r\nimport { IconPlus, IconFolder, IconForward, IconDownload, IconChevronUp, IconChevronDown } from \"@douyinfe/semi-icons\"\r\nimport utils from '../../../utils';\r\nimport { Link} from \"react-router-dom\";\r\nimport { getMusicPlayUrl } from '../../../services/apis';\r\nimport { connect } from 'react-redux';\r\nimport { addSongAction } from '../../../store/actions/song';\r\nimport { setCurSongIdAction } from \"@/store/actions/curSongId\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        song: state.song\r\n    }\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addSong: (...args) => dispatch(addSongAction(...args)),\r\n        setCurSongId: (...args) => dispatch(setCurSongIdAction(...args))\r\n    }\r\n}\r\n\r\nfunction WordsItem(props) {\r\n    const { addSong, setCurSongId} = props;\r\n    const [open, setOpen] = useState(false); // 是否展开\r\n    const handleClick = useCallback(\r\n        () => {\r\n            setOpen(!open)\r\n        },\r\n        [open],\r\n    );\r\n\r\n    const play = async (id) => {\r\n        const res = await getMusicPlayUrl({id});\r\n        setCurSongId(id);\r\n        if (res.code === 200 && res.data[0].url) {\r\n            addSong(res.data);\r\n        } else {\r\n            Toast.error({\r\n                content: \"无权限\",\r\n                duration: 2\r\n            })\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"words-item\" key={props.id}>\r\n            <div className={`${utils.isEven(props.index + 1) ? 'words-header' : 'words-header even'}`}>\r\n                <div className=\"name\">\r\n                    <i className=\"word-play\" onClick={() => {\r\n                        play(props.id)\r\n                    }}></i>\r\n                    <Link to={'/find/song?id=' + props.id} className=\"ml8\">{props.name}</Link>\r\n                </div>\r\n                <div className=\"operates\">\r\n                    <IconPlus />\r\n                    <IconFolder />\r\n                    <IconForward />\r\n                    <IconDownload />\r\n                </div>\r\n                <div className=\"singers\">\r\n                    {props.artists.map((a, i) => <Link to={'/find/artist?id=' + a.id} key={a.id}>{i === 0 ? a.name : '/' + a.name}</Link>)}\r\n                </div>\r\n                <Link to={'/find/album?id=' + props.album.id} className=\"alnum\">{props.album.name}</Link>\r\n                <span className=\"duration\">{utils.formatTime(props.duration)}</span>\r\n            </div>\r\n            <div className=\"words-lyric\">\r\n                {!open ? props.lyrics.txt.split(\"\\n\").slice(0, 4).join(\"\\n\") : props.lyrics.txt}\r\n                <div className=\"arrow\" onClick={handleClick}>\r\n                    <span className=\"text\">{open ? '收起' : '展开'}</span>\r\n                    {open ? <IconChevronUp /> : <IconChevronDown />}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(WordsItem)\r\n","import React from \"react\";\r\nimport WordsItem from \"./WordsItem\";\r\n\r\nexport default function Words(props) {\r\n  const words = props.words;\r\n  const items = words.map((w, i) => <WordsItem key={w.id} {...w} index={i} ></WordsItem>);\r\n  return <div className=\"words-container\">\r\n      {items}\r\n  </div>;\r\n}\r\n","import React from \"react\";\r\nimport utils from \"../../../utils\";\r\nimport {\r\n\tIconPlus,\r\n\tIconFolder,\r\n\tIconForward,\r\n} from \"@douyinfe/semi-icons\";\r\nimport \"./playList.less\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport { Link } from \"react-router-dom\";\r\nimport loadingUrl from \"@/assets/loading.svg\";\r\nimport { getPlayListDetail } from \"@/services/apis\";\r\nimport { Toast } from \"@douyinfe/semi-ui\";\r\nimport { addSongListAction } from \"@/store/actions/song\";\r\nimport { setCurSongIdAction } from \"@/store/actions/curSongId\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        curSongId: state.curSongId,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setCurSongId: (...args) => dispatch(setCurSongIdAction(...args)),\r\n        addSongs: (...args) => dispatch(addSongListAction(...args))\r\n    };\r\n};\r\n\r\nfunction PlayList(props) {\r\n\tconst {playlist, addSongs, setCurSongId} = props;\r\n\r\n\t// 添加歌单到播放列表\r\n\tconst addSongList = id => {\r\n\t\tgetPlayListDetail({ id }).then(res => {\r\n\t\t\tif (res.code === 200) {\r\n\t\t\t\tToast.success({\r\n\t\t\t\t\tcontent: \"成功添加歌单到播放列表\",\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tconst list = res.playlist.tracks.map(t => ({\r\n\t\t\t\t\tid: t.id,\r\n\t\t\t\t\turl: 'https://music.163.com/song/media/outer/url?id=' + t.id + '.mp3',\r\n\t\t\t\t\tsong: t\r\n\t\t\t\t}));\r\n\t\t\t\taddSongs(list);\r\n\t\t\t\tsetCurSongId(list[0].id);\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tconst items = playlist.map((p, i) => (\r\n\t\t<li\r\n\t\t\tclassName={utils.isEven(i + 1) ? \"play-item\" : \"play-item even\"}\r\n\t\t\tkey={p.id}\r\n\t\t>\r\n\t\t\t<i className=\"list-play\" onClick={addSongList.bind(null, p.id)}></i>\r\n\t\t\t<Link to={\"/find/playlist/detail?id=\" + p.id} >\r\n\t\t\t\t<div className=\"img-wrap\">\r\n\t\t\t\t\t<LazyLoad height={50} debounce={500} placeholder={<img width=\"50px\" height=\"50px\" src={loadingUrl} />}>\r\n\t\t\t\t\t\t<img className=\"img\" src={p.coverImgUrl} alt=\"\" />\r\n\t\t\t\t\t\t<span className=\"mask\"></span>\r\n\t\t\t\t\t</LazyLoad>\r\n\t\t\t\t</div>\r\n\t\t\t</Link>\r\n\t\t\t<Link to={\"/find/playlist/detail?id=\" + p.id} className=\"name\">\r\n\t\t\t\t{p.name}\r\n\t\t\t</Link>\r\n\t\t\t<div className=\"operates\">\r\n\t\t\t\t<IconPlus />\r\n\t\t\t\t<IconFolder />\r\n\t\t\t\t<IconForward />\r\n\t\t\t</div>\r\n\t\t\t<span className=\"count\">{p.trackCount} 首</span>\r\n\t\t\t<span className=\"creator\">by <Link className=\"name\" to={'/user/home?uid=' + p.creator.userId}>{p.creator.nickname}</Link></span>\r\n\t\t\t<span className=\"book\">收藏：{p.bookCount}</span>\r\n\t\t\t<span className=\"listens\">收听：{parseInt(p.playCount / 10000)}万</span>\r\n\t\t</li>\r\n\t));\r\n\treturn <ul className=\"playlist-wrap\">{items}</ul>;\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayList);\r\n","import React from \"react\";\r\nimport \"./djItem.less\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport { IconFemale, IconMale } from \"@douyinfe/semi-icons\";\r\nimport loadingUrl from \"@/assets/loading.svg\";\r\n\r\nexport default function DjItem(props) {\r\n\tconst djs = props.djs;\r\n\tconst items = djs.map((d) => (\r\n\t\t<div key={d.id} className=\"dj-item\">\r\n\t\t\t<LazyLoad height={150} debounce={500} placeholder={<img width=\"100%\" height=\"100%\" src={loadingUrl} />}>\r\n\t\t\t\t<img src={d.picUrl} alt=\"\" />\r\n\t\t\t</LazyLoad>\r\n\t\t\t<div className=\"dj-content\">\r\n\t\t\t\t<p className=\"desc\">{d.desc || '这人很懒，没有介绍'}</p>\r\n\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\tby\r\n\t\t\t\t\t<span className=\"name\">{d.name}</span>\r\n\t\t\t\t\t<span className={d.dj.gender === 2 ? \"pink\" : \"blue\"}>\r\n\t\t\t\t\t\t{d.nickname} {d.dj.gender === 2 ? <IconFemale /> : <IconMale />}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t));\r\n\treturn <div className=\"dj-container\">{items}</div>;\r\n}\r\n","import React from \"react\";\r\nimport utils from \"../../../utils\";\r\nimport { Button } from \"@douyinfe/semi-ui\";\r\nimport { IconPlus, IconFemale, IconMale } from \"@douyinfe/semi-icons\";\r\nimport \"./userProfile.less\";\r\nimport LazyLoad from \"react-lazyload\";\r\nimport { Link } from \"react-router-dom\";\r\nimport loadingUrl from \"@/assets/loading.svg\";\r\n\r\nexport default function UserProfile(props) {\r\n\tconst users = props.users;\r\n\tconst items = users.map((u, i) => (\r\n\t\t<li\r\n\t\t\tkey={u.userId}\r\n\t\t\tclassName={utils.isEven(i + 1) ? \"user-item\" : \"user-item even\"}\r\n\t\t>\r\n\t\t\t<div className=\"user-info\">\r\n\t\t\t\t<Link to={\"/user/home?uid=\" + u.userId}>\r\n\t\t\t\t\t<div className=\"img-wrap\">\r\n\t\t\t\t\t\t<LazyLoad height={50} debounce={500} placeholder={<img width=\"100%\" height=\"100%\" src={loadingUrl} />}>\r\n\t\t\t\t\t\t\t<img src={u.avatarUrl} alt=\"\" />\r\n\t\t\t\t\t\t\t<span className=\"mask\"></span>\r\n\t\t\t\t\t\t</LazyLoad>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div className=\"user-desc\">\r\n\t\t\t\t\t<span className={u.gender === 2 ? \"name pink\" : \"name blue\"}>\r\n\t\t\t\t\t\t<Link to={\"/user/home?uid=\" + u.userId}>{u.nickname} </Link>{\" \"}\r\n\t\t\t\t\t\t{u.gender === 2 ? <IconFemale /> : <IconMale />}{\" \"}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span className=\"desc\">{u.signature}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"btn\">\r\n\t\t\t\t<Button type=\"tertiary\">\r\n\t\t\t\t\t<IconPlus />\r\n\t\t\t\t\t<span className=\"add\">关注</span>\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"playlist\">歌单：{u.playlistCount || 0}</div>\r\n\t\t\t<div className=\"fans\">粉丝：{u.followeds || 0}</div>\r\n\t\t</li>\r\n\t));\r\n\treturn <ul className=\"user-container\">{items}</ul>;\r\n}\r\n","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport utils from '../../../utils';\r\nimport \"./searchNote.less\";\r\n\r\nexport default function SearchNote(props) {\r\n    const {keyword, total, type} = props;\r\n    const typeText = utils.getTextByType(type);\r\n    return (\r\n        <div className=\"note-container\">\r\n            搜索“{keyword}”，找到 <span className=\"nums\">{total}</span> 个{typeText}\r\n        </div>\r\n    )\r\n};\r\n\r\nSearchNote.propTypes = {\r\n    keyword: PropTypes.string,\r\n    total: PropTypes.number,\r\n    type: PropTypes.string || PropTypes.number,\r\n}\r\n\r\n\r\n","import React, { useState, useCallback, useEffect } from \"react\";\r\nimport qs from \"query-string\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport MusicItem from \"./modules/MusicItem\";\r\nimport SingerItem from \"./modules/SingerItem\";\r\nimport AlbumItem from \"./modules/AlbumItem\";\r\nimport VideoItem from \"./modules/VideoItem\";\r\nimport Words from \"./modules/Words\";\r\nimport PlayList from \"./modules/PlayList\";\r\nimport DjItem from \"./modules/DjItem\";\r\nimport UserProfile from \"./modules/UserProfile\";\r\nimport {\r\n  Pagination,\r\n  Input,\r\n  Spin,\r\n  Tabs,\r\n  TabPane,\r\n  Empty,\r\n  Toast,\r\n} from \"@douyinfe/semi-ui\";\r\nimport {\r\n  IllustrationNoResult,\r\n  IllustrationNoResultDark,\r\n} from \"@douyinfe/semi-illustrations\";\r\nimport { IconSearch } from \"@douyinfe/semi-icons\";\r\nimport \"./index.less\";\r\nimport { search } from \"../../services/apis\";\r\nimport { searchTabs } from \"../../common/tabs\";\r\nimport SearchNote from \"./modules/SearchNote\";\r\n\r\nexport default function Search() {\r\n  const [limit, setLimit] = useState(35); // 页容量\r\n  const [page, setPage] = useState(1); // 页码\r\n  const [type, setType] = useState(\"1\"); // 搜索类型\r\n  const [loading, setLoading] = useState(false); // 加载中\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const query = qs.parse(location.search);\r\n  const keywords = query.keywords; // 传递来的关键词\r\n  const [s, setS] = useState(keywords);\r\n  const [songs, setSongs] = useState([]); // 歌曲列表\r\n  const [singers, setSingers] = useState([]); // 歌手列表\r\n  const [albums, setAlbums] = useState([]); // 专辑列表\r\n  const [videos, setVideos] = useState([]); // 视频列表\r\n  const [words, setWords] = useState([]); // 歌词列表\r\n  const [playlist, setPlaylist] = useState([]); // 歌单列表\r\n  const [djs, setDjs] = useState([]); // 主播列表\r\n  const [users, setUsers] = useState([]); // 用户列表\r\n\r\n  const [total, setTotal] = useState(0); // 歌曲总数\r\n  // 页码变化\r\n  const handlePageChange = useCallback((val) => {\r\n    setPage(val);\r\n  }, []);\r\n  // 页容量变化\r\n  const handleLimitChange = useCallback((val) => {\r\n    setLimit(val);\r\n  }, []);\r\n  // tab切换\r\n  const tabChange = useCallback((key) => {\r\n    setType(key);\r\n  }, []);\r\n\r\n  const inpSearch = async () => {\r\n    setLoading(true);\r\n    const res = await search({\r\n      keywords,\r\n      limit,\r\n      offset: (page - 1) * limit,\r\n      type,\r\n    });\r\n    if (res.code === 200) {\r\n      switch (type) {\r\n        case \"1\":\r\n          setSongs(res.result.songs);\r\n          setTotal(res.result.songCount);\r\n          break;\r\n        case \"100\":\r\n          setSingers(res.result.artists);\r\n          setTotal(res.result.artistCount);\r\n          break;\r\n        case \"10\":\r\n          setAlbums(res.result.albums);\r\n          setTotal(res.result.albumCount);\r\n          break;\r\n        case \"1014\":\r\n          setVideos(res.result.videos);\r\n          setTotal(res.result.videoCount);\r\n          break;\r\n        case \"1006\":\r\n          setWords(res.result.songs);\r\n          setTotal(res.result.songCount);\r\n          break;\r\n        case \"1000\":\r\n          setPlaylist(res.result.playlists);\r\n          setTotal(res.result.playlistCount);\r\n          break;\r\n        case \"1009\":\r\n          setDjs(res.result.djRadios);\r\n          setTotal(res.result.djRadiosCount);\r\n          break;\r\n        case \"1002\":\r\n          setUsers(res.result.userprofiles);\r\n          setTotal(res.result.userprofileCount);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      setLoading(false);\r\n    }\r\n  }\r\n  // 搜索\r\n  useEffect(() => {\r\n    inpSearch();\r\n    return () => {\r\n    };\r\n  }, [keywords, limit, page, type]);\r\n\r\n  const tabpanes = searchTabs.map((tab) => (\r\n    <TabPane key={tab.key} tab={tab.text} itemKey={tab.key}></TabPane>\r\n  ));\r\n\r\n  const searchMusic = () => {\r\n    if (!s) {\r\n      Toast.warning({\r\n        content: \"请输入 音乐/视频/电台/用户 等关键字\",\r\n        duration: 2,\r\n      });\r\n      return;\r\n    }\r\n    history.push(`/search?keywords=${s}`);\r\n  };\r\n  const keywordChange = val => { setS(val) };\r\n  return (\r\n    <div className=\"search-container\">\r\n      <div className=\"search-inp\">\r\n        <Input\r\n          suffix={<IconSearch />}\r\n          style={{\r\n            width: 420,\r\n            color: \"#000\",\r\n            border: \"1px solid #ddd\",\r\n          }}\r\n          value={s}\r\n          size=\"large\"\r\n          showClear\r\n          onEnterPress={searchMusic}\r\n          onChange={keywordChange}\r\n        ></Input>\r\n      </div>\r\n      {<SearchNote keyword={keywords} type={type} total={total || 0} />}\r\n      <div className=\"search-tabs\">\r\n        <Tabs\r\n          type=\"card\"\r\n          onChange={tabChange}\r\n        >\r\n          {tabpanes}\r\n        </Tabs>\r\n      </div>\r\n      {type === \"1\" && songs ? <MusicItem songs={songs} /> : null}\r\n      {type === \"100\" && singers ? <SingerItem singers={singers} /> : null}\r\n      {type === \"10\" && albums ? <AlbumItem albums={albums} /> : null}\r\n      {type === \"1014\" && videos ? <VideoItem videos={videos} /> : null}\r\n      {type === \"1006\" && words ? <Words words={words} /> : null}\r\n      {type === \"1000\" && playlist ? <PlayList playlist={playlist} /> : null}\r\n      {type === \"1009\" && djs ? <DjItem djs={djs} /> : null}\r\n      {type === \"1002\" && users ? <UserProfile users={users} /> : null}\r\n\r\n      {total > 0 ? (\r\n        <div className=\"pagination-ontainer\">\r\n          <Pagination\r\n            total={total}\r\n            currentPage={page}\r\n            onPageChange={handlePageChange}\r\n            showSizeChanger\r\n            pageSize={limit}\r\n            pageSizeOpts={[15, 35, 70]}\r\n            onPageSizeChange={handleLimitChange}\r\n          ></Pagination>\r\n        </div>\r\n      ) : (\r\n        <Empty\r\n          image={<IllustrationNoResult style={{ width: 150, height: 150 }} />}\r\n          darkModeImage={\r\n            <IllustrationNoResultDark style={{ width: 150, height: 150 }} />\r\n          }\r\n          description={\"搜索无结果\"}\r\n        />\r\n      )}\r\n      <Spin\r\n        spinning={loading}\r\n        tip=\"loading...\"\r\n        size=\"large\"\r\n        style={{\r\n          position: \"fixed\",\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          transform: \"translate(-50%, -50%)\",\r\n          zIndex: \"9999\",\r\n        }}\r\n      ></Spin>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}