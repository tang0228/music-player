{"version":3,"sources":["assets/loading.svg","services/artist.js","pages/Find/modules/Singers/singerNav.module.less","pages/Find/modules/Singers/singerList.module.less","pages/Find/modules/Singers/SingerCat/letter.module.less","pages/Find/modules/Singers/SingerCat/index.module.less","common/singerNav.js","pages/Find/modules/Singers/SingerNav.jsx","pages/Find/modules/Singers/SingerCat/LetterNav.jsx","pages/Find/modules/Singers/SingerCat/List.jsx","pages/Find/modules/Singers/SingerCat/index.jsx"],"names":["getArtistList","a","limit","offset","type","area","initial","ins","get","params","res","module","exports","navs","title","childrens","name","id","SingerNav","location","useLocation","qs","parse","search","className","style","map","n","i","c","j","to","letter","code","LetterNav","props","url","pathname","obj","str","stringify","l","SingerList","useState","singers","setSingers","loading","setLoading","useEffect","then","artists","slice","h","height","debounce","placeholder","width","src","loadingUrl","picUrl","alt","accountId","color","spinning","tip","size","position","top","left","transform","zIndex","SingerCat"],"mappings":"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","file":"static/js/24.d6a2dc5d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/loading.4c0ea1e7.svg\";","import ins from \"./request\";\r\n\r\n// 获取歌手列表\r\nexport async function getArtistList({limit = 30, offset = 0, type = -1, area = -1, initial = -1}) {\r\n    const res = await ins.get(\"/artist/list\", {\r\n        params: {\r\n            limit, offset, type, area, initial\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取热门歌手\r\nexport async function getHotSingers(limit = 100, offset = 0) {\r\n    const res = await ins.get('/top/artists', {\r\n        params: {\r\n            limit, offset\r\n        }\r\n    });\r\n    return res;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"singer-nav\":\"singerNav_singer-nav__2lJWd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"singer-list\":\"singerList_singer-list__2rZK2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"letter\":\"letter_letter__COyZa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"singer-cat\":\"index_singer-cat__2bPC7\"};","const navs = [\r\n    {\r\n        title: \"推荐\",\r\n        area: \"-1\",\r\n        childrens: [\r\n            { name: \"热门歌手\", type: \"-1\", id: \"1\"},\r\n        ]\r\n    },\r\n    {\r\n        title: \"华语\",\r\n        area: \"7\",\r\n        childrens: [\r\n            { name: \"华语男歌手\", type: \"1\", id: 1001},\r\n            { name: \"华语女歌手\", type: \"2\", id: 1002},\r\n            { name: \"华语组合/乐队\", type: \"3\", id: 1003},\r\n        ]\r\n    },\r\n    {\r\n        title: \"欧美\",\r\n        area: \"96\",\r\n        childrens: [\r\n            { name: \"欧美男歌手\", type: \"1\", id: 2001},\r\n            { name: \"欧美女歌手\", type: \"2\", id: 2002},\r\n            { name: \"欧美组合/乐队\", type: \"3\", id: 2003},\r\n        ]\r\n    },\r\n    {\r\n        title: \"日本\",\r\n        area: \"8\",\r\n        childrens: [\r\n            { name: \"日本男歌手\", type: \"1\", id: 6001},\r\n            { name: \"日本女歌手\", type: \"2\", id: 6002},\r\n            { name: \"日本组合/乐队\", type: \"3\", id: 6003},\r\n        ]\r\n    },\r\n    {\r\n        title: \"韩国\",\r\n        area: \"16\",\r\n        childrens: [\r\n            { name: \"韩国男歌手\", type: \"1\", id: 7001},\r\n            { name: \"韩国女歌手\", type: \"2\", id: 7002},\r\n            { name: \"韩国组合/乐队\", type: \"3\", id: 7003},\r\n        ]\r\n    },\r\n    {\r\n        title: \"其他\",\r\n        area: \"0\",\r\n        childrens: [\r\n            { name: \"其他男歌手\", type: \"1\", id: 4001},\r\n            { name: \"其他女歌手\", type: \"2\", id: 4002},\r\n            { name: \"其他组合/乐队\", type: \"3\", id: 4003},\r\n        ]\r\n    }\r\n];\r\n\r\nexport default navs;","import React from 'react';\r\nimport navs from '../../../../common/singerNav';\r\nimport style from \"./singerNav.module.less\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport qs from \"query-string\";\r\n\r\nexport default function SingerNav() {\r\n    const location = useLocation();\r\n    const { id } = qs.parse(location.search) || \"\";\r\n    return (\r\n        <div className={style['singer-nav']}>\r\n            {navs.map((n, i) => <dl className='nav-wrap' key={i}>\r\n                <dt className='nav-title'>{n.title}</dt>\r\n                {n.childrens.map((c, j) => <Link className={c.id == id ? 'nav-item active' : 'nav-item'} key={j}\r\n                    to={`/find/singers/cat?area=${n.area}&type=${c.type}&name=${c.name}&id=${c.id}`}\r\n                ><dd>{c.name}</dd></Link>)}\r\n            </dl>)}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport style from \"./letter.module.less\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport qs from \"query-string\";\r\n\r\nconst letter = [\r\n    {name: '热门', code: '-1'},\r\n    {name: 'A', code: 'a'},\r\n    {name: 'B', code: 'b'},\r\n    {name: 'C', code: 'c'},\r\n    {name: 'D', code: 'd'},\r\n    {name: 'E', code: 'e'},\r\n    {name: 'F', code: 'f'},\r\n    {name: 'G', code: 'g'},\r\n    {name: 'H', code: 'h'},\r\n    {name: 'I', code: 'i'},\r\n    {name: 'J', code: 'j'},\r\n    {name: 'K', code: 'k'},\r\n    {name: 'L', code: 'l'},\r\n    {name: 'M', code: 'm'},\r\n    {name: 'N', code: 'n'},\r\n    {name: 'O', code: 'o'},\r\n    {name: 'P', code: 'p'},\r\n    {name: 'Q', code: 'q'},\r\n    {name: 'R', code: 'r'},\r\n    {name: 'S', code: 's'},\r\n    {name: 'T', code: 't'},\r\n    {name: 'U', code: 'u'},\r\n    {name: 'V', code: 'v'},\r\n    {name: 'W', code: 'w'},\r\n    {name: 'X', code: 'x'},\r\n    {name: 'Y', code: 'y'},\r\n    {name: 'Z', code: 'z'},\r\n    {name: '其他', code: '0'},\r\n]\r\n\r\nexport default function LetterNav(props) {\r\n    const location = useLocation();\r\n    let url = location.pathname;\r\n    let obj = qs.parse(location.search);\r\n    delete obj.initial;\r\n    let str = qs.stringify(obj)\r\n    const {initial} = props;\r\n    return (\r\n        <ul className={style['letter']}>\r\n            {letter.map(l => <Link to={`${url}?${str}&initial=${l.code}`} key={l.code}>\r\n                <li className={initial === l.code ? 'item active' : 'item'}>{l.name}</li>\r\n            </Link>)}\r\n        </ul>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport style from \"../singerList.module.less\";\r\nimport { getArtistList } from \"../../../../../services/artist\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport LazyLoad from 'react-lazyload';\r\nimport { IconUserCircle } from \"@douyinfe/semi-icons\";\r\nimport qs from \"query-string\";\r\nimport LetterNav from \"./LetterNav\";\r\nimport { Spin } from \"@douyinfe/semi-ui\";\r\nimport loadingUrl from \"@/assets/loading.svg\";\r\n\r\nexport default function SingerList() {\r\n    const location = useLocation();\r\n    const { area, type, name = \"热门歌手\", initial = '-1' } = qs.parse(location.search);\r\n    const [singers, setSingers] = useState([]); // 热门歌手列表\r\n    const [loading, setLoading] = useState(false);\r\n    useEffect(() => {\r\n        setLoading(true)\r\n        getArtistList({\r\n            limit: 100, offset: 0, type, area, initial,\r\n        }).then(res => {\r\n            if (res.code === 200) {\r\n                setSingers(res.artists);\r\n                setLoading(false);\r\n            }\r\n        })\r\n        return () => {\r\n        };\r\n    }, [area, type, initial]);\r\n\r\n    return (\r\n        <div className={style['singer-list']}>\r\n            <div className=\"header\">\r\n                <div className=\"title\">{name}</div>\r\n            </div>\r\n            <LetterNav initial={initial} />\r\n            <ul className='list-wrap'>\r\n                {/* 如果使用singers.splice() 来截取数组，会改变原数组，导致页面结构变化 */}\r\n                {singers.slice(0, 10).map(h => <li key={h.id} className='list-item'>\r\n                    <Link to={\"/find/artist?id=\" + h.id}>\r\n                        <LazyLoad height={130} debounce={500} placeholder={<img width=\"100%\" height=\"100%\" src={loadingUrl} />}>\r\n                            <img className='avatar-img' src={h.picUrl} alt=\"\" />\r\n                        </LazyLoad>\r\n                        <span className=\"singer-mask\"></span>\r\n                    </Link>\r\n                    <div className=\"info\">\r\n                        <Link to={\"/find/artist?id=\" + h.id}><span className=\"name\">{h.name}</span></Link>\r\n                        {h.accountId ? <Link to={\"/user/home?uid=\" + h.accountId}><IconUserCircle style={{\r\n                            color: '#c20c0c'\r\n                        }} /></Link> : null}\r\n                    </div>\r\n                </li>)}\r\n            </ul>\r\n            <ul className='singer-wrap'>\r\n                {singers.slice(10).map(h => <li key={h.id} className='item'>\r\n                    <Link to={\"/find/artist?id=\" + h.id}><span className=\"name\">{h.name}</span></Link>\r\n                    {h.accountId ? <Link to={\"/user/home?uid=\" + h.accountId}><IconUserCircle style={{\r\n                        color: '#c20c0c'\r\n                    }} /></Link> : null}\r\n                </li>)}\r\n            </ul>\r\n            <Spin\r\n                spinning={loading}\r\n                tip=\"loading...\"\r\n                size=\"large\"\r\n                style={{\r\n                    position: \"fixed\",\r\n                    top: \"50%\",\r\n                    left: \"50%\",\r\n                    transform: \"translate(-50%, -50%)\",\r\n                    zIndex: \"9999\",\r\n                }}\r\n            ></Spin>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport SingerNav from \"../SingerNav\";\r\nimport List from \"./List\";\r\nimport style from \"./index.module.less\";\r\n\r\nexport default function SingerCat() {\r\n    return (\r\n        <div className={style['singer-cat']}>\r\n            <SingerNav />\r\n            <List />\r\n        </div>\r\n    )\r\n}\r\n"],"sourceRoot":""}