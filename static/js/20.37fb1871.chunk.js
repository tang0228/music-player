(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[20],{1242:function(e,t,c){"use strict";var n=c(26),s=c(1),a=c(1243),i=c.n(a),r=c(43),l=c(1248),o=c.n(l),d=c(108),j=c(18),m=c(8);t.a=Object(d.b)((function(e){return{user:e.user}}))((function(e){var t=e.user,c=Object(s.useState)(!1),a=Object(n.a)(c,2),l=a[0],d=a[1],u=Object(s.useState)(""),b=Object(n.a)(u,2),O=b[0],p=b[1],h=Object(s.useCallback)((function(e,t){}),[]);return Object(m.jsxs)("div",{className:i.a.commit,id:"comment",children:[Object(m.jsxs)("div",{className:"commit-header",children:[Object(m.jsx)("h3",{className:"title",children:"\u8bc4\u8bba"}),Object(m.jsxs)("span",{className:"nums",children:["\u5171",e.commitNum,"\u6761\u8bc4\u8bba"]})]}),Object(m.jsxs)("div",{className:"commit-wrap",children:[Object(m.jsx)("img",{src:t?t.avatarUrl:"http://s4.music.126.net/style/web2/img/default/default_avatar.jpg?param=50y50",alt:""}),Object(m.jsxs)("div",{className:"commit-content",children:[Object(m.jsx)(r.w,{placeholder:"\u8bc4\u8bba",value:O,onChange:function(e){p(e)},maxCount:e.commitLength}),Object(m.jsxs)("div",{className:"commit-opearte",children:[Object(m.jsx)(j.I,{onClick:function(){d(!l)}}),Object(m.jsx)(r.c,{onClick:function(){O?(p(""),e.commit&&e.commit(O)):r.x.warning({content:"\u8bf7\u5148\u8f93\u5165\u5185\u5bb9\u54e6\ud83d\ude0a",duration:2})},children:"\u8bc4\u8bba"})]}),l?Object(m.jsx)("div",{className:"emoji-box",children:Object(m.jsx)(o.a,{onEmojiClick:h})}):null]})]})]})}))},1243:function(e,t,c){e.exports={commit:"index_commit__2Pc8Z"}},1244:function(e,t,c){e.exports={"comment-list":"commitList_comment-list__V9s6g"}},1245:function(e,t,c){"use strict";c.d(t,"a",(function(){return r})),c.d(t,"b",(function(){return o}));var n=c(31),s=c(19),a=c.n(s),i=c(36);function r(e){return l.apply(this,arguments)}function l(){return(l=Object(n.a)(a.a.mark((function e(t){var c,n,s,r,l,o,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.t,n=t.type,s=t.id,r=t.content,l=t.commentId,o=t.timestamp,e.next=3,i.a.post("/comment",{t:c,type:n,id:s,content:r,commentId:l,timestamp:o});case 3:return d=e.sent,e.abrupt("return",d);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e){return d.apply(this,arguments)}function d(){return(d=Object(n.a)(a.a.mark((function e(t){var c,n,s,r,l,o,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.id,n=t.cid,s=t.t,r=t.type,l=t.threadId,o=t.timestamp,e.next=3,i.a.post("/comment/like",{id:c,cid:n,t:s,type:r,threadId:l,timestamp:o});case 3:return d=e.sent,e.abrupt("return",d);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1246:function(e,t,c){"use strict";c.d(t,"a",(function(){return m}));c(1);var n=c(1244),s=c.n(n),a=c(1215),i=c.n(a),r=c(53),l=c(18),o=c(108),d=c(8);var j=Object(o.b)((function(e){return{user:e.user}}))((function(e){var t=e.c,c=e.user;return Object(d.jsxs)("li",{className:"comment-item",children:[Object(d.jsx)(r.b,{to:"/user/home?uid="+t.user.userId,children:Object(d.jsx)(i.a,{height:50,debounce:500,placeholder:Object(d.jsx)("img",{width:50,height:50,src:"http://s4.music.126.net/style/web2/img/default/default_avatar.jpg?param=50y50"}),children:Object(d.jsx)("img",{src:t.user.avatarUrl,alt:""})})}),Object(d.jsxs)("div",{className:"comment-desc",children:[Object(d.jsxs)("p",{className:"comment-content",children:[Object(d.jsx)(r.b,{className:"name",to:"/user/home?uid="+t.user.userId,children:t.user.nickname}),Object(d.jsx)("span",{className:"divider",children:":"}),Object(d.jsx)("span",{className:"content",children:t.content})]}),t.beReplied.length?t.beReplied.map((function(e){return Object(d.jsx)("div",{className:"beReplied",children:Object(d.jsxs)("p",{className:"comment-content",children:[Object(d.jsx)(r.b,{className:"name",to:"/user/home?uid="+e.user.userId,children:e.user.nickname}),Object(d.jsx)("span",{className:"divider",children:":"}),Object(d.jsx)("span",{className:"content",children:e.content})]})},e.beRepliedCommentId)})):null,Object(d.jsxs)("div",{className:"comment-points",children:[Object(d.jsx)("span",{className:"time",children:t.timeStr}),Object(d.jsxs)("div",{className:"operate",children:[c&&t.user.userId===c.userId?Object(d.jsxs)("span",{className:"del-wrap",children:[Object(d.jsx)("span",{className:"reback",onClick:function(){e.delComment&&e.delComment(t.commentId)},children:"\u5220\u9664"}),Object(d.jsx)("span",{className:"line",children:"|"})]}):null,Object(d.jsxs)("span",{className:t.liked?"like liked":"like",onClick:function(){e.commentLike&&e.commentLike(t.commentId,t.liked)},children:[Object(d.jsx)(l.L,{}),t.likedCount?Object(d.jsxs)("span",{className:"num",children:["(",t.likedCount,")"]}):null]}),Object(d.jsx)("span",{className:"line",children:"|"}),Object(d.jsx)("span",{className:"reback",children:"\u56de\u590d"})]})]})]})]},t.commentId)}));function m(e){var t=e.total,c=e.comments,n=e.hotComments,a=function(t,c){e.like&&e.like(t,c)},i=function(t){e.del&&e.del(t)};return Object(d.jsxs)("div",{className:s.a["comment-list"],children:[n&&n.length?Object(d.jsxs)("ul",{className:"comment",children:[Object(d.jsx)("li",{className:"header",children:Object(d.jsx)("h3",{className:"title",children:"\u7cbe\u5f69\u8bc4\u8bba"})}),n.map((function(e){return Object(d.jsx)(j,{commentLike:a,delComment:i,c:e},e.commentId)}))]}):null,Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),c&&c.length?Object(d.jsxs)("ul",{className:"comment",children:[Object(d.jsx)("li",{className:"header",children:Object(d.jsxs)("h3",{className:"title",children:["\u6700\u65b0\u8bc4\u8bba(",t,")"]})}),c.map((function(e){return Object(d.jsx)(j,{commentLike:a,delComment:i,c:e},e.commentId)}))]}):null]})}},1249:function(e,t,c){"use strict";var n=c(31),s=c(19),a=c.n(s),i=(c(1),c(1250),c(91)),r=c(43),l=c(18),o=c(53),d=c(132),j=c(108),m=c(109),u=c(178),b=c(8);t.a=Object(j.b)((function(e){return{song:e.song}}),(function(e){return{addSong:function(){return e(m.e.apply(void 0,arguments))},setCurSongId:function(){return e(u.b.apply(void 0,arguments))}}}))((function(e){var t=e.item,c=e.index,s=e.showAlbum,j=e.addSong,m=e.setCurSongId,u=function(){var e=Object(n.a)(a.a.mark((function e(t){var c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.l)({id:t});case 2:c=e.sent,m(t),200===c.code&&c.data[0].url?j(c.data):r.x.error({content:"\u65e0\u6743\u9650",duration:2});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("li",{className:i.a.isEven(c)?"table-item even":"table-item",children:[Object(b.jsxs)("div",{className:"play-num bd",children:[Object(b.jsx)("span",{className:"num",children:c}),Object(b.jsx)(l.Q,{onClick:function(){u(t.id)}})]}),Object(b.jsxs)("div",{className:"title bd ellipsis-1",children:[Object(b.jsx)(o.b,{to:"/find/song?id="+t.id,children:t.name}),t.alia&&t.alia.length?Object(b.jsxs)("span",{className:"mv-name",children:["-",t.alia.map((function(e){return e}))]}):null,t.mv?Object(b.jsx)(o.b,{className:"mv-play",to:"/find/mv?id="+t.mv,children:Object(b.jsx)(l.hb,{})}):null]}),Object(b.jsxs)("div",{className:"duration bd",children:[Object(b.jsx)("span",{className:"time",children:i.a.formatTime(t.dt)}),Object(b.jsxs)("div",{className:"btns",children:[Object(b.jsx)(l.R,{}),Object(b.jsx)(l.C,{}),Object(b.jsx)(l.E,{}),Object(b.jsx)(l.x,{})]})]}),Object(b.jsx)("div",{className:"name bd ellipsis-1",children:t.ar.map((function(e,t){return Object(b.jsx)(o.b,{to:"/find/artist?id="+e.id,children:0===t?e.name:"/".concat(e.name)},e.id+t)}))}),s?Object(b.jsx)("div",{className:"album bd ellipsis-1",children:Object(b.jsx)(o.b,{to:"/find/album?id="+t.al.id,children:t.al.name})}):null]})}))},1250:function(e,t,c){},1343:function(e,t,c){e.exports={"top-left-nav":"left_top-left-nav__32_h0"}},1344:function(e,t,c){e.exports={"right-content":"right_right-content__3bW3B"}},1390:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return z}));var n=c(26),s=c(1),a=c(132),i=c(1343),r=c.n(i),l=c(53),o=c(1215),d=c.n(o),j=c(8);function m(e){var t=Object(s.useState)([]),c=Object(n.a)(t,2),i=c[0],o=c[1],m=Object(s.useState)([]),u=Object(n.a)(m,2),b=u[0],O=u[1],p=e.id;return Object(s.useEffect)((function(){return Object(a.x)().then((function(e){200===e.code&&(o(e.list.splice(0,4)),O(e.list.splice(4)))})),function(){}}),[]),Object(j.jsxs)("div",{className:r.a["top-left-nav"],children:[Object(j.jsxs)("dl",{className:"list",children:[Object(j.jsx)("dt",{className:"title",children:"\u4e91\u97f3\u4e50\u7279\u8272\u699c"}),i.length?i.map((function(e){return Object(j.jsx)(l.b,{to:"/find/toplist?id=".concat(e.id,"&text=").concat(e.updateFrequency),children:Object(j.jsxs)("dd",{className:e.id==p?"row active":"row",children:[Object(j.jsx)(d.a,{children:Object(j.jsx)("img",{src:e.coverImgUrl,alt:""})}),Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)("div",{className:"name",children:e.name}),Object(j.jsx)("p",{className:"desc",children:e.updateFrequency})]})]})},e.id)})):null]}),Object(j.jsxs)("dl",{className:"list mt20",children:[Object(j.jsx)("dt",{className:"title",children:"\u4e91\u97f3\u4e50\u7279\u8272\u699c"}),b.length?b.map((function(e){return Object(j.jsx)(l.b,{to:"/find/toplist?id=".concat(e.id,"&text=").concat(e.updateFrequency),children:Object(j.jsxs)("dd",{className:e.id==p?"row active":"row",children:[Object(j.jsx)("img",{src:e.coverImgUrl,alt:""}),Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)("div",{className:"name",children:e.name}),Object(j.jsx)("p",{className:"desc",children:e.updateFrequency})]})]})},e.id)})):null]})]})}var u=c(31),b=c(19),O=c.n(b),p=c(1344),h=c.n(p),x=c(91),f=c(43),v=c(18),N=c(1249),g=c(1242),y=c(1246),k=c(1245),C=c(109),w=c(178),I=c(108);var S=Object(I.b)((function(e){return{curSongId:e.curSongId}}),(function(e){return{setCurSongId:function(){return e(w.b.apply(void 0,arguments))},addSongs:function(){return e(C.f.apply(void 0,arguments))}}}))((function(e){var t=Object(s.useState)([]),c=Object(n.a)(t,2),i=c[0],r=c[1],l=Object(s.useState)([]),o=Object(n.a)(l,2),d=o[0],m=o[1],b=Object(s.useState)(1),p=Object(n.a)(b,2),C=p[0],w=p[1],I=Object(s.useState)(20),S=Object(n.a)(I,2),_=S[0],L=S[1],E=Object(s.useState)(0),z=Object(n.a)(E,2),R=z[0],D=z[1],U=Object(s.useState)(!1),q=Object(n.a)(U,2),F=q[0],P=q[1],A=e.detail,J=e.id,Q=e.text,T=e.setCurSongId,B=e.addSongs,V=Object(s.useCallback)(function(){var e=Object(u.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)({t:1,type:2,id:J,content:t,timestamp:Date.now()});case 2:200===e.sent.code&&(f.x.success({content:"\u8bc4\u8bba\u6210\u529f",duration:2}),G());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),W=Object(s.useCallback)((function(e){w(e)}),[]),Z=Object(s.useCallback)((function(e){L(e)}),[]),G=function(){var e=Object(u.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,Object(a.o)({id:J,limit:_,offset:(C-1)*_,timestamp:Date.now()});case 3:200===(t=e.sent).code&&(D(t.total),r(t.comments),m(t.hotComments),P(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){return G(),function(){}}),[J,_,C]);var H=Object(s.useCallback)(function(){var e=Object(u.a)(O.a.mark((function e(t,c){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.b)({id:J,cid:t,t:c?0:1,type:2,timestamp:Date.now()});case 2:200===e.sent.code?(c?f.x.success({content:"\u53d6\u6d88\u8d5e\u6210\u529f",duration:2}):f.x.success({content:"\u8d5e\u6210\u529f",duration:2}),G()):f.x.error({content:"\u64cd\u4f5c\u5931\u8d25"});case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),[]),K=function(){var e=Object(u.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)({t:0,type:2,id:J,commentId:t,timestamp:Date.now()});case 2:200===e.sent.code&&(f.x.success({content:"\u5220\u9664\u6210\u529f",duration:2}),G());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:h.a["right-content"],children:[Object(j.jsxs)("div",{className:"top-content",children:[Object(j.jsx)("div",{className:"img",children:Object(j.jsx)("img",{src:A.coverImgUrl,alt:""})}),Object(j.jsxs)("div",{className:"list-content",children:[Object(j.jsx)("div",{className:"list-name",children:A.name}),Object(j.jsxs)("div",{className:"create-desc",children:[Object(j.jsx)(v.p,{}),"\u6700\u8fd1\u66f4\u65b0\uff1a",x.a.formatDate(A.updateTime),"\uff08",Q,"\uff09"]}),Object(j.jsx)("div",{className:"operates",children:Object(j.jsxs)(f.r,{children:[Object(j.jsx)(f.c,{onClick:function(){!function(e){f.x.success({content:"\u6210\u529f\u6dfb\u52a0\u6b4c\u5355\u5230\u64ad\u653e\u5217\u8868",duration:2});var t=A.tracks.map((function(e){return{id:e.id,url:"https://music.163.com/song/media/outer/url?id="+e.id+".mp3",song:e}}));B(t),T(t[0].id)}()},icon:Object(j.jsx)(v.Q,{}),children:"\u64ad\u653e"}),Object(j.jsxs)(f.c,{type:"tertiary",icon:Object(j.jsx)(v.R,{}),children:["(",A.subscribedCount,")"]}),Object(j.jsxs)(f.c,{type:"tertiary",icon:Object(j.jsx)(v.E,{}),children:["(",A.shareCount,")"]}),Object(j.jsx)(f.c,{type:"tertiary",icon:Object(j.jsx)(v.x,{}),children:"\u4e0b\u8f7d"}),Object(j.jsxs)(f.c,{type:"tertiary",icon:Object(j.jsx)(v.r,{}),onClick:function(){x.a.goAnchor("#comment")},children:["(",A.commentCount,")"]})]})})]})]}),Object(j.jsxs)("div",{className:"music-list",children:[Object(j.jsxs)("div",{className:"list-header",children:[Object(j.jsx)("h3",{className:"title",children:"\u6b4c\u66f2\u5217\u8868"}),Object(j.jsxs)("span",{className:"total",children:[A.trackCount,"\u9996\u6b4c"]}),Object(j.jsxs)("span",{className:"play-num",children:["\u64ad\u653e\uff1a",Object(j.jsx)("span",{className:"num",children:A.playCount}),"\u6b21"]})]}),Object(j.jsxs)("ul",{className:"list-wrap",children:[Object(j.jsxs)("li",{className:"table-header",children:[Object(j.jsx)("div",{className:"play-num"}),Object(j.jsx)("div",{className:"title bd",children:"\u6807\u9898"}),Object(j.jsx)("div",{className:"duration bd",children:"\u65f6\u957f"}),Object(j.jsx)("div",{className:"name bd",children:"\u6b4c\u624b"})]}),A.tracks.map((function(e,t){return Object(j.jsx)(N.a,{showAlbum:!1,index:t+1,item:e},e.id)}))]})]}),Object(j.jsx)(g.a,{commitNum:A.commentCount,commit:V,commitLength:140}),Object(j.jsx)(y.a,{like:H,del:K,total:R,comments:i,hotComments:d}),R>0?Object(j.jsx)("div",{className:"pagination-wrapper",children:Object(j.jsx)(f.k,{total:R,currentPage:C,onPageChange:W,showSizeChanger:!0,pageSize:_,pageSizeOpts:[20,30,50],onPageSizeChange:Z})}):null,Object(j.jsx)(f.s,{spinning:F,tip:"loading...",size:"large",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:"9999"}})]})})),_=c(1218),L=c.n(_),E=c(60);function z(){var e=Object(E.h)(),t=e.search?L.a.parse(e.search).id:"19723756",c=e.search?L.a.parse(e.search).text:"\u521a\u521a\u66f4\u65b0",i=Object(s.useState)(null),r=Object(n.a)(i,2),l=r[0],o=r[1];return Object(s.useEffect)((function(){return Object(a.p)({id:t}).then((function(e){200===e.code&&o(e.playlist)})),function(){}}),[t]),Object(j.jsxs)("div",{className:"top-list-container",style:{width:980,margin:"0 auto",border:"1px solid #ddd",display:"flex"},children:[Object(j.jsx)(m,{id:t}),l?Object(j.jsx)(S,{detail:l,id:t,text:c}):null]})}}}]);
//# sourceMappingURL=20.37fb1871.chunk.js.map