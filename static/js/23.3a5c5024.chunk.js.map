{"version":3,"sources":["assets/loading.svg","services/dj.js","pages/Find/modules/Dj/components/DjBanner.jsx","pages/Find/modules/Dj/components/djBanner.module.less","pages/Find/modules/Dj/CatDetail/catDetail.module.less","pages/Find/modules/Dj/CatDetail/goodDj.module.less","pages/Find/modules/Dj/CatDetail/djList.module.less","pages/Find/modules/Dj/CatDetail/GoodDj.jsx","pages/Find/modules/Dj/CatDetail/DjList.jsx","pages/Find/modules/Dj/CatDetail/CatDetail.jsx"],"names":["getDjPopularList","a","limit","ins","get","params","res","getDjCat","getDjRecommend","getProgramRecommend","getDjProgramToplist","getRecommendCat","getRecommendByCat","type","getHotDjList","offset","cateId","getProgramDetail","id","getDjradioDetail","rid","getDjComments","timestamp","getDjProgramById","DjBanner","useState","cats","setCats","location","useLocation","qs","parse","search","loading","setLoading","useEffect","then","code","categories","className","style","length","map","c","to","backgroundImage","picWebUrl","name","position","height","width","spinning","tip","size","top","left","transform","zIndex","module","exports","GoodDj","props","djs","setDjs","djRadios","splice","d","debounce","placeholder","src","loadingUrl","picUrl","alt","rcmdtext","DjList","djList","setDjList","total","setTotal","page","setPage","count","i","utils","isEven","color","dj","userId","nickname","programCount","subCount","currentPage","onPageChange","CatDetail"],"mappings":"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","file":"static/js/23.3a5c5024.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/loading.4c0ea1e7.svg\";","import ins from \"./request\";\r\n\r\n// 获取最热主播榜\r\nexport async function getDjPopularList({ limit }) {\r\n    const res = await ins.get(\"/dj/toplist/popular\", {\r\n        params: {\r\n            limit\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取dj banner\r\nexport async function getDjBanner() {\r\n    const res = await ins.get(\"/dj/banner\");\r\n    return res;\r\n};\r\n\r\n// 获取dj 分类\r\nexport async function getDjCat() {\r\n    const res = await ins.get(\"/dj/catelist\");\r\n    return res;\r\n};\r\n\r\n// dj 推荐\r\nexport async function getDjRecommend() {\r\n    const res = await ins.get(\"/dj/program/toplist/hours\");\r\n    return res;\r\n}\r\n\r\n// 节目推荐\r\nexport async function getProgramRecommend() {\r\n    const res = await ins.get(\"/program/recommend\");\r\n    return res;\r\n}\r\n\r\n// 节目排行榜\r\nexport async function getDjProgramToplist() {\r\n    const res = await ins.get(\"/dj/program/toplist\");\r\n    return res;\r\n};\r\n\r\n// 获取推荐电台类型\r\nexport async function getRecommendCat() {\r\n    const res = await ins.get(\"/dj/category/recommend\");\r\n    return res;\r\n};\r\n\r\n// 获取分类推荐的电台\r\nexport async function getRecommendByCat({ type }) {\r\n    const res = await ins.get(\"/dj/recommend/type\", {\r\n        params: {\r\n            type\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取热门电台列表\r\nexport async function getHotDjList({ limit, offset, cateId }) {\r\n    const res = await ins.get('/dj/radio/hot', {\r\n        params: {\r\n            limit, offset, cateId\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取节目详情\r\nexport async function getProgramDetail({ id }) {\r\n    const res = await ins.get(\"/dj/program/detail\", {\r\n        params: {\r\n            id\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取dj详情\r\nexport async function getDjradioDetail({ rid }) {\r\n    const res = await ins.get(\"/dj/detail\", {\r\n        params: {\r\n            rid\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取节目评论\r\nexport async function getDjComments({ id, limit, offset, timestamp }) {\r\n    const res = await ins.get(\"/comment/dj\", {\r\n        params: { id, limit, offset, timestamp }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取电台节目 根据id\r\nexport async function getDjProgramById({ rid, offset }) {\r\n    const res = await ins.get(\"/dj/program\", {\r\n        params: { rid, offset }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 电台 可能喜欢\r\nexport async function getLikeDj() {\r\n    const res = await ins.get(\"/dj/recommend\");\r\n    return res;\r\n}","import React, { useEffect, useState } from 'react';\r\nimport style from \"./djBanner.module.less\";\r\nimport { getDjCat } from '../../../../../services/dj';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport qs from \"query-string\";\r\nimport { Spin } from \"@douyinfe/semi-ui\";\r\n\r\nexport default function DjBanner() {\r\n    const [cats, setCats] = useState([]);\r\n    const location = useLocation();\r\n    const id = qs.parse(location.search).id || \"\";\r\n    const [loading, setLoading] = useState(false); // 加载中\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        getDjCat().then(res => {\r\n            if (res.code === 200) {\r\n                setCats(res.categories);\r\n                setLoading(false);\r\n            }\r\n        })\r\n        return () => {\r\n        }\r\n    }, [])\r\n    return (\r\n        <div className={style['dj-banner']}>\r\n            {cats && cats.length ? cats.map(c => <Link className={id == c.id ? \"cat-item active\" : \"cat-item\"} key={c.id} to={'/find/djradio/category?id=' + c.id}>\r\n                <div className=\"icon\" style={{\r\n                    backgroundImage: `url(${c.picWebUrl})`,\r\n                }}></div>\r\n                <em className=\"name\">{c.name}</em>\r\n            </Link>) : <div style={{\r\n                position: \"relative\",\r\n                height: 180,\r\n                width: \"100%\"\r\n            }}>\r\n                <Spin\r\n                    spinning={loading}\r\n                    tip=\"loading...\"\r\n                    size=\"large\"\r\n                    style={{\r\n                        position: \"absolute\",\r\n                        top: \"50%\",\r\n                        left: \"50%\",\r\n                        transform: \"translate(-50%, -50%)\",\r\n                        zIndex: \"99999\",\r\n                    }} />\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dj-banner\":\"djBanner_dj-banner__XHfAD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cat-detail\":\"catDetail_cat-detail__5QfsK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"good-dj\":\"goodDj_good-dj__1gdeM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dj-list\":\"djList_dj-list__1B3bZ\"};","import React, { useEffect, useState } from 'react';\r\nimport style from \"./goodDj.module.less\";\r\nimport { getRecommendByCat } from '../../../../../services/dj';\r\nimport { Link } from 'react-router-dom';\r\nimport LazyLoad from 'react-lazyload';\r\nimport loadingUrl from \"@/assets/loading.svg\";\r\n\r\nexport default function GoodDj(props) {\r\n    const id = props.id;\r\n    const [djs, setDjs] = useState([]); // dj\r\n    useEffect(() => {\r\n        getRecommendByCat({ type: id }).then(res => {\r\n            if (res.code === 200) {\r\n                setDjs(res.djRadios.splice(0, 5));\r\n            }\r\n        })\r\n        return () => {\r\n        }\r\n    }, [id])\r\n    return (\r\n        <div className={style['good-dj']}>\r\n            <div className=\"header\">优秀新电台</div>\r\n            <ul className=\"list-wrap\">\r\n                {djs && djs.length ? djs.map(d => <li key={d.id} className=\"list-item\">\r\n                    <LazyLoad height={150} debounce={500} placeholder={<img src={loadingUrl} />}>\r\n                        <Link to={\"/find/djradio/detail?id=\" + d.id}>\r\n                            <img src={d.picUrl} alt=\"\" />\r\n                        </Link>\r\n                    </LazyLoad>\r\n                    <Link to={\"/find/djradio/detail?id=\" + d.id} className=\"name\">{d.name}</Link>\r\n                    <div className=\"desc\">{d.rcmdtext}</div>\r\n                </li>) : null}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport style from \"./djList.module.less\";\r\nimport { getHotDjList } from '../../../../../services/dj';\r\nimport LazyLoad from 'react-lazyload';\r\nimport { Link } from 'react-router-dom';\r\nimport { IconUser } from \"@douyinfe/semi-icons\";\r\nimport utils from '../../../../../utils';\r\nimport {\r\n    Pagination,\r\n} from \"@douyinfe/semi-ui\";\r\nimport loadingUrl from \"@/assets/loading.svg\";\r\n\r\nexport default function DjList(props) {\r\n    const id = props.id;\r\n    const [djList, setDjList] = useState([]);\r\n    const [total, setTotal] = useState(0);\r\n    const [page, setPage] = useState(1);\r\n\r\n    // 获取dj列表\r\n    useEffect(() => {\r\n        getHotDjList({ offset: (page - 1) * 32, cateId: id }).then(res => {\r\n            if (res.code === 200) {\r\n                setDjList(res.djRadios);\r\n                setTotal(res.count);\r\n            }\r\n        })\r\n        return () => {\r\n        }\r\n    }, [id, page]);\r\n\r\n    // 页码变化\r\n    const handlePageChange = (page) => {\r\n        setPage(page)\r\n    }\r\n    return (\r\n        <div className={style['dj-list']}>\r\n            <div className=\"header\">电台排行榜</div>\r\n            <ul className=\"list-wrap\">\r\n                {djList && djList.length ? djList.map((d, i) => <li className={utils.isEven(i + 1) ? \"list-item\" : \"list-item mr28\"} key={d.id}>\r\n                    <LazyLoad height={120} debounce={500} placeholder={<img src={loadingUrl} />}>\r\n                        <Link to={\"/find/djradio/detail?id=\" + d.id}>\r\n                            <img src={d.picUrl} alt=\"\" />\r\n                        </Link>\r\n                    </LazyLoad>\r\n                    <div className=\"content\">\r\n                        <Link to={\"/find/djradio/detail?id=\" + d.id} className=\"name\">{d.name}</Link>\r\n                        <div className=\"user\">\r\n                            <IconUser style={{ color: '#ddd' }} />\r\n                            <Link className=\"nickname\" to={\"/user/home?uid=\" + d.dj.userId}>{d.dj.nickname}</Link>\r\n                        </div>\r\n                        <div className=\"nums\">\r\n                            <span className=\"program-num\">共{d.programCount}期</span>\r\n                            <span className=\"sub-num\">订阅{d.subCount}次</span>\r\n                        </div>\r\n                    </div>\r\n                </li>) : null}\r\n            </ul>\r\n            {total > 0 ? (\r\n                <div className=\"pagination-wrapper\">\r\n                    <Pagination\r\n                        total={total}\r\n                        currentPage={page}\r\n                        onPageChange={handlePageChange}\r\n                    ></Pagination>\r\n                </div>\r\n            ) : null}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport DjBanner from '../components/DjBanner';\r\nimport style from \"./catDetail.module.less\";\r\nimport { useLocation } from 'react-router-dom';\r\nimport qs from \"query-string\";\r\nimport GoodDj from \"./GoodDj\";\r\nimport DjList from './DjList';\r\n\r\nexport default function CatDetail() {\r\n    const location = useLocation();\r\n    const id = qs.parse(location.search).id || ''; // cateid\r\n    return (\r\n        <div className={style[\"cat-detail\"]}>\r\n            <DjBanner />\r\n            <GoodDj id={id} />\r\n            <DjList id={id} />\r\n        </div>\r\n    )\r\n}\r\n"],"sourceRoot":""}