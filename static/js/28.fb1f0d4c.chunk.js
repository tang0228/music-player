(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[28],{1213:function(e,s,c){"use strict";s.a=c.p+"static/media/loading.4c0ea1e7.svg"},1316:function(e,s,c){},1317:function(e,s,c){},1318:function(e,s,c){e.exports={"play-item-wrap":"playItem_play-item-wrap__3YN8x"}},1381:function(e,s,c){"use strict";c.r(s);var t=c(32),n=c(30),a=c(19),i=c.n(a),r=c(1),l=c(59),j=(c(1316),c(1214)),d=c.n(j),u=c(174),o=c(40),b=c(18),O=(c(1317),c(268)),m=c(90),x=c(107),p=c(269),h=c(15);var f=Object(x.b)((function(e){return{song:e.song}}),(function(e){return{addSong:function(){return e(p.b.apply(void 0,arguments))}}}))((function(e){var s=e.record,c=e.index,n=e.addSong,a=e.showNum,r=function(){var e=Object(t.a)(i.a.mark((function e(s){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.n)({id:s});case 2:200===(c=e.sent).code&&(n(c.data[0].url),localStorage.setItem("song_url",JSON.stringify(c.data[0].url)));case 4:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return Object(h.jsxs)("li",{className:O.a.isEven(c)?"record-item even":"record-item",children:[Object(h.jsxs)("div",{className:"hd",children:[Object(h.jsxs)("span",{className:"hd-index",children:[c,"."]}),Object(h.jsx)(b.Q,{onClick:function(){r(s.song.id)}})]}),Object(h.jsxs)("div",{className:"singer",children:[Object(h.jsx)(m.b,{to:"/find/song?id="+s.song.id,className:"music-name",children:s.song.name}),Object(h.jsx)("span",{className:"divider",children:"-"}),Object(h.jsx)("span",{className:"singer-name",children:s.song.ar.map((function(e,s){return Object(h.jsx)(m.b,{className:"name",to:"/find/artist?id="+e.id,children:0===s?e.name:"/"+e.name},e.name)}))})]}),Object(h.jsxs)("div",{className:"operates",children:[Object(h.jsx)(b.R,{}),Object(h.jsx)(b.C,{}),Object(h.jsx)(b.E,{}),Object(h.jsx)(b.x,{})]}),Object(h.jsxs)("div",{className:"tops",children:[Object(h.jsx)("span",{className:"bg",style:{width:"".concat(s.score,"%")}}),a?Object(h.jsxs)("span",{className:"text",children:[s.playCount,"\u6b21"]}):null]})]})})),v=c(1318),N=c.n(v),g=c(1211),y=c.n(g),w=c(1213);function k(e){var s=e.item,c=Object(l.g)();return Object(h.jsxs)("div",{className:N.a["play-item-wrap"],children:[Object(h.jsxs)("div",{className:"img-wrap",title:s.name,onClick:function(){c.push("/find/playlist/detail?id="+s.id)},children:[Object(h.jsxs)(y.a,{height:140,debounce:500,placeholder:Object(h.jsx)("img",{src:w.a}),children:[Object(h.jsx)("img",{src:s.coverImgUrl,alt:""}),Object(h.jsx)("span",{className:"mask"})]}),Object(h.jsxs)("div",{className:"bottom",children:[Object(h.jsx)("i",{className:"icon-heard"}),Object(h.jsx)("i",{className:"icon-play",title:"\u64ad\u653e"}),Object(h.jsx)("span",{className:"play-nums",children:s.playCount>1e4?parseInt(s.playCount/1e4)+"\u4e07":s.playCount})]})]}),Object(h.jsx)("div",{className:"name",onClick:function(){c.push("/find/playlist/detail?id="+s.id)},children:s.name})]})}s.default=Object(x.b)((function(e){return{user:e.user}}))((function(e){var s=e.user,c=Object(l.h)(),a=Object(l.g)(),j=+d.a.parse(c.search).uid,O=Object(r.useState)(null),m=Object(n.a)(O,2),x=m[0],p=m[1],v=Object(r.useState)(1),N=Object(n.a)(v,2),g=N[0],w=N[1],C=Object(r.useState)([]),I=Object(n.a)(C,2),S=I[0],E=I[1],J=Object(r.useState)([]),_=Object(n.a)(J,2),F=_[0],A=_[1],D=Object(r.useState)([]),R=Object(n.a)(D,2),U=R[0],B=R[1];return Object(r.useEffect)((function(){return Object(t.a)(i.a.mark((function e(){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.A)({uid:j});case 2:200===(s=e.sent).code&&p(s);case 4:case"end":return e.stop()}}),e)})))(),function(){}}),[j]),Object(r.useEffect)((function(){return Object(t.a)(i.a.mark((function e(){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.C)({uid:j,type:g});case 2:(s=e.sent)&&200===s.code?1===g?E(s.weekData):0===g&&E(s.allData):E([]);case 4:case"end":return e.stop()}}),e)})))(),function(){}}),[j,g]),Object(r.useEffect)((function(){return Object(t.a)(i.a.mark((function e(){var s,c,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.B)({uid:j});case 2:200===(s=e.sent).code&&(c=s.playlist.filter((function(e){return e.userId===j})),t=s.playlist.filter((function(e){return e.userId!==j})),A(c),B(t));case 4:case"end":return e.stop()}}),e)})))(),function(){}}),[j]),Object(h.jsxs)("div",{className:"user-home-container",children:[x?Object(h.jsxs)("div",{className:"user-info",children:[Object(h.jsx)("div",{className:"img",children:Object(h.jsx)(y.a,{children:Object(h.jsx)("img",{src:x.profile.avatarUrl,alt:""})})}),Object(h.jsxs)("div",{className:"info-content",children:[Object(h.jsxs)("div",{className:"name-wrap",children:[Object(h.jsx)("span",{className:"name",children:x.profile.nickname}),Object(h.jsxs)("span",{className:1===x.profile.gender?"level blue":"level pink",children:["LV. ",x.level," ",1===x.profile.gender?Object(h.jsx)(b.N,{}):Object(h.jsx)(b.A,{})]}),s&&s.userId===j?Object(h.jsx)(o.c,{type:"tertiary",onClick:function(){a.push("/user/update?uid=".concat(j))},children:"\u7f16\u8f91\u4e2a\u4eba\u8d44\u6599"}):Object(h.jsxs)("div",{className:"btns",children:[Object(h.jsx)(o.c,{icon:Object(h.jsx)(b.r,{}),type:"tertiary",children:"\u53d1\u79c1\u4fe1"}),Object(h.jsx)(o.c,{icon:Object(h.jsx)(b.R,{}),children:"\u5173\u6ce8"})]})]}),Object(h.jsxs)("div",{className:"user-nums",children:[Object(h.jsxs)("div",{className:"box",children:[Object(h.jsx)("span",{children:x.profile.eventCount}),Object(h.jsx)("span",{children:"\u52a8\u6001"})]}),Object(h.jsxs)("div",{className:"box",children:[Object(h.jsx)("span",{children:x.profile.follows}),Object(h.jsx)("span",{children:"\u5173\u6ce8"})]}),Object(h.jsxs)("div",{className:"box",children:[Object(h.jsx)("span",{children:x.profile.followeds}),Object(h.jsx)("span",{children:"\u7c89\u4e1d"})]})]}),Object(h.jsxs)("div",{className:"item",children:["\u4e2a\u4eba\u4ecb\u7ecd\uff1a",x.profile.signature]}),Object(h.jsxs)("div",{className:"item",children:["\u793e\u4ea4\u7f51\u7edc\uff1a",Object(h.jsx)(b.ib,{})]})]})]}):null,S&&S.length?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"record-header",children:[Object(h.jsx)("h3",{children:"\u542c\u6b4c\u6392\u884c"}),Object(h.jsxs)("h4",{children:["\u7d2f\u8ba1\u542c\u6b4c",S.length,"\u9996"]}),Object(h.jsx)(o.l,{content:Object(h.jsx)("div",{style:{padding:12},children:"\u5b9e\u9645\u64ad\u653e\u65f6\u95f4\u8fc7\u77ed\u7684\u6b4c\u66f2\u5c06\u4e0d\u7eb3\u5165\u8ba1\u7b97\u3002"}),children:Object(h.jsx)(b.J,{})}),Object(h.jsxs)("div",{className:"nav",children:[Object(h.jsx)("span",{className:1===g?"item active":"item",onClick:function(){w(1)},children:"\u6700\u8fd1\u4e00\u5468"}),Object(h.jsx)("span",{className:"line",children:"|"}),Object(h.jsx)("span",{className:0===g?"item active":"item",onClick:function(){w(0)},children:"\u6240\u6709\u65f6\u95f4"})]})]}),Object(h.jsx)("ul",{className:"record-list",children:S?S.slice(0,10).map((function(e,c){return Object(h.jsx)(f,{record:e,index:c+1,showNum:s.userId===j},e.song.id)})):null}),Object(h.jsxs)("div",{className:"more",children:["\u67e5\u770b\u66f4\u591a",Object(h.jsx)(b.m,{})]})]}):null,F&&F.length?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"playlist",children:[x?s&&s.userId===j?"\u6211":x.profile.nickname:null,"\u521b\u5efa\u7684\u6b4c\u5355",Object(h.jsx)("span",{className:"r"}),"\uff08",F.length,"\uff09"]}),Object(h.jsx)("div",{className:"list-wrap",children:F?F.map((function(e){return Object(h.jsx)(k,{item:e},e.id)})):null})]}):null,U&&U.length?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"playlist",children:[x?s&&s.userId===j?"\u6211":x.profile.nickname:null,"\u6536\u85cf\u7684\u6b4c\u5355",Object(h.jsx)("span",{className:"r"}),"\uff08",U.length,"\uff09"]}),Object(h.jsx)("div",{className:"list-wrap",children:U?U.map((function(e){return Object(h.jsx)(k,{item:e},e.id)})):null})]}):null]})}))}}]);
//# sourceMappingURL=28.fb1f0d4c.chunk.js.map