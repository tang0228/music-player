(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[28],{1216:function(e,s,c){"use strict";s.a=c.p+"static/media/loading.4c0ea1e7.svg"},1319:function(e,s,c){},1320:function(e,s,c){},1321:function(e,s,c){e.exports={"play-item-wrap":"playItem_play-item-wrap__3YN8x"}},1385:function(e,s,c){"use strict";c.r(s);var n=c(32),t=c(27),a=c(19),i=c.n(a),r=c(1),l=c(59),j=(c(1319),c(1217)),d=c.n(j),u=c(132),o=c(40),b=c(18),m=(c(1320),c(91)),O=c(62),p=c(108),x=c(109),h=c(178),f=c(10);var v=Object(p.b)((function(e){return{song:e.song}}),(function(e){return{addSong:function(){return e(x.e.apply(void 0,arguments))},setCurSongId:function(){return e(h.b.apply(void 0,arguments))}}}))((function(e){var s=e.record,c=e.index,t=e.addSong,a=e.showNum,r=e.setCurSongId,l=function(){var e=Object(n.a)(i.a.mark((function e(s){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.l)({id:s});case 2:c=e.sent,r(s),200===c.code&&c.data[0].url?t(c.data):o.x.error({content:"\u65e0\u6743\u9650",duration:2});case 5:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return Object(f.jsxs)("li",{className:m.a.isEven(c)?"record-item even":"record-item",children:[Object(f.jsxs)("div",{className:"hd",children:[Object(f.jsxs)("span",{className:"hd-index",children:[c,"."]}),Object(f.jsx)(b.Q,{onClick:function(){l(s.song.id)}})]}),Object(f.jsxs)("div",{className:"singer",children:[Object(f.jsx)(O.b,{to:"/find/song?id="+s.song.id,className:"music-name",children:s.song.name}),Object(f.jsx)("span",{className:"divider",children:"-"}),Object(f.jsx)("span",{className:"singer-name",children:s.song.ar.map((function(e,s){return Object(f.jsx)(O.b,{className:"name",to:"/find/artist?id="+e.id,children:0===s?e.name:"/"+e.name},e.name)}))})]}),Object(f.jsxs)("div",{className:"operates",children:[Object(f.jsx)(b.R,{}),Object(f.jsx)(b.C,{}),Object(f.jsx)(b.E,{}),Object(f.jsx)(b.x,{})]}),Object(f.jsxs)("div",{className:"tops",children:[Object(f.jsx)("span",{className:"bg",style:{width:"".concat(s.score,"%")}}),a?Object(f.jsxs)("span",{className:"text",children:[s.playCount,"\u6b21"]}):null]})]})})),N=c(1321),g=c.n(N),y=c(1214),w=c.n(y),k=c(1216);var C=Object(p.b)((function(e){return{curSongId:e.curSongId}}),(function(e){return{setCurSongId:function(){return e(h.b.apply(void 0,arguments))},addSongs:function(){return e(x.f.apply(void 0,arguments))}}}))((function(e){var s=Object(l.g)(),c=e.setCurSongId,n=e.addSongs,t=e.item;return Object(f.jsxs)("div",{className:g.a["play-item-wrap"],children:[Object(f.jsxs)("div",{className:"img-wrap",title:t.name,children:[Object(f.jsx)(O.b,{to:"/find/playlist/detail?id="+t.id,children:Object(f.jsxs)(w.a,{height:140,debounce:500,placeholder:Object(f.jsx)("img",{src:k.a}),children:[Object(f.jsx)("img",{src:t.coverImgUrl,alt:""}),Object(f.jsx)("span",{className:"mask"})]})}),Object(f.jsxs)("div",{className:"bottom",children:[Object(f.jsx)("i",{className:"icon-heard"}),Object(f.jsx)("i",{className:"icon-play",title:"\u64ad\u653e",onClick:function(){Object(u.p)({id:t.id}).then((function(e){if(200===e.code){o.x.success({content:"\u6210\u529f\u6dfb\u52a0\u6b4c\u5355\u5230\u64ad\u653e\u5217\u8868",duration:2});var s=e.playlist.tracks.map((function(e){return{id:e.id,url:"https://music.163.com/song/media/outer/url?id="+e.id+".mp3",song:e}}));n(s),c(s[0].id)}}))}}),Object(f.jsx)("span",{className:"play-nums",children:t.playCount>1e4?parseInt(t.playCount/1e4)+"\u4e07":t.playCount})]})]}),Object(f.jsx)("div",{className:"name",onClick:function(){s.push("/find/playlist/detail?id="+t.id)},children:t.name})]})}));s.default=Object(p.b)((function(e){return{user:e.user}}))((function(e){var s=e.user,c=Object(l.h)(),a=Object(l.g)(),j=+d.a.parse(c.search).uid,m=Object(r.useState)(null),O=Object(t.a)(m,2),p=O[0],x=O[1],h=Object(r.useState)(1),N=Object(t.a)(h,2),g=N[0],y=N[1],k=Object(r.useState)([]),I=Object(t.a)(k,2),S=I[0],E=I[1],F=Object(r.useState)([]),J=Object(t.a)(F,2),_=J[0],A=J[1],D=Object(r.useState)([]),R=Object(t.a)(D,2),U=R[0],z=R[1];return Object(r.useEffect)((function(){return Object(n.a)(i.a.mark((function e(){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.y)({uid:j});case 2:200===(s=e.sent).code&&x(s);case 4:case"end":return e.stop()}}),e)})))(),function(){}}),[j]),Object(r.useEffect)((function(){return Object(n.a)(i.a.mark((function e(){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.A)({uid:j,type:g});case 2:(s=e.sent)&&200===s.code?1===g?E(s.weekData):0===g&&E(s.allData):E([]);case 4:case"end":return e.stop()}}),e)})))(),function(){}}),[j,g]),Object(r.useEffect)((function(){return Object(n.a)(i.a.mark((function e(){var s,c,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.z)({uid:j});case 2:200===(s=e.sent).code&&(c=s.playlist.filter((function(e){return e.userId===j})),n=s.playlist.filter((function(e){return e.userId!==j})),A(c),z(n));case 4:case"end":return e.stop()}}),e)})))(),function(){}}),[j]),Object(f.jsxs)("div",{className:"user-home-container",children:[p?Object(f.jsxs)("div",{className:"user-info",children:[Object(f.jsx)("div",{className:"img",children:Object(f.jsx)(w.a,{children:Object(f.jsx)("img",{src:p.profile.avatarUrl,alt:""})})}),Object(f.jsxs)("div",{className:"info-content",children:[Object(f.jsxs)("div",{className:"name-wrap",children:[Object(f.jsx)("span",{className:"name",children:p.profile.nickname}),Object(f.jsxs)("span",{className:1===p.profile.gender?"level blue":"level pink",children:["LV. ",p.level," ",1===p.profile.gender?Object(f.jsx)(b.N,{}):Object(f.jsx)(b.A,{})]}),s&&s.userId===j?Object(f.jsx)(o.c,{type:"tertiary",onClick:function(){a.push("/user/update?uid=".concat(j))},children:"\u7f16\u8f91\u4e2a\u4eba\u8d44\u6599"}):Object(f.jsxs)("div",{className:"btns",children:[Object(f.jsx)(o.c,{icon:Object(f.jsx)(b.r,{}),type:"tertiary",children:"\u53d1\u79c1\u4fe1"}),Object(f.jsx)(o.c,{icon:Object(f.jsx)(b.R,{}),children:"\u5173\u6ce8"})]})]}),Object(f.jsxs)("div",{className:"user-nums",children:[Object(f.jsxs)("div",{className:"box",children:[Object(f.jsx)("span",{children:p.profile.eventCount}),Object(f.jsx)("span",{children:"\u52a8\u6001"})]}),Object(f.jsxs)("div",{className:"box",children:[Object(f.jsx)("span",{children:p.profile.follows}),Object(f.jsx)("span",{children:"\u5173\u6ce8"})]}),Object(f.jsxs)("div",{className:"box",children:[Object(f.jsx)("span",{children:p.profile.followeds}),Object(f.jsx)("span",{children:"\u7c89\u4e1d"})]})]}),Object(f.jsxs)("div",{className:"item",children:["\u4e2a\u4eba\u4ecb\u7ecd\uff1a",p.profile.signature]}),Object(f.jsxs)("div",{className:"item",children:["\u793e\u4ea4\u7f51\u7edc\uff1a",Object(f.jsx)(b.ib,{})]})]})]}):null,S&&S.length?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"record-header",children:[Object(f.jsx)("h3",{children:"\u542c\u6b4c\u6392\u884c"}),Object(f.jsxs)("h4",{children:["\u7d2f\u8ba1\u542c\u6b4c",S.length,"\u9996"]}),Object(f.jsx)(o.l,{content:Object(f.jsx)("div",{style:{padding:12},children:"\u5b9e\u9645\u64ad\u653e\u65f6\u95f4\u8fc7\u77ed\u7684\u6b4c\u66f2\u5c06\u4e0d\u7eb3\u5165\u8ba1\u7b97\u3002"}),children:Object(f.jsx)(b.J,{})}),Object(f.jsxs)("div",{className:"nav",children:[Object(f.jsx)("span",{className:1===g?"item active":"item",onClick:function(){y(1)},children:"\u6700\u8fd1\u4e00\u5468"}),Object(f.jsx)("span",{className:"line",children:"|"}),Object(f.jsx)("span",{className:0===g?"item active":"item",onClick:function(){y(0)},children:"\u6240\u6709\u65f6\u95f4"})]})]}),Object(f.jsx)("ul",{className:"record-list",children:S?S.slice(0,10).map((function(e,c){return Object(f.jsx)(v,{record:e,index:c+1,showNum:s.userId===j},e.song.id)})):null}),Object(f.jsxs)("div",{className:"more",children:["\u67e5\u770b\u66f4\u591a",Object(f.jsx)(b.m,{})]})]}):null,_&&_.length?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"playlist",children:[p?s&&s.userId===j?"\u6211":p.profile.nickname:null,"\u521b\u5efa\u7684\u6b4c\u5355",Object(f.jsx)("span",{className:"r"}),"\uff08",_.length,"\uff09"]}),Object(f.jsx)("div",{className:"list-wrap",children:_?_.map((function(e){return Object(f.jsx)(C,{item:e},e.id)})):null})]}):null,U&&U.length?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"playlist",children:[p?s&&s.userId===j?"\u6211":p.profile.nickname:null,"\u6536\u85cf\u7684\u6b4c\u5355",Object(f.jsx)("span",{className:"r"}),"\uff08",U.length,"\uff09"]}),Object(f.jsx)("div",{className:"list-wrap",children:U?U.map((function(e){return Object(f.jsx)(C,{item:e},e.id)})):null})]}):null]})}))}}]);
//# sourceMappingURL=28.0c76baf8.chunk.js.map