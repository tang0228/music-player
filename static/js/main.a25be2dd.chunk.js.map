{"version":3,"sources":["store/actions/song.js","common/navList.js","common/subNav.js","components/SubNav/index.jsx","components/CommonHeader/index.jsx","components/CommonFooter/index.jsx","store/actions/volumn.js","components/SongPlay/SongList.jsx","components/SongPlay/index.jsx","pages/Find/index.jsx","pages/User/index.jsx","components/Spinner/index.jsx","App.js","store/reducers/user.js","store/reducers/song.js","store/reducers/curSong.js","store/reducers/volumn.js","store/index.js","index.js","store/actions/user.js","services/apis.js","store/actions/curSongId.js","services/request.js","components/Login/index.jsx","components/SongPlay/index.module.less","components/SongPlay/songList.module.less","pages/Find/index.module.less","utils/index.js"],"names":["ADDSONG","Symbol","DELETEALLSONG","DELETEONESONG","ADDSONGLIST","addSongAction","song","type","payload","addSongListAction","songs","deleteAllSongAction","deleteOneSongAction","id","navList","text","url","hot","subNavList","SubNav","lis","map","nav","exact","to","className","connect","state","user","dispatch","delUser","delUserAction","withRouter","props","history","useHistory","showSubNav","useLocation","pathname","startsWith","useState","keyword","setKeyword","visible","setVisible","keywordChange","useCallback","val","searchMusic","a","Toast","warning","content","duration","push","handleLogout","logout","code","localStorage","removeItem","success","error","userId","style","background","outline","onEnterPress","placeholder","prefix","value","onChange","showClear","trigger","position","render","Menu","Item","icon","onClick","src","avatarUrl","Login","closeModal","CommonFooter","href","target","SETVOLUMNANDTYPE","setVolumnAndTypeAction","obj","SongList","lyric","setLyric","curSongId","curSong","useEffect","getLyric","then","res","lrc","replace","length","e","preventDefault","deleteAllSong","name","onClose","s","tagName","deleteOneSong","itemClickPlay","ar","i","utils","formatTime","dt","flag","volAndType","setCurSongId","setCurSongIdAction","setVolAndType","delOneSong","delAllSong","isPlay","setIsPlay","showVoiceControl","setShowVoiceControl","curHeight","setCurHeight","dragTop","setDragTop","curWidth","setCurWidth","curTime","setCurTime","showList","setShowList","playType","setPlayType","playIngSong","find","audio","document","getElementById","rect","querySelector","getBoundingClientRect","parseInt","height","vol","volume","next","curIndex","findIndex","nextIndex","autoplay","title","prevIndex","pause","play","al","picUrl","alt","mv","clickX","clientX","curLeft","left","width","endCurWidth","currentTime","dragSetCurTime","Math","floor","requestPictureInPicture","console","log","visibility","clickY","clientY","endCurHeignt","top","delIndex","nenxtId","loop","onTimeUpdate","onEnded","index","getRandomIntNumber","Find","children","window","scrollTo","NProgress","start","done","Index","lazy","Search","PlayList","Friend","UserHome","UserUpdate","UserEvent","PlaylistDetail","SongDetail","ArtistDetail","AlbumDetail","MvDetail","TopList","Dj","CatDetail","DJRank","DJRecommend","Program","DjDetail","AlbumList","SingerCat","Download","Mall","Musician","MyMusic","NotFound","App","Header","Layout","Footer","Content","fallback","path","component","bottom","initialState","JSON","parse","getItem","rootReducer","combineReducers","ADDUSER","DELUSER","unique","setItem","stringify","list","filter","SETSONGID","store","createStore","ReactDOM","addUserAction","search","keywords","limit","offset","ins","get","params","phoneLogin","phone","password","getPlaylist","cat","order","getPlayListCat","getUserDetail","uid","timestamp","getUserRecord","getUserPlayList","updateUserInfo","gender","birthday","nickname","province","city","signature","getMusicPlayUrl","getSongDetail","ids","data","getSongUrl","getPlayListDetail","getHotPlayList","getPlayListCommit","getSimiPlayList","getSimiSong","getSongComment","getSimiArtist","getArtistSongs","getArtistAlbums","getArtistMv","getArtistDesc","getAlbum","getAlbumCommit","getBanner","getPersonalized","getDayPlsyList","getAlbumNewest","userSignIn","getTop","axios","create","baseURL","withCredentials","timeout","interceptors","response","use","status","Promise","resolve","reject","addUser","setPhone","setPassword","handleOk","profile","setCookie","token","msg","onOk","onCancel","centered","bodyStyle","footer","Input","field","label","rules","required","message","mode","module","exports","isEven","num","paddingLeft","mss","h","m","this","arr","Map","has","set","getTextByType","key","Cookie","getCookie","formatDate","time","day","format","goAnchor","selector","offsetTop","min","max","random"],"mappings":"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","file":"static/js/main.a25be2dd.chunk.js","sourcesContent":["export const ADDSONG = Symbol(\"add-song\");\r\nexport const DELETEALLSONG = Symbol(\"delete-all-song\");\r\nexport const DELETEONESONG = Symbol(\"delete-one-song\");\r\nexport const ADDSONGLIST = Symbol(\"add-song-list\");\r\n\r\n// 添加一首歌播放\r\nexport function addSongAction(song) {\r\n    return {\r\n        type: ADDSONG,\r\n        payload: song\r\n    }\r\n}\r\n\r\n// 添加歌单播放\r\nexport function addSongListAction(songs) {\r\n    return {\r\n        type: ADDSONGLIST,\r\n        payload: songs\r\n    }\r\n}\r\n\r\n// 删除播放列表所有歌曲\r\nexport function deleteAllSongAction() {\r\n    return {\r\n        type: DELETEALLSONG,\r\n    }\r\n}\r\n\r\n// 删除一首歌曲, 传歌曲ID\r\nexport function deleteOneSongAction(id) {\r\n    return {\r\n        type: DELETEONESONG,\r\n        payload: id\r\n    }\r\n}\r\n","// 导航信息\r\nconst navList = [\r\n    {text: \"发现音乐\", url: \"/find\", hot: false},\r\n    {text: \"我的音乐\", url: \"/myMusic\", hot: false},\r\n    {text: \"朋友\", url: \"/friend\", hot: false},\r\n    {text: \"商城\", url: \"/mall\", hot: false},\r\n    {text: \"音乐人\", url: \"/musician\", hot: false},\r\n    {text: \"下载客户端\", url: \"/download\", hot: false},\r\n];\r\n\r\nexport default navList;","// 次菜单信息\r\nconst subNavList = [\r\n    {text: \"推荐\", url: \"/find\", hot: false},\r\n    {text: \"排行榜\", url: \"/find/toplist\", hot: false},\r\n    {text: \"歌单\", url: \"/find/playlist\", hot: false},\r\n    {text: \"主播电台\", url: \"/find/djradio\", hot: false},\r\n    {text: \"歌手\", url: \"/find/singers/cat?id=1\", hot: false},\r\n    {text: \"新碟上架\", url: \"/find/album/list\", hot: false},\r\n];\r\n\r\nexport default subNavList;","import React from \"react\";\r\nimport subNavList from \"../../common/subNav\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"./index.less\";\r\n\r\nexport default function SubNav() {\r\n  const lis = subNavList.map((nav) => (\r\n    <NavLink key={nav.url} exact to={nav.url} className=\"sub-nav-link\">\r\n      <li className=\"sub-nav-item\"><em>{nav.text}</em></li>\r\n    </NavLink>\r\n  ));\r\n  return <ul className=\"sub-nav-container\">{lis}</ul>;\r\n}\r\n","import React, { useState, useCallback } from \"react\";\r\nimport { withRouter, useHistory, useLocation } from \"react-router-dom\";\r\nimport navList from \"../../common/navList\";\r\nimport \"./index.less\";\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nimport { Dropdown, Avatar, Input, Toast, Button } from \"@douyinfe/semi-ui\";\r\nimport {\r\n\tIconSearch,\r\n\tIconUser,\r\n\tIconMailStroked1,\r\n\tIconSetting,\r\n\tIconQuit,\r\n\tIconVerify,\r\n\tIconShield,\r\n\tIconCrown,\r\n} from \"@douyinfe/semi-icons\";\r\nimport { delUserAction } from \"../../store/actions/user\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../services/apis\";\r\nimport Login from \"../Login\";\r\nimport SubNav from \"../SubNav\";\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tuser: state.user,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tdelUser: (...args) => dispatch(delUserAction(...args)),\r\n\t};\r\n};\r\n\r\nfunction CommonHeader(props) {\r\n\tconst { user, delUser } = props;\r\n\tconst history = useHistory();\r\n\tconst location = useLocation();\r\n\tlet showSubNav = location.pathname.startsWith('/find'); // 路径是否以 /find 开头\r\n\tconst [keyword, setKeyword] = useState(\"\"); // 搜索的关键词\r\n\tconst [visible, setVisible] = useState(false);\r\n\tconst keywordChange = useCallback((val) => {\r\n\t\tsetKeyword(val);\r\n\t}, []);\r\n\r\n\tconst searchMusic = useCallback(async () => {\r\n\t\tif (!keyword) {\r\n\t\t\tToast.warning({\r\n\t\t\t\tcontent: \"请输入 音乐/视频/电台/用户 等关键字\",\r\n\t\t\t\tduration: 2,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\thistory.push(`/search?keywords=${keyword}`);\r\n\t}, [keyword, history]);\r\n\t//   退出登录\r\n\tconst handleLogout = useCallback(async () => {\r\n\t\tconst res = await logout();\r\n\t\tif (res.code === 200) {\r\n\t\t\thistory.push(\"/find\"); // 退出登录回到首页\r\n\t\t\tdelUser();\r\n\t\t\tlocalStorage.removeItem(\"user\");\r\n\t\t\tToast.success({\r\n\t\t\t\tcontent: \"退出登录成功，欢迎下次再来\",\r\n\t\t\t\tduration: 2,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tToast.error({\r\n\t\t\t\tcontent: \"操作失败\",\r\n\t\t\t\tduration: 2,\r\n\t\t\t});\r\n\t\t}\r\n\t}, []);\r\n\t// 去用户主页\r\n\tconst toUserHome = useCallback(\r\n\t\t() => {\r\n\t\t\thistory.push(`/user/home?uid=${user.userId}`)\r\n\t\t},\r\n\t\t[],\r\n\t)\r\n\r\n\tconst lis = navList.map((nav) => (\r\n\t\t<NavLink to={nav.url} key={nav.url} className=\"nav-link\">\r\n\t\t\t<li className=\"nav-item\">{nav.text}</li>\r\n\t\t</NavLink>\r\n\t));\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"nav-wrapper\">\r\n\t\t\t\t<div className=\"nav-logo\">\r\n\t\t\t\t\t<Link className=\"logo-text\" to=\"/find\">\r\n\t\t\t\t\t\tMusic-Player\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul className=\"nav-list\">{lis}</ul>\r\n\t\t\t\t<div className=\"nav-search\">\r\n\t\t\t\t\t<Input\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tbackground: \"#fff\",\r\n\t\t\t\t\t\t\toutline: \"none\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonEnterPress={searchMusic}\r\n\t\t\t\t\t\tplaceholder=\"音乐/视频/电台/用户\"\r\n\t\t\t\t\t\tprefix={<IconSearch />}\r\n\t\t\t\t\t\tvalue={keyword}\r\n\t\t\t\t\t\tonChange={keywordChange}\r\n\t\t\t\t\t\tshowClear\r\n\t\t\t\t\t></Input>\r\n\t\t\t\t</div>\r\n\t\t\t\t{user ? (\r\n\t\t\t\t\t<div className=\"nav-user\">\r\n\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\ttrigger={\"hover\"}\r\n\t\t\t\t\t\t\tposition={\"bottom\"}\r\n\t\t\t\t\t\t\trender={\r\n\t\t\t\t\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconUser />}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/user/home?uid=${user.userId}`}>我的主页</Link>\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconMailStroked1 />}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/user/event`}>我的消息</Link>\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconCrown />}>\r\n\t\t\t\t\t\t\t\t\t\t我的等级\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconShield />}>\r\n\t\t\t\t\t\t\t\t\t\tVIP会员\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconSetting />}>\r\n\t\t\t\t\t\t\t\t\t\t个人设置\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconVerify />}>\r\n\t\t\t\t\t\t\t\t\t\t实名认证\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t\t<Dropdown.Item icon={<IconQuit />} onClick={handleLogout}>\r\n\t\t\t\t\t\t\t\t\t\t退出\r\n\t\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Avatar src={user.avatarUrl} />\r\n\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetVisible(true);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t登录\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t{showSubNav ? <SubNav /> : <div className=\"sub-nav\"></div>}\r\n\t\t\t<Login\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tcloseModal={() => {\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t}}\r\n\t\t\t></Login>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withRouter(CommonHeader));\r\n","import React from 'react';\r\nimport \"./index.less\";\r\n\r\nexport default function CommonFooter() {\r\n    return (\r\n        <div className=\"footer-container\">\r\n            <div className=\"footer\">\r\n                <div className=\"copy\">\r\n                    <p className=\"link\">\r\n                        <a href=\"https://st.music.163.com/official-terms/service\" target=\"_blank\">服务条款</a>\r\n                        <span className=\"line\">|</span>\r\n                        <a href=\"https://st.music.163.com/official-terms/privacy\" target=\"_blank\">隐私政策</a>\r\n                        <span className=\"line\">|</span>\r\n                        <a href=\"https://st.music.163.com/official-terms/children\" target=\"_blank\">儿童隐私政策</a>\r\n                        <span className=\"line\">|</span>\r\n                        <a href=\"https://music.163.com/st/staticdeal/complaints.html\" target=\"_blank\">版权投诉指引</a>\r\n                        <span className=\"line\">|</span>\r\n                        <a href=\"https://st.music.163.com/official-terms/service\" target=\"_blank\">意见反馈</a>\r\n                        <span className=\"line\">|</span>\r\n                        <a href=\"https://st.music.163.com/official-terms/service\" target=\"_blank\">广告合作</a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const SETVOLUMNANDTYPE = Symbol(\"set-volumn-type\");\r\n\r\n// 设置音量\r\nexport function setVolumnAndTypeAction(obj) {\r\n    return {\r\n        type: SETVOLUMNANDTYPE,\r\n        payload: obj\r\n    }\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport style from \"./songList.module.less\";\r\nimport { Link } from \"react-router-dom\";\r\nimport utils from '../../utils';\r\nimport { getLyric } from \"@/services/apis\";\r\n\r\nexport default function SongList(props) {\r\n    const [lyric, setLyric] = useState(\"\");\r\n    const { songs, curSongId, curSong } = props;\r\n\r\n    // 获取当前播放歌曲的歌词\r\n    useEffect(() => {\r\n        getLyric({ id: curSongId }).then(res => {\r\n            if (res.code === 200) {\r\n                setLyric(res.lrc.lyric.replace(/\\[.*?\\]|\\x20/g, ''));\r\n            }\r\n        })\r\n        return () => {\r\n        }\r\n    }, [curSongId])\r\n\r\n    return (\r\n        <div className={style['song-list-wrap']}>\r\n            <div className=\"list-header\">\r\n                <h4 className='title'>播放列表({songs.length})</h4>\r\n                <a onClick={e => e.preventDefault()} className='add-all'>\r\n                    <i className=\"icon-add\"></i>\r\n                    <span>收藏全部</span>\r\n                </a>\r\n                <span className=\"line\"></span>\r\n                <a className='del' onClick={(e) => {\r\n                    e.preventDefault();\r\n                    props.deleteAllSong();\r\n                }}>\r\n                    <i className=\"icon-del\"></i>\r\n                    <span>清除</span>\r\n                </a>\r\n                <p className=\"name\">{curSong ? curSong.song.name : null}</p>\r\n                <i className=\"icon-close\" onClick={() => {\r\n                    props.onClose();\r\n                }}>close</i>\r\n            </div>\r\n            <div className=\"list-content\">\r\n                <div className=\"list-wrap\">\r\n                    <ul className='list'>\r\n                        {songs && songs.map(s => <li className='list-item' key={s.id} onClick={(e) => {\r\n                            let tagName = e.target.tagName, id = e.target.id;\r\n                            if (tagName === 'I' && id === 'del') {\r\n                                props.deleteOneSong(s.id);\r\n                            } else {\r\n                                props.itemClickPlay(s.id);\r\n                            }\r\n                        }}>\r\n                            <i id=\"playing\" className={curSongId == s.id ? \"icon-p icon-playing\" : \"icon-p\"}></i>\r\n                            <span className=\"name pdl10\">{s.song.name}</span>\r\n                            <i id=\"del\" className=\"icon-del\"></i>\r\n                            <span className=\"artist pdl10\">\r\n                                {s.song.ar.map((a, i) => <Link key={a.id} to={\"/find/artist?id=\" + a.id}>\r\n                                    {i === 0 ? null : '/'}{a.name}\r\n                                </Link>)}\r\n                            </span>\r\n                            <span className=\"dt pdl10\">{utils.formatTime(s.song.dt)}</span>\r\n                        </li>)}\r\n                    </ul>\r\n                </div>\r\n                <div className=\"middle\"></div>\r\n                <div className=\"word-wrap\">\r\n                    <div className=\"lyric\">\r\n                        {lyric}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport style from \"./index.module.less\";\r\nimport { Link } from \"react-router-dom\";\r\nimport utils from '../../utils';\r\nimport { setCurSongIdAction } from \"@/store/actions/curSongId\";\r\nimport { deleteOneSongAction, deleteAllSongAction } from '../../store/actions/song';\r\nimport { setVolumnAndTypeAction } from '../../store/actions/volumn';\r\nimport SongList from \"./SongList\";\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tsongs: state.songs,\r\n\t\tcurSongId: state.curSongId,\r\n\t\tvolAndType: state.volAndType\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsetCurSongId: (...args) => dispatch(setCurSongIdAction(...args)),\r\n\t\tsetVolAndType: (...args) => dispatch(setVolumnAndTypeAction(...args)),\r\n\t\tdelOneSong: (...args) => dispatch(deleteOneSongAction(...args)),\r\n\t\tdelAllSong: (...args) => dispatch(deleteAllSongAction(...args)),\r\n\t};\r\n};\r\n\r\nlet flag = 1;\r\n\r\nfunction SongPlay(props) {\r\n\tconst { songs, curSongId, setCurSongId, volAndType, setVolAndType, delOneSong, delAllSong } = props;\r\n\tconst [isPlay, setIsPlay] = useState(false); // 是否正在播放音乐\r\n\tconst [showVoiceControl, setShowVoiceControl] = useState(false); // 是否显示控制音量\r\n\tconst [curHeight, setCurHeight] = useState(93);\r\n\tconst [dragTop, setDragTop] = useState(0);\r\n\tconst [curWidth, setCurWidth] = useState(0);\r\n\tconst [curTime, setCurTime] = useState(0); // 歌曲当前播放的时间\r\n\tconst [showList, setShowList] = useState(false);\r\n\tlet [playType, setPlayType] = useState(0); // 0:单曲循环；1：随机播放；2：顺序播放\r\n\r\n\tconst playIngSong = songs.find(s => s.id == curSongId) || songs[0];\r\n\tuseEffect(() => {\r\n\t\tif (!songs.length) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst audio = document.getElementById(\"my-audio\");\r\n\t\tlet rect = document.querySelector('.vbg').getBoundingClientRect();\r\n\t\tsetCurHeight(parseInt(rect.height * volAndType.vol) > 93 ? 93 : parseInt(rect.height * volAndType.vol));\r\n\t\tsetDragTop(93 - parseInt(rect.height * volAndType.vol));\r\n\t\taudio.volume = volAndType.vol;\r\n\t\tsetPlayType(volAndType.type);\r\n\t\treturn () => {\r\n\t\t}\r\n\t}, [volAndType, showVoiceControl])\r\n\r\n\tuseEffect(() => {\r\n\t\t++flag;\r\n\t\tif (flag === 2) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetIsPlay(true);\r\n\t\treturn () => {\r\n\t\t}\r\n\t}, [curSongId])\r\n\r\n\r\n\r\n\t// 播放音乐\r\n\tconst play = () => {\r\n\t\tif (!playIngSong) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetIsPlay(!isPlay);\r\n\t\tconst audio = document.getElementById(\"my-audio\");\r\n\t\t// audio.autoplay = false;\r\n\t\tif (isPlay) {\r\n\t\t\taudio.pause();\r\n\t\t} else {\r\n\t\t\taudio.play();\r\n\t\t}\r\n\t}\r\n\r\n\t// 点击进度条\r\n\tconst dragSetCurTime = (width) => {\r\n\t\tif (!playIngSong) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst audio = document.getElementById(\"my-audio\");\r\n\t\taudio.currentTime = width / 100 * audio.duration;\r\n\t}\r\n\r\n\t// 调节音量\r\n\tconst setVoice = (height) => {\r\n\t\tlet volume = (height / 93) > 1 ? 1 : (height / 93) < 0 ? 0 : (height / 93);\r\n\t\tsetVolAndType({\r\n\t\t\tvol: volume,\r\n\t\t})\r\n\t}\r\n\r\n\t// 歌曲播放完\r\n\tconst songEnded = () => {\r\n\t\tif (playType === 0) { // 单曲播放\r\n\t\t} else if (playType === 1) { // 随机播放\r\n\t\t\tlet index = utils.getRandomIntNumber(0, songs.length - 1);\r\n\t\t\tsetCurSongId(songs[index].id);\r\n\t\t} else { // 顺序播放\r\n\t\t\tnext();\r\n\t\t}\r\n\t}\r\n\r\n\t// 上一首\r\n\tconst prev = () => {\r\n\t\tif (songs.length === 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst curIndex = songs && songs.findIndex(s => s.id === playIngSong.id);\r\n\t\tlet prevIndex = curIndex - 1 < 0 ? songs.length - 1 : curIndex - 1;\r\n\t\tsetCurWidth(0); // 进度条重置为0\r\n\t\tsetCurSongId(songs[prevIndex].id);\r\n\t\tif (isPlay) {\r\n\t\t\tconst audio = document.getElementById(\"my-audio\");\r\n\t\t\taudio.autoplay = true;\r\n\t\t}\r\n\t}\r\n\t// 下一首\r\n\tconst next = () => {\r\n\t\tif (songs.length === 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst curIndex = songs && songs.findIndex(s => s.id === playIngSong.id);\r\n\t\tlet nextIndex = curIndex + 1 > songs.length - 1 ? 0 : curIndex + 1;\r\n\t\tsetCurWidth(0);\r\n\t\tsetCurSongId(songs[nextIndex].id);\r\n\t\tif (isPlay) {\r\n\t\t\tconst audio = document.getElementById(\"my-audio\");\r\n\t\t\taudio.autoplay = true;\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<div className={style[\"b-bottom\"]}>\r\n\t\t\t<div className='song-play'>\r\n\t\t\t\t{/* <div className=\"song-lock\">\r\n\t\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t\t<i className=\"icon-lock\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"right\"></div>\r\n\t\t\t\t</div> */}\r\n\t\t\t\t<div className=\"bg\"></div>\r\n\t\t\t\t{/* <div className=\"hand\"></div> */}\r\n\t\t\t\t<div className=\"song-content\">\r\n\t\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t\t<i className='icon icon-prev' title='上一首' onClick={prev}>下一首</i>\r\n\t\t\t\t\t\t<i className={isPlay ? 'icon icon-play' : 'icon icon-pause'} title='暂停或播放' onClick={play}>暂停或播放</i>\r\n\t\t\t\t\t\t<i className=\"icon icon-next\" title='下一首' onClick={next}>下一首</i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"center\">\r\n\t\t\t\t\t\t<div className=\"song-info\">\r\n\t\t\t\t\t\t\t<div className=\"img-wrap\">\r\n\t\t\t\t\t\t\t\t<img src={playIngSong ? playIngSong.song.al.picUrl : 'https://s4.music.126.net/style/web2/img/default/default_album.jpg'} alt=\"\" />\r\n\t\t\t\t\t\t\t\t<Link to={\"/find/song?id=\" + curSongId} className=\"mask\"></Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"song-detail\">\r\n\t\t\t\t\t\t\t\t{playIngSong ? <>\r\n\t\t\t\t\t\t\t\t\t<Link to={\"/find/song?id=\" + curSongId} className=\"song-name\">{songs.length && playIngSong.song.name}</Link>\r\n\t\t\t\t\t\t\t\t\t{playIngSong.song.mv ? <Link to={\"/find/mv?id=\" + playIngSong.song.mv} className='icon-mv'></Link> : null}\r\n\t\t\t\t\t\t\t\t\t<span className=\"song-artist\">\r\n\t\t\t\t\t\t\t\t\t\t{playIngSong && playIngSong.song.ar.map((a, i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Link key={a.id} to={\"/find/artist?id=\" + a.id}>{i === 0 ? '' : '/'}{a.name}</Link>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</> :\r\n\t\t\t\t\t\t\t\t\t<><Link to=\"/\" className=\"song-name\"></Link>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/\" className=\"song-artist\"></Link></>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<div className=\"progress\" onClick={(e) => {\r\n\t\t\t\t\t\t\t\t\tlet clickX = e.clientX;\r\n\t\t\t\t\t\t\t\t\tlet rect = document.querySelector('.song-detail .progress').getBoundingClientRect();\r\n\t\t\t\t\t\t\t\t\tlet curLeft = rect.left;\r\n\t\t\t\t\t\t\t\t\tlet width = rect.width;\r\n\t\t\t\t\t\t\t\t\tlet endCurWidth = (clickX - curLeft) / width * 100 > 100 ? 100 : (clickX - curLeft) / width * 100;\r\n\t\t\t\t\t\t\t\t\tsetCurWidth(endCurWidth);\r\n\t\t\t\t\t\t\t\t\tdragSetCurTime(endCurWidth);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"rdy\"></div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"cur\" style={{ width: `${curWidth}%` }}>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"icon-drag\"></span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{playIngSong ? <div className=\"song-time\">\r\n\t\t\t\t\t\t\t\t<em>{utils.formatTime(Math.floor(curTime) * 1000)}</em>\r\n\t\t\t\t\t\t\t\t/ {songs.length && utils.formatTime(playIngSong.song.dt)}\r\n\t\t\t\t\t\t\t</div> : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"right\">\r\n\t\t\t\t\t\t<i className=\"icon icon-draw\" title='画中画歌词' onClick={() => {\r\n\t\t\t\t\t\t\tconst audio = document.getElementById(\"my-audio\");\r\n\t\t\t\t\t\t\taudio.requestPictureInPicture().then(res => {\r\n\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}}>画中画歌词</i>\r\n\t\t\t\t\t\t<i className=\"icon icon-fold\" title=\"收藏\">收藏</i>\r\n\t\t\t\t\t\t<i className=\"icon icon-share\" title=\"分享\">分享</i>\r\n\t\t\t\t\t\t<div className=\"bar\">\r\n\t\t\t\t\t\t\t<div className=\"voice-control\" style={{\r\n\t\t\t\t\t\t\t\tvisibility: showVoiceControl ? 'visible' : 'hidden'\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<div className=\"bg\"></div>\r\n\t\t\t\t\t\t\t\t<div className=\"vbg\" onClick={(e) => {\r\n\t\t\t\t\t\t\t\t\tlet clickY = e.clientY;\r\n\t\t\t\t\t\t\t\t\tlet rect = document.querySelector('.vbg').getBoundingClientRect();\r\n\t\t\t\t\t\t\t\t\tlet curTop = rect.top;\r\n\t\t\t\t\t\t\t\t\tlet endCurHeignt = curTop + rect.height - clickY - 4;\r\n\t\t\t\t\t\t\t\t\tsetCurHeight(endCurHeignt > 93 ? 93 : endCurHeignt);\r\n\t\t\t\t\t\t\t\t\tsetDragTop(93 - endCurHeignt < 0 ? 0 : 93 - endCurHeignt > 85 ? 85 : 93 - endCurHeignt);\r\n\t\t\t\t\t\t\t\t\tsetVoice(endCurHeignt);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"voice-cur\" style={{ height: curHeight }}></div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"voice-drag\" style={{ top: dragTop }}></div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<i className=\"icon icon-voice\" onClick={() => {\r\n\t\t\t\t\t\t\t\tsetShowVoiceControl(!showVoiceControl)\r\n\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t\t\t<i className={playType === 0 ? \"icon icon-one\" : playType === 1 ? \"icon icon-random\" : \"icon icon-loop\"} onClick={() => {\r\n\t\t\t\t\t\t\t\tsetVolAndType({\r\n\t\t\t\t\t\t\t\t\ttype: ++playType % 3,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}></i>\r\n\t\t\t\t\t\t\t<i className=\"icon icon-list\" onClick={() => {\r\n\t\t\t\t\t\t\t\tsetShowList(!showList)\r\n\t\t\t\t\t\t\t}}>{songs.length}</i>\r\n\t\t\t\t\t\t\t{showList ? <SongList onClose={() => {\r\n\t\t\t\t\t\t\t\tsetShowList(false);\r\n\t\t\t\t\t\t\t}} songs={songs} curSong={playIngSong} curSongId={curSongId} itemClickPlay={(id) => {\r\n\t\t\t\t\t\t\t\tsetCurSongId(id);\r\n\t\t\t\t\t\t\t}} deleteOneSong={(id) => {\r\n\t\t\t\t\t\t\t\tif (curSongId === id) {\r\n\t\t\t\t\t\t\t\t\tlet delIndex = songs.findIndex(s => s.id === id);\r\n\t\t\t\t\t\t\t\t\tlet nenxtId = songs[++delIndex % songs.length].id;\r\n\t\t\t\t\t\t\t\t\tsetCurSongId(nenxtId);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdelOneSong(id);\r\n\t\t\t\t\t\t\t}} deleteAllSong={() => {\r\n\t\t\t\t\t\t\t\tdelAllSong();\r\n\t\t\t\t\t\t\t}} /> : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{songs.length ? <audio id=\"my-audio\" src={playIngSong.url} loop={volAndType.type === 0} onTimeUpdate={() => {\r\n\t\t\t\t\tconst audio = document.getElementById('my-audio');\r\n\t\t\t\t\tsetCurTime(audio.currentTime);\r\n\t\t\t\t\tsetCurWidth(audio.currentTime / audio.duration * 100);\r\n\t\t\t\t}} onEnded={songEnded}></audio> : null}\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SongPlay);","import React from 'react';\r\nimport style from \"./index.module.less\";\r\n\r\nexport default function Find(props) {\r\n    return (\r\n        <div className={style['find-container']}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport \"./index.less\";\r\n\r\nexport default function index(props) {\r\n    return (\r\n        <div className=\"user-container\">\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n","import { useEffect } from 'react';\r\nimport NProgress from 'nprogress';\r\nimport 'nprogress/nprogress.css';\r\nimport \"./index.less\";\r\n\r\n/**\r\n * 路由跳转的进度条\r\n * @returns \r\n */\r\nexport default function index() {\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0); // 滚动到顶部\r\n        NProgress.start();\r\n        return () => {\r\n            NProgress.done();\r\n        }\r\n    }, [])\r\n\r\n    return null;\r\n}\r\n","import React, { lazy, Suspense } from \"react\";\r\nimport { Switch, HashRouter as Router, Route, Redirect } from \"react-router-dom\"\r\nimport \"./app.less\";\r\nimport { Layout, BackTop } from '@douyinfe/semi-ui';\r\nimport CommonHeader from \"./components/CommonHeader\";\r\nimport CommonFooter from \"./components/CommonFooter\";\r\nimport SongPlay from \"./components/SongPlay\";\r\nimport Find from \"./pages/Find\";\r\nimport User from \"./pages/User\"\r\nimport Spinner from \"@/components/Spinner\";\r\n\r\nconst Index = lazy(() => import(\"./pages/Index\"));\r\nconst Search = lazy(() => import(\"./pages/Search\"));\r\nconst PlayList = lazy(() => import(\"./pages/Find/modules/PlayList\"));\r\nconst Friend = lazy(() => import(\"./pages/Friend\"));\r\n\r\nconst UserHome = lazy(() => import(\"./pages/User/modules/user-home/UserHome\"));\r\nconst UserUpdate = lazy(() => import(\"./pages/User/modules/user-update/UserUpdate\"));\r\nconst UserEvent = lazy(() => import(\"./pages/User/modules/user-event/UserEvent\"));\r\n\r\nconst PlaylistDetail = lazy(() => import(\"./pages/Find/modules/playListDetail/PlaylistDetail.jsx\"));\r\nconst SongDetail = lazy(() => import(\"./pages/Song/SongDetail\"));\r\nconst ArtistDetail = lazy(() => import(\"./pages/Artist/ArtistDetail\"));\r\nconst AlbumDetail = lazy(() => import(\"./pages/Album/AlbumDetail\"));\r\nconst MvDetail = lazy(() => import(\"./pages/Mv/MvDetail\"));\r\nconst TopList = lazy(() => import(\"./pages/Find/modules/topList/TopList\"));\r\nconst Dj = lazy(() => import(\"./pages/Find/modules/Dj/DjRadio/Dj\"));\r\nconst CatDetail = lazy(() => import(\"./pages/Find/modules/Dj/CatDetail/CatDetail\"));\r\nconst DJRank = lazy(() => import(\"./pages/Find/modules/Dj/DjRank/DJRank\"));\r\nconst DJRecommend = lazy(() => import(\"./pages/Find/modules/Dj/DjRecommend/DJRecommend\"));\r\nconst Program = lazy(() => import(\"./pages/Find/modules/Dj/Program/Program\"));\r\nconst DjDetail = lazy(() => import(\"./pages/Find/modules/Dj/DjDetail/DjDetail\"));\r\nconst AlbumList = lazy(() => import(\"./pages/Album/AlbumList\"));\r\nconst SingerCat = lazy(() => import(\"./pages/Find/modules/Singers/SingerCat\"));\r\nconst Download = lazy(() => import(\"./pages/Other/Download\"));\r\nconst Mall = lazy(() => import(\"./pages/Other/Mall\"));\r\nconst Musician = lazy(() => import(\"./pages/Other/Musician\"));\r\nconst MyMusic = lazy(() => import(\"./pages/Other/MyMusic\"));\r\nconst NotFound = lazy(() => import(\"./pages/NotFound\"));\r\n\r\nfunction App() {\r\n    const { Header, Footer, Content } = Layout;\r\n    return (\r\n        <Router>\r\n            <Suspense fallback={<Spinner />}>\r\n                <Layout className=\"components-layout-demo\">\r\n                    <Header>\r\n                        <CommonHeader />\r\n                    </Header>\r\n                    <Content>\r\n                        <Switch>\r\n                            <Route exact path=\"/\">\r\n                                <Redirect to=\"/find\" />\r\n                            </Route>\r\n                            <Route path=\"/find\" render={() => (\r\n                                <Find>\r\n                                    <Route exact path=\"/find\" component={Index}></Route>\r\n                                    <Route exact path=\"/find/playlist\" component={PlayList}></Route>\r\n                                    <Route exact path=\"/find/playlist/detail\" component={PlaylistDetail}></Route>\r\n                                    <Route exact path=\"/find/toplist\" component={TopList}></Route>\r\n                                    <Route path=\"/find/djradio\" render={() => (\r\n                                        <>\r\n                                            <Route exact path=\"/find/djradio\" component={Dj}></Route>\r\n                                            <Route exact path=\"/find/djradio/category\" component={CatDetail}></Route>\r\n                                            <Route exact path=\"/find/djradio/recommend\" component={DJRecommend}></Route>\r\n                                            <Route exact path=\"/find/djradio/rank\" component={DJRank}></Route>\r\n                                            <Route exact path=\"/find/djradio/program\" component={Program}></Route>\r\n                                            <Route exact path=\"/find/djradio/detail\" component={DjDetail}></Route>\r\n                                        </>\r\n                                    )}></Route>\r\n                                    <Route exact path=\"/find/song\" component={SongDetail}></Route>\r\n                                    <Route exact path=\"/find/artist\" component={ArtistDetail}></Route>\r\n                                    <Route exact path=\"/find/album\" component={AlbumDetail}></Route>\r\n                                    <Route exact path=\"/find/album/list\" component={AlbumList}></Route>\r\n                                    <Route exact path=\"/find/mv\" component={MvDetail}></Route>\r\n                                    <Route exact path=\"/find/singers/cat\" component={SingerCat}></Route>\r\n                                </Find>\r\n                            )}>\r\n                            </Route>\r\n                            <Route exact path=\"/mymusic\" component={MyMusic}></Route>\r\n                            <Route exact path=\"/friend\" component={Friend}></Route>\r\n                            <Route exact path=\"/mall\" component={Mall}></Route>\r\n                            <Route exact path=\"/musician\" component={Musician}></Route>\r\n                            <Route exact path=\"/download\" component={Download}></Route>\r\n                            <Route exact path=\"/search\" component={Search}></Route>\r\n                            <Route path=\"/user\" render={() => (\r\n                                <User>\r\n                                    <Route exact path=\"/user/home\" component={UserHome} ></Route>\r\n                                    <Route exact path=\"/user/update\" component={UserUpdate} ></Route>\r\n                                    <Route exact path=\"/user/event\" component={UserEvent} ></Route>\r\n                                </User>\r\n                            )}></Route>\r\n                            <Route component={NotFound}></Route>\r\n                        </Switch>\r\n                    </Content>\r\n                    <Footer><CommonFooter /></Footer>\r\n                    <BackTop style={{ bottom: 100 }} />\r\n                    <SongPlay />\r\n                </Layout>\r\n            </Suspense>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n\r\n","import { ADDUSER, DELUSER } from \"../actions/user\";\r\n\r\nconst user = JSON.parse(localStorage.getItem('user')) || null;\r\nconst initialState = user;\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = initialState, { type, payload }) => {\r\n    switch (type) {\r\n    case ADDUSER:\r\n        return payload;\r\n    case DELUSER:\r\n        return null;\r\n    default:\r\n        return state\r\n    }\r\n}\r\n","import { ADDSONG, DELETEALLSONG, DELETEONESONG, ADDSONGLIST } from \"../actions/song\";\r\nimport utils from \"@/utils\";\r\nconst song = JSON.parse(localStorage.getItem(\"songs\")) || [];\r\nconst initialState = song;\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = initialState, { type, payload }) => {\r\n    switch (type) {\r\n        case ADDSONG:\r\n            let songs = utils.unique([...state, ...payload]);\r\n            localStorage.setItem(\"songs\", JSON.stringify(songs));\r\n            return songs;\r\n        case ADDSONGLIST:\r\n            localStorage.setItem(\"songs\", JSON.stringify(payload));\r\n            return payload;\r\n        case DELETEONESONG:\r\n            let list = state.filter(song => song.id !== payload)\r\n            localStorage.setItem(\"songs\", JSON.stringify(list));\r\n            return list;\r\n        case DELETEALLSONG:\r\n            localStorage.setItem(\"songs\", JSON.stringify([]));\r\n            return [];\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import { SETSONGID } from \"../actions/curSongId\";\r\n\r\n\r\nconst curSongId = JSON.parse(localStorage.getItem('cur-song-id')) || null;\r\nconst initialState = curSongId;\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = initialState, { type, payload }) => {\r\n    switch (type) {\r\n        case SETSONGID:\r\n            localStorage.setItem('cur-song-id', JSON.stringify(payload));\r\n            const audio = document.getElementById(\"my-audio\");\r\n            if (audio) {\r\n                audio.autoplay = true;\r\n            }\r\n            return payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { SETVOLUMNANDTYPE } from \"../actions/volumn\";\r\n\r\nconst volAndType = JSON.parse(localStorage.getItem('set')) || {\r\n    vol: 1,\r\n    type: 0\r\n};\r\nconst initialState = volAndType;\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = initialState, { type, payload }) => {\r\n    switch (type) {\r\n        case SETVOLUMNANDTYPE:\r\n            let obj = { ...state, ...payload };\r\n            localStorage.setItem(\"set\", JSON.stringify(obj))\r\n            return obj;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { createStore, combineReducers } from \"redux\";\r\n\r\nimport user from \"./reducers/user\";\r\nimport songs from \"./reducers/song\";\r\nimport curSongId from \"./reducers/curSong\";\r\nimport volAndType from \"./reducers/volumn\";\r\n\r\nconst rootReducer = combineReducers({\r\n    user,\r\n    songs,\r\n    curSongId,\r\n    volAndType,\r\n});\r\n\r\nconst store = createStore(rootReducer);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'reset-css';\r\nimport App from './App';\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\n\r\nReactDOM.render(\r\n    //   <React.StrictMode>\r\n    <Provider store={store}><App /></Provider>\r\n    ,\r\n    //   </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n","export const ADDUSER = Symbol(\"add-user\");\r\nexport const DELUSER = Symbol(\"del-user\");\r\n\r\n// 刷线用户信息\r\nexport function addUserAction(user) {\r\n    return {\r\n        type: ADDUSER,\r\n        payload: user\r\n    }\r\n};\r\n\r\n// 删除用户信息\r\nexport function delUserAction() {\r\n    return {\r\n        type: DELUSER\r\n    }\r\n}","import ins from \"./request\";\r\n\r\n/**\r\n * 接口统一规范，通过对象的方式传入\r\n */\r\n\r\n// 搜索\r\nexport async function search({ keywords = \"\", type = 1, limit = 20, offset = 0 }) {\r\n    const res = await ins.get(\"/search\", {\r\n        params: {\r\n            keywords,\r\n            type,\r\n            limit,\r\n            offset\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 手机号登录\r\nexport async function phoneLogin({ phone, password }) {\r\n    const res = await ins.get(\"/login/cellphone\", {\r\n        params: {\r\n            phone,\r\n            password\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 退出登录\r\nexport async function logout() {\r\n    const res = await ins.get(\"/logout\");\r\n    return res;\r\n}\r\n\r\n/**\r\n * offset, 第二页的话，offset是 1 * limit\r\n * @param {cat} param0 分类\r\n * @returns \r\n */\r\nexport async function getPlaylist({ cat = \"\", limit = 20, offset, order = \"hot\" }) {\r\n    const res = await ins.get(\"/top/playlist\", {\r\n        params: {\r\n            cat,\r\n            limit,\r\n            offset,\r\n            order,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n/**\r\n * 朋友\r\n * offset, 第二页的话，offset是 1 * limit\r\n * limit 页容量\r\n */\r\nexport async function getFriend({ offset = \"0\", limit = 20 }) {\r\n    const res = await ins.get(\"/event/list\", {\r\n        params: {\r\n            offset,\r\n            limit\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n/**\r\n * 网友 歌单类型列表\r\n */\r\nexport async function getPlayListCat() {\r\n    const res = await ins.get(\"/playlist/catlist\",);\r\n    return res;\r\n};\r\n\r\n// 获取用户信息,传userId\r\nexport async function getUserDetail({ uid, timestamp }) {\r\n    const res = await ins.get('/user/detail', {\r\n        params: {\r\n            uid,\r\n            timestamp,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 可以获取用户等级信息,包含当前登录天数,听歌次数,下一等级需要的登录天数和听歌次数,\r\nexport async function getUserLevel() {\r\n    const res = await ins.get(\"/user/level\", {\r\n        params: {\r\n\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取用户的播放记录 type = 1 weekData, type = 2 allData\r\nexport async function getUserRecord({ uid, type = 1 }) {\r\n    const res = await ins.get(\"/user/record\", {\r\n        params: {\r\n            uid,\r\n            type,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n//获取用户歌单\r\nexport async function getUserPlayList({ uid, offset = 0, limit = 30 }) {\r\n    const res = await ins.get(\"/user/playlist\", {\r\n        params: {\r\n            uid,\r\n            limit,\r\n            offset,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n/**\r\n * gender: 性别 0:保密 1:男性 2:女性\r\n * birthday: 出生日期,时间戳 unix timestamp\r\n * nickname: 用户昵称\r\n * province: 省份id\r\n * city: 城市id\r\n * signature：用户签名\r\n */\r\nexport async function updateUserInfo({ gender, birthday, nickname, province, city, signature }) {\r\n    const res = await ins.get(\"/user/update\", {\r\n        params: {\r\n            gender, birthday, nickname, province, city, signature\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 刷新登录\r\nexport async function loginRefresh() {\r\n    const res = await ins.get(\"/login/refresh\");\r\n    return res;\r\n};\r\n\r\n// 获取用户绑定信息\r\nexport async function getUserBindInfo({ uid }) {\r\n    const res = await ins.get(\"/user/binding\", {\r\n        params: {\r\n            uid\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌曲播放链接\r\nexport async function getMusicPlayUrl({ id }) {\r\n    // const res = await ins.get(\"/song/url\", {\r\n    //     params: {\r\n    //         id: id + '.mp3',\r\n    //     }\r\n    // });\r\n    const res = await getSongDetail({ ids: id });\r\n    let song;\r\n    if (res.code === 200) {\r\n        song = res.songs[0];\r\n    }\r\n\r\n    let url = \"https://music.163.com/song/media/outer/url?id=\"\r\n    return { code: 200, data: [{ id, url: `${url}${id}.mp3`, song }] };\r\n};\r\n\r\n// 获取歌曲下载url\r\nexport async function getSongUrl({ id }) {\r\n    const res = await ins.get(\"/song/download/url\", {\r\n        params: { id }\r\n    });\r\n    return res;\r\n}\r\n\r\n// 检查歌曲是否可以播放\r\nexport async function checkMusic({ id }) {\r\n    const res = await ins.get(\"/check/music\", {\r\n        params: {\r\n            id\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌单详情\r\nexport async function getPlayListDetail({ id }) {\r\n    const res = await ins.get(\"/playlist/detail\", {\r\n        params: {\r\n            id\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n//  获取热门歌单\r\nexport async function getHotPlayList() {\r\n    const res = await ins.get(\"/playlist/hot\");\r\n    return res;\r\n};\r\n\r\n// 歌单评论列表\r\nexport async function getPlayListCommit({ id, limit, offset, timestamp }) {\r\n    const res = await ins.get(\"/comment/playlist\", {\r\n        params: {\r\n            id, limit, offset, timestamp\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌曲详情\r\nexport async function getSongDetail({ ids }) {\r\n    const res = await ins.get(\"/song/detail\", {\r\n        params: { ids }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌词\r\nexport async function getLyric({ id }) {\r\n    const res = await ins.get(\"/lyric\", {\r\n        params: {\r\n            id\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取相似歌单（包含此歌曲的歌单)\r\nexport async function getSimiPlayList({ id }) {\r\n    const res = await ins.get(\"/simi/playlist\", {\r\n        params: {\r\n            id\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取相似音乐\r\nexport async function getSimiSong({ id }) {\r\n    const res = await ins.get(\"/simi/song\", {\r\n        params: {\r\n            id,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌曲评论\r\nexport async function getSongComment({ id, limit, offset, timestamp }) {\r\n    const res = await ins.get(\"/comment/music\", {\r\n        params: {\r\n            id, limit, offset, timestamp\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌手详情\r\nexport async function getArtistDetail({ id }) {\r\n    const res = await ins.get(\"/artist/detail\", {\r\n        params: {\r\n            id,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取相似歌手\r\nexport async function getSimiArtist({ id }) {\r\n    const res = await ins.get(\"/simi/artist\", {\r\n        params: {\r\n            id,\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌手热门作品已经歌手部分信息\r\nexport async function getArtistSongs({ id }) {\r\n    const res = await ins.get(\"/artists\", {\r\n        params: { id }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌手专辑\r\nexport async function getArtistAlbums({ id, limit, offset }) {\r\n    const res = await ins.get(\"/artist/album\", {\r\n        params: { id, limit, offset }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌手mv\r\nexport async function getArtistMv({ id, limit, offset }) {\r\n    const res = await ins.get(\"/artist/mv\", {\r\n        params: {\r\n            id, limit, offset\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取歌手描述\r\nexport async function getArtistDesc({ id }) {\r\n    const res = await ins.get(\"/artist/desc\", {\r\n        params: { id }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取专辑内容\r\nexport async function getAlbum({ id }) {\r\n    const res = await ins.get(\"/album\", {\r\n        params: { id }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取专辑评论\r\nexport async function getAlbumCommit({ id, limit, offset, timestamp }) {\r\n    const res = await ins.get(\"/comment/album\", {\r\n        params: { id, limit, offset, timestamp }\r\n    });\r\n    return res;\r\n};\r\n\r\n// \r\nexport async function getAlbumDynamic({ id }) {\r\n    const res = await ins.get(\"/album/detail/dynamic\", {\r\n        params: { id }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取banner数据\r\nexport async function getBanner() {\r\n    const res = await ins.get(\"/banner\");\r\n    return res;\r\n};\r\n\r\n// 获取推荐歌单\r\nexport async function getPersonalized({ limit }) {\r\n    const res = await ins.get(\"/personalized\", {\r\n        params: { limit }\r\n    });\r\n    return res;\r\n}\r\n\r\n// 获取每日推荐歌单\r\nexport async function getDayPlsyList() {\r\n    const res = await ins.get(\"/recommend/resource\");\r\n    return res;\r\n};\r\n\r\n// 获取首页新碟上架数据\r\nexport async function getAlbumNewest() {\r\n    const res = await ins.get(\"/album/newest\");\r\n    return res;\r\n};\r\n\r\n// 签到\r\nexport async function userSignIn({ type }) {\r\n    const res = await ins.get(\"/daily_signin\", {\r\n        params: {\r\n            type\r\n        }\r\n    });\r\n    return res;\r\n};\r\n\r\n// 获取榜单内容摘要\r\nexport async function getTop() {\r\n    const res = await ins.get(\"/toplist/detail\");\r\n    return res;\r\n};\r\n\r\n","export const SETSONGID = Symbol(\"set-song-id\");\r\n\r\n// 添加一首歌播放\r\nexport function setCurSongIdAction(id) {\r\n    return {\r\n        type: SETSONGID,\r\n        payload: id\r\n    }\r\n}\r\n\r\n","import axios from \"axios\";\r\n\r\nconst ins = axios.create({\r\n    baseURL: \"https://music-2903474904-qqcom.vercel.app/\",\r\n    withCredentials: true,\r\n    timeout: 6000, // 毫秒\r\n});\r\n\r\nins.interceptors.response.use(res => {\r\n    if(res.status === 200) {\r\n        return Promise.resolve(res.data);\r\n    } else {\r\n        return Promise.reject(res);\r\n    }\r\n}, error => {\r\n    return Promise.reject(error);\r\n})\r\n\r\nexport default ins;","import React, {useState, useCallback} from 'react';\r\nimport { Modal, Button, Form, Row, Toast } from '@douyinfe/semi-ui';\r\nimport { phoneLogin } from \"../../services/apis\"\r\nimport { connect } from \"react-redux\";\r\nimport { addUserAction } from \"../../store/actions/user\";\r\nimport utils from '../../utils';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addUser: (...args) => dispatch(addUserAction(...args)),\r\n    }\r\n}\r\nfunction Login(props) {\r\n    const {addUser} = props;\r\n    const [phone, setPhone] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const closeModal = useCallback(\r\n        () => {\r\n            props.closeModal && props.closeModal(false);\r\n        },\r\n        [props],\r\n    );\r\n\r\n    const handleOk = useCallback(\r\n        async () => {\r\n            if(!phone || !password) {\r\n                return false;\r\n            }\r\n            const res = await phoneLogin({\r\n                phone,\r\n                password\r\n            });\r\n            console.log(res);\r\n            if(res.code === 200) {\r\n                Toast.success({\r\n                    content: `欢迎${res.profile.nickname}回家`,\r\n                    duration: 2,\r\n                })\r\n                closeModal();\r\n                addUser(res.profile);\r\n                localStorage.setItem('user', JSON.stringify(res.profile));\r\n                utils.setCookie('token', JSON.stringify(res.token));\r\n            } else {\r\n                Toast.error({\r\n                    content: res.msg,\r\n                    duration: 2\r\n                });\r\n            }\r\n        },\r\n        [password, phone],\r\n    );\r\n\r\n    const handlePassChange = (val) => {\r\n            setPassword(val)\r\n    };\r\n\r\n    const handlePhoneChange = (val) => {\r\n            setPhone(val)\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Modal\r\n                title=\"登录\"\r\n                visible={props.visible}\r\n                onOk={handleOk}\r\n                onCancel={closeModal}\r\n                centered\r\n                bodyStyle={{height: 200}}\r\n                footer={\r\n                    <>\r\n                        <Button type=\"tertiary\" onClick={closeModal}>取消</Button>\r\n                        <Button type=\"primary\" onClick={handleOk}>登录</Button>\r\n                    </>\r\n                }\r\n            >\r\n                <Form>\r\n                    <Row>\r\n                        <Form.Input\r\n                            field='phone'\r\n                            label=\"手机\"\r\n                            trigger='blur'\r\n                            onChange={handlePhoneChange}\r\n                            rules={[\r\n                                { required: true, message: \"请输入手机号\" },\r\n                            ]}\r\n                        />\r\n                    </Row>\r\n                    <Row>\r\n                        <Form.Input\r\n                            field='password'\r\n                            label=\"密码\"\r\n                            trigger='blur'\r\n                            mode=\"password\"\r\n                            onChange={handlePassChange}\r\n                            rules={[\r\n                                { required: true, message: \"请输入密码\" },\r\n                            ]}\r\n                        />\r\n                    </Row>\r\n                </Form>\r\n            </Modal>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"b-bottom\":\"index_b-bottom__1qqfe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"song-list-wrap\":\"songList_song-list-wrap__YyUdg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"find-container\":\"index_find-container__1VoGa\"};","import Cookie from \"js-cookie\";\r\nimport day from \"dayjs\";\r\n\r\nconst utils = {\r\n    /**\r\n     * 判断一个数是否是偶数\r\n     */\r\n    isEven(num) {\r\n        return (num % 2) === 0\r\n    },\r\n    /**\r\n     * 不足10补0\r\n     */\r\n    paddingLeft(num) {\r\n        return num < 10 ? \"0\" + num : num;\r\n    },\r\n    /**\r\n     * 给定毫秒数，转换为时分秒\r\n     */\r\n    formatTime(mss) {\r\n        var h = parseInt((mss / (1000 * 60 * 60)) % 60);\r\n        var m = parseInt((mss / (1000 * 60)) % 60);\r\n        var s = parseInt((mss / 1000) % 60);\r\n        return `${h > 0 ? this.paddingLeft(h) + ':' : ''}${m > 0 ? this.paddingLeft(m) + ':' : \"00:\"}${s > 0 ? this.paddingLeft(s) + '' : \"00\"}`;\r\n    },\r\n    // 对象数组去重\r\n    unique(arr) {\r\n        const res = new Map();\r\n        return arr.filter((arr) => !res.has(arr.id) && res.set(arr.id, 1))\r\n    },\r\n    // 根据type，得到文本类型\r\n    getTextByType(type) {\r\n        switch (type) {\r\n            case \"1\":\r\n                return \"单曲\";\r\n            case \"100\":\r\n                return \"歌手\";\r\n            case \"10\":\r\n                return \"专辑\";\r\n            case \"1014\":\r\n                return \"视频\";\r\n            case \"1006\":\r\n                return \"歌词\";\r\n            case \"1000\":\r\n                return \"歌单\";\r\n            case \"1009\":\r\n                return \"声音主播\";\r\n            case \"1002\":\r\n                return \"用户\";\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n    // 设置cookie\r\n    setCookie(key, value) {\r\n        Cookie.set(key, value);\r\n    },\r\n    // 获取cookie\r\n    getCookie(key) {\r\n        return Cookie.get(key);\r\n    },\r\n    formatDate(time) {\r\n        return day(time).format('YYYY-MM-DD')\r\n    },\r\n\r\n    /**\r\n     * 锚点滚动\r\n     */\r\n    goAnchor(selector) {\r\n        let dom = document.querySelector(selector);\r\n        let top = dom.offsetTop;\r\n        window.scrollTo(0, top);\r\n    },\r\n    // 对象数组去重，根据id\r\n    unique(arr) {\r\n        const res = new Map();\r\n        return arr.filter((arr) => !res.has(arr.id) && res.set(arr.id, 1))\r\n    },\r\n    // 获取给定范围的随机整数\r\n    getRandomIntNumber(min, max) {\r\n        return Math.floor(Math.random() * (max - min + 1) + min);\r\n    }\r\n};\r\n\r\nexport default utils;"],"sourceRoot":""}