(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[29],{1090:function(e,c,s){},1091:function(e,c,s){},1092:function(e,c,s){e.exports={"play-item-wrap":"playItem_play-item-wrap__1AazK"}},1160:function(e,c,s){"use strict";s.r(c);var n=s(15),t=s.n(n),a=s(23),i=s(19),r=s(1),l=s(50),j=(s(1090),s(1e3)),d=s.n(j),o=s(104),u=s(27),b=s(14),m=(s(1091),s(90)),O=s(42),p=s(105),x=s(106),h=s(165),f=s(5);var v=Object(p.b)((function(e){return{song:e.song}}),(function(e){return{addSong:function(){return e(x.e.apply(void 0,arguments))},setCurSongId:function(){return e(h.b.apply(void 0,arguments))}}}))((function(e){var c=e.record,s=e.index,n=e.addSong,i=e.showNum,r=e.setCurSongId,l=function(){var e=Object(a.a)(t.a.mark((function e(c){var s;return t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.m)({id:c});case 2:s=e.sent,r(c),200===s.code&&s.data[0].url&&n(s.data);case 5:case"end":return e.stop()}}),e)})));return function(c){return e.apply(this,arguments)}}();return Object(f.jsxs)("li",{className:m.a.isEven(s)?"record-item even":"record-item",children:[Object(f.jsxs)("div",{className:"hd",children:[Object(f.jsxs)("span",{className:"hd-index",children:[s,"."]}),Object(f.jsx)("i",{className:"icon-play",onClick:function(){l(c.song.id)}})]}),Object(f.jsxs)("div",{className:"singer",children:[Object(f.jsx)(O.b,{to:"/find/song?id="+c.song.id,className:"music-name",children:c.song.name}),Object(f.jsx)("span",{className:"divider",children:"-"}),Object(f.jsx)("span",{className:"singer-name",children:c.song.ar.map((function(e,c){return Object(f.jsx)(O.b,{className:"name",to:"/find/artist?id="+e.id,children:0===c?e.name:"/"+e.name},e.name)}))})]}),Object(f.jsxs)("div",{className:"operates",children:[Object(f.jsx)("i",{className:"icon icon-add"}),Object(f.jsx)("i",{className:"icon icon-fav"}),Object(f.jsx)("i",{className:"icon icon-share"}),Object(f.jsx)("i",{className:"icon icon-down"})]}),Object(f.jsxs)("div",{className:"tops",children:[Object(f.jsx)("span",{className:"bg",style:{width:"".concat(c.score,"%")}}),i?Object(f.jsxs)("span",{className:"text",children:[c.playCount,"\u6b21"]}):null]})]})})),N=s(1092),g=s.n(N),y=s(997),w=s.n(y),k=s(999);var C=Object(p.b)((function(e){return{curSongId:e.curSongId}}),(function(e){return{setCurSongId:function(){return e(h.b.apply(void 0,arguments))},addSongs:function(){return e(x.f.apply(void 0,arguments))}}}))((function(e){var c=Object(l.g)(),s=e.setCurSongId,n=e.addSongs,t=e.item;return Object(f.jsxs)("div",{className:g.a["play-item-wrap"],children:[Object(f.jsxs)("div",{className:"img-wrap",title:t.name,children:[Object(f.jsx)(O.b,{to:"/find/playlist/detail?id="+t.id,children:Object(f.jsxs)(w.a,{height:140,debounce:500,placeholder:Object(f.jsx)("img",{src:k.a}),children:[Object(f.jsx)("img",{src:t.coverImgUrl,alt:""}),Object(f.jsx)("span",{className:"mask"})]})}),Object(f.jsxs)("div",{className:"bottom",children:[Object(f.jsx)("i",{className:"icon-heard"}),Object(f.jsx)("i",{className:"icon-play",title:"\u64ad\u653e",onClick:function(){Object(o.q)({id:t.id}).then((function(e){if(200===e.code){u.y.success({content:"\u6210\u529f\u6dfb\u52a0\u6b4c\u5355\u5230\u64ad\u653e\u5217\u8868",duration:2});var c=e.playlist.tracks.map((function(e){return{id:e.id,url:"https://music.163.com/song/media/outer/url?id="+e.id+".mp3",song:e}}));n(c),s(c[0].id)}}))}}),Object(f.jsx)("span",{className:"play-nums",children:t.playCount>1e4?parseInt(t.playCount/1e4)+"\u4e07":t.playCount})]})]}),Object(f.jsx)("div",{className:"name",onClick:function(){c.push("/find/playlist/detail?id="+t.id)},children:t.name})]})}));c.default=Object(p.b)((function(e){return{user:e.user}}))((function(e){var c=e.user,s=Object(l.h)(),n=Object(l.g)(),j=+d.a.parse(s.search).uid,m=Object(r.useState)(null),O=Object(i.a)(m,2),p=O[0],x=O[1],h=Object(r.useState)(1),N=Object(i.a)(h,2),g=N[0],y=N[1],k=Object(r.useState)([]),I=Object(i.a)(k,2),S=I[0],E=I[1],F=Object(r.useState)([]),_=Object(i.a)(F,2),z=_[0],A=_[1],D=Object(r.useState)([]),J=Object(i.a)(D,2),K=J[0],U=J[1];return Object(r.useEffect)((function(){return Object(a.a)(t.a.mark((function e(){var c;return t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.z)({uid:j});case 2:200===(c=e.sent).code&&x(c);case 4:case"end":return e.stop()}}),e)})))(),function(){}}),[j]),Object(r.useEffect)((function(){return Object(a.a)(t.a.mark((function e(){var c;return t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.B)({uid:j,type:g});case 2:(c=e.sent)&&200===c.code?1===g?E(c.weekData):0===g&&E(c.allData):E([]);case 4:case"end":return e.stop()}}),e)})))(),function(){}}),[j,g]),Object(r.useEffect)((function(){return Object(a.a)(t.a.mark((function e(){var c,s,n;return t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.A)({uid:j});case 2:200===(c=e.sent).code&&(s=c.playlist.filter((function(e){return e.userId===j})),n=c.playlist.filter((function(e){return e.userId!==j})),A(s),U(n));case 4:case"end":return e.stop()}}),e)})))(),function(){}}),[j]),Object(f.jsxs)("div",{className:"user-home-container",children:[p?Object(f.jsxs)("div",{className:"user-info",children:[Object(f.jsx)("div",{className:"img",children:Object(f.jsx)(w.a,{children:Object(f.jsx)("img",{src:p.profile.avatarUrl,alt:""})})}),Object(f.jsxs)("div",{className:"info-content",children:[Object(f.jsxs)("div",{className:"name-wrap",children:[Object(f.jsx)("span",{className:"name",children:p.profile.nickname}),Object(f.jsxs)("span",{className:1===p.profile.gender?"level blue":"level pink",children:["LV. ",p.level," ",1===p.profile.gender?Object(f.jsx)(b.K,{}):Object(f.jsx)(b.y,{})]}),c&&c.userId===j?Object(f.jsx)(u.c,{type:"tertiary",onClick:function(){n.push("/user/update?uid=".concat(j))},children:"\u7f16\u8f91\u4e2a\u4eba\u8d44\u6599"}):Object(f.jsxs)("div",{className:"btns",children:[Object(f.jsx)(u.c,{icon:Object(f.jsx)(b.r,{}),type:"tertiary",children:"\u53d1\u79c1\u4fe1"}),Object(f.jsx)(u.c,{icon:Object(f.jsx)(b.O,{}),children:"\u5173\u6ce8"})]})]}),Object(f.jsxs)("div",{className:"user-nums",children:[Object(f.jsxs)("div",{className:"box",children:[Object(f.jsx)("span",{children:p.profile.eventCount}),Object(f.jsx)("span",{children:"\u52a8\u6001"})]}),Object(f.jsxs)("div",{className:"box",children:[Object(f.jsx)("span",{children:p.profile.follows}),Object(f.jsx)("span",{children:"\u5173\u6ce8"})]}),Object(f.jsxs)("div",{className:"box",children:[Object(f.jsx)("span",{children:p.profile.followeds}),Object(f.jsx)("span",{children:"\u7c89\u4e1d"})]})]}),Object(f.jsxs)("div",{className:"item",children:["\u4e2a\u4eba\u4ecb\u7ecd\uff1a",p.profile.signature]}),Object(f.jsxs)("div",{className:"item",children:["\u793e\u4ea4\u7f51\u7edc\uff1a",Object(f.jsx)(b.fb,{})]})]})]}):null,S&&S.length?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"record-header",children:[Object(f.jsx)("h3",{children:"\u542c\u6b4c\u6392\u884c"}),Object(f.jsxs)("h4",{children:["\u7d2f\u8ba1\u542c\u6b4c",S.length,"\u9996"]}),Object(f.jsx)(u.m,{content:Object(f.jsx)("div",{style:{padding:12},children:"\u5b9e\u9645\u64ad\u653e\u65f6\u95f4\u8fc7\u77ed\u7684\u6b4c\u66f2\u5c06\u4e0d\u7eb3\u5165\u8ba1\u7b97\u3002"}),children:Object(f.jsx)(b.G,{})}),Object(f.jsxs)("div",{className:"nav",children:[Object(f.jsx)("span",{className:1===g?"item active":"item",onClick:function(){y(1)},children:"\u6700\u8fd1\u4e00\u5468"}),Object(f.jsx)("span",{className:"line",children:"|"}),Object(f.jsx)("span",{className:0===g?"item active":"item",onClick:function(){y(0)},children:"\u6240\u6709\u65f6\u95f4"})]})]}),Object(f.jsx)("ul",{className:"record-list",children:S?S.slice(0,10).map((function(e,s){return Object(f.jsx)(v,{record:e,index:s+1,showNum:c.userId===j},e.song.id)})):null}),Object(f.jsxs)("div",{className:"more",children:["\u67e5\u770b\u66f4\u591a",Object(f.jsx)(b.m,{})]})]}):null,z&&z.length?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"playlist",children:[p?c&&c.userId===j?"\u6211":p.profile.nickname:null,"\u521b\u5efa\u7684\u6b4c\u5355",Object(f.jsx)("span",{className:"r"}),"\uff08",z.length,"\uff09"]}),Object(f.jsx)("div",{className:"list-wrap",children:z?z.map((function(e){return Object(f.jsx)(C,{item:e},e.id)})):null})]}):null,K&&K.length?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"playlist",children:[p?c&&c.userId===j?"\u6211":p.profile.nickname:null,"\u6536\u85cf\u7684\u6b4c\u5355",Object(f.jsx)("span",{className:"r"}),"\uff08",K.length,"\uff09"]}),Object(f.jsx)("div",{className:"list-wrap",children:K?K.map((function(e){return Object(f.jsx)(C,{item:e},e.id)})):null})]}):null]})}))},999:function(e,c,s){"use strict";c.a=s.p+"static/media/loading.4c0ea1e7.svg"}}]);
//# sourceMappingURL=29.35b8e6c8.chunk.js.map