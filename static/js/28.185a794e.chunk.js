(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[28],{1315:function(e,s,c){},1316:function(e,s,c){},1317:function(e,s,c){},1380:function(e,s,c){"use strict";c.r(s);var n=c(32),t=c(30),a=c(19),i=c.n(a),r=c(1),l=c(59),j=(c(1315),c(1213)),d=c.n(j),u=c(174),b=c(40),o=c(18),O=(c(1316),c(268)),m=c(90),x=c(107),h=c(269),p=c(15);var f=Object(x.b)((function(e){return{song:e.song}}),(function(e){return{addSong:function(){return e(h.b.apply(void 0,arguments))}}}))((function(e){var s=e.record,c=e.index,t=e.addSong,a=e.showNum,r=function(){var e=Object(n.a)(i.a.mark((function e(s){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.n)({id:s});case 2:200===(c=e.sent).code&&(t(c.data[0].url),localStorage.setItem("song_url",JSON.stringify(c.data[0].url)));case 4:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return Object(p.jsxs)("li",{className:O.a.isEven(c)?"record-item even":"record-item",children:[Object(p.jsxs)("div",{className:"hd",children:[Object(p.jsxs)("span",{className:"hd-index",children:[c,"."]}),Object(p.jsx)(o.R,{onClick:function(){r(s.song.id)}})]}),Object(p.jsxs)("div",{className:"singer",children:[Object(p.jsx)(m.b,{to:"/find/song?id="+s.song.id,className:"music-name",children:s.song.name}),Object(p.jsx)("span",{className:"divider",children:"-"}),Object(p.jsx)("span",{className:"singer-name",children:s.song.ar.map((function(e,s){return Object(p.jsx)(m.b,{className:"name",to:"/find/artist?id="+e.id,children:0===s?e.name:"/"+e.name},e.name)}))})]}),Object(p.jsxs)("div",{className:"operates",children:[Object(p.jsx)(o.S,{}),Object(p.jsx)(o.D,{}),Object(p.jsx)(o.F,{}),Object(p.jsx)(o.y,{})]}),Object(p.jsxs)("div",{className:"tops",children:[Object(p.jsx)("span",{className:"bg",style:{width:"".concat(s.score,"%")}}),a?Object(p.jsxs)("span",{className:"text",children:[s.playCount,"\u6b21"]}):null]})]})})),v=(c(1317),c(1210)),N=c.n(v);function g(e){var s=e.item,c=Object(l.g)();return Object(p.jsxs)("div",{className:"play-item-wrap",children:[Object(p.jsxs)("div",{className:"img-wrap",title:s.name,onClick:function(){c.push("/find/playlist/detail?id="+s.id)},children:[Object(p.jsx)(N.a,{children:Object(p.jsx)("img",{src:s.coverImgUrl,alt:""})}),Object(p.jsxs)("div",{className:"bottom",children:[Object(p.jsx)(o.v,{}),Object(p.jsx)("span",{className:"play-nums",children:s.playCount>1e4?parseInt(s.playCount/1e4)+"\u4e07":s.playCount}),Object(p.jsx)(o.R,{})]})]}),Object(p.jsx)("div",{className:"name",onClick:function(){c.push("/find/playlist/detail?id="+s.id)},children:s.name})]})}s.default=Object(x.b)((function(e){return{user:e.user}}))((function(e){var s=e.user,c=Object(l.h)(),a=Object(l.g)(),j=+d.a.parse(c.search).uid,O=Object(r.useState)(null),m=Object(t.a)(O,2),x=m[0],h=m[1],v=Object(r.useState)(1),y=Object(t.a)(v,2),w=y[0],k=y[1],C=Object(r.useState)([]),S=Object(t.a)(C,2),I=S[0],E=S[1],F=Object(r.useState)([]),D=Object(t.a)(F,2),J=D[0],B=D[1],R=Object(r.useState)([]),U=Object(t.a)(R,2),A=U[0],K=U[1];return Object(r.useEffect)((function(){return Object(n.a)(i.a.mark((function e(){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.A)({uid:j});case 2:200===(s=e.sent).code&&h(s);case 4:case"end":return e.stop()}}),e)})))(),function(){}}),[j]),Object(r.useEffect)((function(){return Object(n.a)(i.a.mark((function e(){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.C)({uid:j,type:w});case 2:(s=e.sent)&&200===s.code?1===w?E(s.weekData):0===w&&E(s.allData):E([]);case 4:case"end":return e.stop()}}),e)})))(),function(){}}),[j,w]),Object(r.useEffect)((function(){return Object(n.a)(i.a.mark((function e(){var s,c,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.B)({uid:j});case 2:200===(s=e.sent).code&&(c=s.playlist.filter((function(e){return e.userId===j})),n=s.playlist.filter((function(e){return e.userId!==j})),B(c),K(n));case 4:case"end":return e.stop()}}),e)})))(),function(){}}),[j]),Object(p.jsxs)("div",{className:"user-home-container",children:[x?Object(p.jsxs)("div",{className:"user-info",children:[Object(p.jsx)("div",{className:"img",children:Object(p.jsx)(N.a,{children:Object(p.jsx)("img",{src:x.profile.avatarUrl,alt:""})})}),Object(p.jsxs)("div",{className:"info-content",children:[Object(p.jsxs)("div",{className:"name-wrap",children:[Object(p.jsx)("span",{className:"name",children:x.profile.nickname}),Object(p.jsxs)("span",{className:1===x.profile.gender?"level blue":"level pink",children:["LV. ",x.level," ",1===x.profile.gender?Object(p.jsx)(o.O,{}):Object(p.jsx)(o.B,{})]}),s&&s.userId===j?Object(p.jsx)(b.c,{type:"tertiary",onClick:function(){a.push("/user/update?uid=".concat(j))},children:"\u7f16\u8f91\u4e2a\u4eba\u8d44\u6599"}):Object(p.jsxs)("div",{className:"btns",children:[Object(p.jsx)(b.c,{icon:Object(p.jsx)(o.r,{}),type:"tertiary",children:"\u53d1\u79c1\u4fe1"}),Object(p.jsx)(b.c,{icon:Object(p.jsx)(o.S,{}),children:"\u5173\u6ce8"})]})]}),Object(p.jsxs)("div",{className:"user-nums",children:[Object(p.jsxs)("div",{className:"box",children:[Object(p.jsx)("span",{children:x.profile.eventCount}),Object(p.jsx)("span",{children:"\u52a8\u6001"})]}),Object(p.jsxs)("div",{className:"box",children:[Object(p.jsx)("span",{children:x.profile.follows}),Object(p.jsx)("span",{children:"\u5173\u6ce8"})]}),Object(p.jsxs)("div",{className:"box",children:[Object(p.jsx)("span",{children:x.profile.followeds}),Object(p.jsx)("span",{children:"\u7c89\u4e1d"})]})]}),Object(p.jsxs)("div",{className:"item",children:["\u4e2a\u4eba\u4ecb\u7ecd\uff1a",x.profile.signature]}),Object(p.jsxs)("div",{className:"item",children:["\u793e\u4ea4\u7f51\u7edc\uff1a",Object(p.jsx)(o.jb,{})]})]})]}):null,I&&I.length?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"record-header",children:[Object(p.jsx)("h3",{children:"\u542c\u6b4c\u6392\u884c"}),Object(p.jsxs)("h4",{children:["\u7d2f\u8ba1\u542c\u6b4c",I.length,"\u9996"]}),Object(p.jsx)(b.l,{content:Object(p.jsx)("div",{style:{padding:12},children:"\u5b9e\u9645\u64ad\u653e\u65f6\u95f4\u8fc7\u77ed\u7684\u6b4c\u66f2\u5c06\u4e0d\u7eb3\u5165\u8ba1\u7b97\u3002"}),children:Object(p.jsx)(o.K,{})}),Object(p.jsxs)("div",{className:"nav",children:[Object(p.jsx)("span",{className:1===w?"item active":"item",onClick:function(){k(1)},children:"\u6700\u8fd1\u4e00\u5468"}),Object(p.jsx)("span",{className:"line",children:"|"}),Object(p.jsx)("span",{className:0===w?"item active":"item",onClick:function(){k(0)},children:"\u6240\u6709\u65f6\u95f4"})]})]}),Object(p.jsx)("ul",{className:"record-list",children:I?I.slice(0,10).map((function(e,c){return Object(p.jsx)(f,{record:e,index:c+1,showNum:s.userId===j},e.song.id)})):null}),Object(p.jsxs)("div",{className:"more",children:["\u67e5\u770b\u66f4\u591a",Object(p.jsx)(o.m,{})]})]}):null,J&&J.length?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"playlist",children:[x?s&&s.userId===j?"\u6211":x.profile.nickname:null,"\u521b\u5efa\u7684\u6b4c\u5355",Object(p.jsx)("span",{className:"r"}),"\uff08",J.length,"\uff09"]}),Object(p.jsx)("div",{className:"list-wrap",children:J?J.map((function(e){return Object(p.jsx)(g,{item:e},e.id)})):null})]}):null,A&&A.length?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"playlist",children:[x?s&&s.userId===j?"\u6211":x.profile.nickname:null,"\u6536\u85cf\u7684\u6b4c\u5355",Object(p.jsx)("span",{className:"r"}),"\uff08",A.length,"\uff09"]}),Object(p.jsx)("div",{className:"list-wrap",children:A?A.map((function(e){return Object(p.jsx)(g,{item:e},e.id)})):null})]}):null]})}))}}]);
//# sourceMappingURL=28.185a794e.chunk.js.map