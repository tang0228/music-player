(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[30],{1323:function(e,t,c){},1370:function(e,t,c){"use strict";c.r(t);var s=c(31),a=c(26),n=c(19),r=c.n(n),i=c(1),l=(c(1323),c(108)),j=c(43),u=c(132),b=c(128),d=c(8),o=[{text:"\u57fa\u672c\u8bbe\u7f6e",key:"1"},{text:"\u7ed1\u5b9a\u8bbe\u7f6e",key:"2"},{text:"\u9690\u79c1\u8bbe\u7f6e",key:"3"}];t.default=Object(l.b)((function(e){return{user:e.user}}),(function(e){return{addUser:function(){return e(b.c.apply(void 0,arguments))}}}))((function(e){var t=e.user,c=e.addUser,n=t.userId,l=Object(i.useState)(t.gender),b=Object(a.a)(l,2),O=b[0],x=b[1],h=Object(i.useState)(t.nickname),v=Object(a.a)(h,2),m=v[0],p=v[1],f=Object(i.useState)(t.birthday),N=Object(a.a)(f,2),y=N[0],g=N[1],k=Object(i.useState)(t.signature),w=Object(a.a)(k,2),C=w[0],S=w[1],J=Object(i.useCallback)((function(e,t){var c=new Date(t).getTime();g(c)}),[]),U=Object(i.useCallback)(Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.E)({gender:O,nickname:m,birthday:y,signature:C,city:330100,province:33e4});case 2:if(200!==e.sent.code){e.next=9;break}return j.x.success({content:"\u4fdd\u5b58\u6210\u529f",duration:2}),e.next=7,Object(u.y)({uid:n});case 7:200===(t=e.sent).code&&(c(t.profile),localStorage.setItem("user",JSON.stringify(t.profile)));case 9:case"end":return e.stop()}}),e)}))),[O,m,y,C,n]),I=o.map((function(e){return Object(d.jsx)(j.t,{tab:e.text,itemKey:e.key},e.key)}));return Object(d.jsxs)("div",{className:"user-update-container",children:[Object(d.jsx)("h2",{className:"title",children:"\u4e2a\u4eba\u8bbe\u7f6e"}),Object(d.jsx)("div",{className:"user-tabs",children:Object(d.jsx)(j.u,{type:"card",defaultActiveKey:"1",children:I})}),Object(d.jsxs)("div",{className:"user-box",children:[Object(d.jsxs)("div",{className:"update-wrap",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"label",children:"\u6635\u79f0:"}),Object(d.jsx)(j.h,{value:m,onChange:function(e){p(e)}})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"label",children:"\u4ecb\u7ecd:"}),Object(d.jsx)(j.w,{value:C,maxCount:300,showCounter:!0,onChange:function(e){S(e)}})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"label",children:"\u6027\u522b:"}),Object(d.jsxs)(j.o,{value:O,onChange:function(e){x(e.target.value)},children:[Object(d.jsx)(j.n,{value:1,children:"\u7537"}),Object(d.jsx)(j.n,{value:2,children:"\u5973"}),Object(d.jsx)(j.n,{value:0,children:"\u4fdd\u5bc6"})]})]}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("span",{className:"label",children:"\u751f\u65e5:"}),Object(d.jsx)(j.d,{value:y,onChange:J,showClear:!1})]}),Object(d.jsx)("div",{className:"btn-wrap",children:Object(d.jsx)(j.c,{onClick:U,children:"\u4fdd\u5b58"})})]}),Object(d.jsxs)("div",{className:"user-avatar",children:[Object(d.jsx)("img",{src:t.avatarUrl,alt:""}),Object(d.jsx)("span",{className:"bg",children:"\u66f4\u6362\u5934\u50cf"})]})]})]})}))}}]);
//# sourceMappingURL=30.37a5594c.chunk.js.map