(this["webpackJsonpmusic-player"]=this["webpackJsonpmusic-player"]||[]).push([[16],{1216:function(e,t,n){"use strict";t.a=n.p+"static/media/loading.4c0ea1e7.svg"},1250:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var c=[{text:"\u5355\u66f2",key:"1"},{text:"\u6b4c\u624b",key:"100"},{text:"\u4e13\u8f91",key:"10"},{text:"\u89c6\u9891",key:"1014"},{text:"\u6b4c\u8bcd",key:"1006"},{text:"\u6b4c\u5355",key:"1000"},{text:"\u58f0\u97f3\u4e3b\u64ad",key:"1009"},{text:"\u7528\u6237",key:"1002"}],a=[{text:"\u70ed\u95e8\u4f5c\u54c1",key:"song"},{text:"\u6240\u6709\u4e13\u8f91",key:"album"},{text:"\u76f8\u5173MV",key:"mv"},{text:"\u827a\u4eba\u4ecb\u7ecd",key:"desc"}]},1329:function(e,t,n){e.exports={"artist-detail":"index_artist-detail__1R4Lk"}},1330:function(e,t,n){e.exports={"detail-left":"detailLeft_detail-left__1-ck1"}},1331:function(e,t,n){e.exports={"desc-wrap":"desc_desc-wrap__1PyAG"}},1332:function(e,t,n){e.exports={"songs-wrap":"songs_songs-wrap__2Dxc4"}},1333:function(e,t,n){e.exports={"mvs-wrap":"mvs_mvs-wrap__3X2JJ"}},1334:function(e,t,n){e.exports={"albums-wrap":"albums_albums-wrap__3k9_S"}},1335:function(e,t,n){e.exports={"detail-right":"detailRight_detail-right__vBdPD"}},1379:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return G}));var c=n(1),a=n(1329),s=n.n(a),i=n(59),r=n(1217),l=n.n(r),d=n(32),j=n(27),o=n(19),u=n.n(o),b=n(1330),m=n.n(b),x=n(43),O=n(1250),h=n(132),f=n(1331),p=n.n(f),v=n(1246),g=n(10);function N(e){var t=e.desc,n=e.intro,c=e.name;return Object(g.jsx)(g.Fragment,{children:t?Object(g.jsxs)("div",{className:p.a["desc-wrap"],children:[Object(g.jsxs)("h2",{children:[Object(g.jsx)("i",{}),c,"\u7b80\u4ecb"]}),Object(g.jsx)("p",{className:"desc",children:t}),n.map((function(e,t){return Object(g.jsxs)("div",{className:"intro-item",children:[Object(g.jsx)("h2",{children:e.ti}),Object(g.jsx)("p",{className:"txt desc",children:e.txt})]},t)}))]}):Object(g.jsx)(x.f,{image:Object(g.jsx)(v.IllustrationConstruction,{style:{width:150,height:150}}),darkModeImage:Object(g.jsx)(v.IllustrationConstructionDark,{style:{width:150,height:150}}),description:"\u4fe1\u606f\u4e22\u5931",style:{padding:30}})})}var k=n(1332),y=n.n(k),w=n(18),S=n(91),C=n(62),_=n(108),I=n(109),z=n(178),D=[{value:"1",label:"\u70ed\u95e8\u5355\u66f2",otherKey:0},{value:"2",label:"\u4f5c\u8bcd\u4f5c\u54c1",disabled:!0,otherKey:1},{value:"3",label:"\u4f5c\u66f2\u4f5c\u54c1",disabled:!0,otherKey:2}];var P=Object(_.b)((function(e){return{song:e.song}}),(function(e){return{addSong:function(){return e(I.e.apply(void 0,arguments))},setCurSongId:function(){return e(z.b.apply(void 0,arguments))}}}))((function(e){var t=e.songs,n=e.addSong,c=e.setCurSongId,a=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.l)({id:t});case 2:a=e.sent,c(t),200===a.code&&a.data[0].url?n(a.data):x.x.error({content:"\u65e0\u6743\u9650",duration:2});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:y.a["songs-wrap"],children:[Object(g.jsxs)("div",{className:"songs-header",children:[Object(g.jsx)("div",{className:"btns",children:Object(g.jsxs)(x.r,{children:[Object(g.jsx)(x.c,{icon:Object(g.jsx)(w.Q,{}),children:"\u64ad\u653e"}),Object(g.jsx)(x.c,{icon:Object(g.jsx)(w.R,{})}),Object(g.jsxs)(x.c,{type:"tertiary",icon:Object(g.jsx)(w.t,{}),children:["\u6536\u85cf\u70ed\u95e8",t.length]})]})}),Object(g.jsx)("div",{className:"select",children:Object(g.jsx)(x.q,{placeholder:"\u8bf7\u9009\u62e9",style:{width:102,fontSize:"12px"},optionList:D})})]}),Object(g.jsx)("ul",{className:"songs-list",children:t.map((function(e,t){return Object(g.jsxs)("li",{className:S.a.isEven(t)?"item even":"item",children:[Object(g.jsxs)("div",{className:"li-index",children:[Object(g.jsx)("span",{className:"index",children:t+1}),Object(g.jsx)(w.Q,{onClick:function(){a(e.id)}})]}),Object(g.jsxs)("div",{className:"name",children:[Object(g.jsx)(C.b,{to:"/find/song?id="+e.id,className:"singer-name",children:e.name}),e.alia&&e.alia.length?Object(g.jsxs)("span",{className:"mv-name",children:["-",e.alia.map((function(e){return e}))]}):null,e.mv?Object(g.jsx)(C.b,{className:"mv-play",to:"/find/mv?id="+e.mv,children:Object(g.jsx)(w.hb,{})}):null]}),Object(g.jsxs)("div",{className:"option",children:[Object(g.jsx)("span",{className:"dt",children:S.a.formatTime(e.dt)}),Object(g.jsxs)("div",{className:"btns",children:[Object(g.jsx)(w.R,{}),Object(g.jsx)(w.C,{}),Object(g.jsx)(w.E,{}),Object(g.jsx)(w.x,{})]})]}),Object(g.jsx)(C.b,{to:"/find/album?id="+e.al.id,className:"album",children:e.al.name})]},e.id)}))})]})})),E=n(1333),M=n.n(E),F=n(1214),J=n.n(F),K=n(1216);function Q(e){var t=e.total,n=e.id,a=Object(c.useState)(12),s=Object(j.a)(a,2),i=s[0],r=s[1],l=Object(c.useState)(1),o=Object(j.a)(l,2),b=o[0],m=o[1],O=Object(c.useState)([]),f=Object(j.a)(O,2),p=f[0],N=f[1],k=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.f)({id:n,limit:i,offset:(b-1)*i});case 2:200===(t=e.sent).code&&N(t.mvs);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){return Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:case"end":return e.stop()}}),e)})))(),function(){}}),[n,i,b]);var y=Object(c.useCallback)((function(e){m(e)}),[]),S=Object(c.useCallback)((function(e){r(e)}),[]);return Object(g.jsx)(g.Fragment,{children:p?Object(g.jsxs)("div",{className:M.a["mvs-wrap"],children:[Object(g.jsx)("div",{className:"mv-content",children:p.map((function(e){return Object(g.jsxs)("div",{className:"mv-item",children:[Object(g.jsxs)("div",{className:"img-wrap",children:[Object(g.jsx)(J.a,{height:120,debounce:500,placeholder:Object(g.jsx)("img",{src:K.a,width:"100%",height:"100%"}),children:Object(g.jsx)("img",{src:e.imgurl,alt:""})}),Object(g.jsx)(C.b,{className:"mask",to:"/find/mv?id="+e.id}),Object(g.jsx)(C.b,{className:"play",to:"/find/mv?id="+e.id,children:Object(g.jsx)(w.Q,{size:"extra-large"})})]}),Object(g.jsx)(C.b,{to:"/find/mv?id="+e.id,className:"name",children:e.name})]},e.id)}))}),Object(g.jsx)("div",{className:"pagination-ontainer",children:Object(g.jsx)(x.k,{total:t,currentPage:b,onPageChange:y,pageSize:i,onPageSizeChange:S})})]}):Object(g.jsx)(x.f,{image:Object(g.jsx)(v.IllustrationConstruction,{style:{width:150,height:150}}),darkModeImage:Object(g.jsx)(v.IllustrationConstructionDark,{style:{width:150,height:150}}),description:"\u4fe1\u606f\u4e22\u5931",style:{padding:30}})})}var R=n(1334),L=n.n(R);var U=Object(_.b)((function(e){return{curSongId:e.curSongId}}),(function(e){return{setCurSongId:function(){return e(z.b.apply(void 0,arguments))},addSongs:function(){return e(I.f.apply(void 0,arguments))}}}))((function(e){var t=e.total,n=e.id,a=e.setCurSongId,s=e.addSongs,i=Object(c.useState)([]),r=Object(j.a)(i,2),l=r[0],o=r[1],b=Object(c.useState)(12),m=Object(j.a)(b,2),O=m[0],f=m[1],p=Object(c.useState)(1),N=Object(j.a)(p,2),k=N[0],y=N[1],_=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.d)({id:n,limit:O,offset:(k-1)*O});case 2:200===(t=e.sent).code&&o(t.hotAlbums);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){return Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:case"end":return e.stop()}}),e)})))(),function(){}}),[n,O,k]);var I=Object(c.useCallback)((function(e){y(e)}),[]),z=Object(c.useCallback)((function(e){f(e)}),[]),D=function(e){Object(h.a)({id:e}).then((function(e){if(200===e.code){x.x.success({content:"\u6210\u529f\u6dfb\u52a0\u65b0\u789f\u5230\u64ad\u653e\u5217\u8868",duration:2});var t=e.songs.map((function(e){return{id:e.id,url:"https://music.163.com/song/media/outer/url?id="+e.id+".mp3",song:e}}));s(t),a(t[0].id)}}))};return Object(g.jsx)(g.Fragment,{children:l?Object(g.jsxs)("div",{className:L.a["albums-wrap"],children:[Object(g.jsx)("div",{className:"album-content",children:l.map((function(e){return Object(g.jsxs)("div",{className:"album-item",children:[Object(g.jsxs)("div",{className:"img-wrap",children:[Object(g.jsxs)(J.a,{height:120,debounce:500,placeholder:Object(g.jsx)("img",{src:K.a,width:"100%",height:"100%"}),children:[Object(g.jsx)("img",{src:e.picUrl,alt:""}),Object(g.jsx)(C.b,{className:"mask",to:"/find/album?id="+e.id})]}),Object(g.jsx)("span",{className:"play",children:Object(g.jsx)(w.Q,{size:"extra-large",onClick:D.bind(null,e.id)})})]}),Object(g.jsx)(C.b,{to:"/find/album?id="+e.id,className:"name",children:e.name}),Object(g.jsx)("div",{className:"time",children:S.a.formatDate(e.publishTime)})]},e.id)}))}),Object(g.jsx)("div",{className:"pagination-ontainer",children:Object(g.jsx)(x.k,{total:t,currentPage:k,onPageChange:I,pageSize:O,onPageSizeChange:z})})]}):Object(g.jsx)(x.f,{image:Object(g.jsx)(v.IllustrationConstruction,{style:{width:150,height:150}}),darkModeImage:Object(g.jsx)(v.IllustrationConstructionDark,{style:{width:150,height:150}}),description:"\u4fe1\u606f\u4e22\u5931",style:{padding:30}})})}));function A(e){var t=e.id,n=Object(c.useState)("song"),a=Object(j.a)(n,2),s=a[0],i=a[1],r=Object(c.useState)(null),l=Object(j.a)(r,2),o=l[0],b=l[1],f=Object(c.useState)([]),p=Object(j.a)(f,2),k=p[0],y=p[1],w=Object(c.useState)(""),S=Object(j.a)(w,2),C=S[0],_=S[1],I=Object(c.useState)([]),z=Object(j.a)(I,2),D=z[0],E=z[1],M=function(){var e=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.g)({id:t});case 2:200===(n=e.sent).code&&(b(n.artist),y(n.hotSongs));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.e)({id:t});case 2:200===(n=e.sent).code&&(_(n.briefDesc),E(n.introduction));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){return Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:e.t0=s,e.next="desc"===e.t0?5:8;break;case 5:return e.next=7,F();case 7:case 8:return e.abrupt("break",9);case 9:case"end":return e.stop()}}),e)})))(),function(){}}),[s,t]);var J=Object(c.useCallback)((function(e){i(e)}),[]),K=O.a.map((function(e){return Object(g.jsx)(x.t,{tab:e.text,itemKey:e.key},e.key)}));return Object(g.jsx)(g.Fragment,{children:o?Object(g.jsxs)("div",{className:m.a["detail-left"],children:[Object(g.jsxs)("div",{className:"detail-header",children:[Object(g.jsx)("h2",{className:"name",children:o.name}),Object(g.jsx)("h3",{className:"alias",children:o.alias.map((function(e){return e}))}),Object(g.jsxs)("div",{className:"nav-wrap",children:[Object(g.jsx)("div",{className:"img-wrap",children:Object(g.jsx)("img",{src:o.picUrl,alt:""})}),Object(g.jsx)("div",{className:"artist-tabs",children:Object(g.jsx)(x.u,{type:"card",onChange:J,children:K})})]})]}),Object(g.jsxs)("div",{className:"detail-content",children:["desc"===s?Object(g.jsx)(N,{desc:C,intro:D,name:o.name}):null,"song"===s?Object(g.jsx)(P,{songs:k}):null,"mv"===s?Object(g.jsx)(Q,{total:o.mvSize,id:t}):null,"album"===s?Object(g.jsx)(U,{total:o.albumSize,id:t}):null]})]}):Object(g.jsx)(x.f,{image:Object(g.jsx)(v.IllustrationConstruction,{style:{width:150,height:150}}),darkModeImage:Object(g.jsx)(v.IllustrationConstructionDark,{style:{width:150,height:150}}),description:"\u4fe1\u606f\u4e22\u5931",style:{padding:30}})})}var T=n(1335),q=n.n(T);function B(e){var t=e.id,n=Object(c.useState)([]),a=Object(j.a)(n,2),s=a[0],i=a[1];return Object(c.useEffect)((function(){return Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.r)({id:t});case 2:200===(n=e.sent).code&&i(n.artists.splice(0,6));case 4:case"end":return e.stop()}}),e)})))(),function(){}}),[t]),Object(g.jsx)("div",{className:q.a["detail-right"],children:Object(g.jsxs)("div",{className:"artist-simi",children:[Object(g.jsx)("h3",{className:"title",children:"\u76f8\u4f3c\u6b4c\u624b"}),Object(g.jsx)("div",{className:"artist-content",children:s?s.map((function(e){return Object(g.jsxs)("div",{className:"artist-item",children:[Object(g.jsx)(C.b,{to:"/find/artist?id="+e.id,children:Object(g.jsx)("img",{src:e.picUrl,alt:""})}),Object(g.jsx)(C.b,{to:"/find/artist?id="+e.id,className:"name",children:e.name})]},e.id)})):null})]})})}function G(){var e=Object(i.h)(),t=l.a.parse(e.search).id;return Object(g.jsxs)("div",{className:s.a["artist-detail"],children:[Object(g.jsx)("div",{className:"left",children:Object(g.jsx)(A,{id:t})}),Object(g.jsx)("div",{className:"right",children:Object(g.jsx)(B,{id:t})})]})}}}]);
//# sourceMappingURL=16.c92c174a.chunk.js.map